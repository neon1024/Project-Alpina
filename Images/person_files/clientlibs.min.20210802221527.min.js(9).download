define("ds2-lightbox",["ds2-scroll","lazyload","ds2-layer-error","ds2-main","jquery","ds2-accessibility"],(function(t,e,i,s,o,n){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){var s,o;s=[e,i(1),i(2),i(3),i(4),i(5),i(6)],void 0===(o=function(t,e,i,s,o,n,l){"use strict";function d(t){return t&&t.__esModule?t:{default:t}}function r(t){this.element=t,this.$element=(0,n.default)(this.element),this.element.Lightbox=this,this.options={ANIMATION_TIMEOUT:500},this.accessibility=new l.default(t),this.eventIds={ready:"ds2-lightbox-ready",open:"ds2-lightbox-open",close:"ds2-lightbox-close",initialized:"ds2-lightbox-initialized"},this.events={close:new Event(this.eventIds.close),open:new Event(this.eventIds.open),initialized:new Event(this.eventIds.initialized)},this.domClasses={closeButton:".ds2-lightbox__close-button",closeLightboxButton:".ds2-lightbox__close",lightboxContainer:".ds2-lightbox__container",lightboxMiddle:".ds2-lightbox__middle",lightboxMiddleHide:".ds2-lightbox__middle--hide",scrollBar:".ds2-layer--scrollablepart",lightBoxVisible:"ds2-lightbox--open",scrollLock:"ds2-scrolllock",scrollLockIos:"ds2-scrolllock--ios",fadeIn:"ds2-lightbox--fade-in",fadeOut:"ds2-lightbox--fade-out",inTransition:"ds2-lightbox--transition"},this.create(this.init.bind(this)),this.initSlider(),this.moveLightboxToBottom(),this.addKeyboardSupport(),this.element.dispatchEvent(this.events.initialized)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=d(e),i=d(i),n=d(n),l=d(l),r.prototype.create=function(t){this.isAjax()?this.element.addEventListener(this.eventIds.ready,t):t()},r.prototype.init=function(){this.$body=(0,n.default)("body"),this.$html=(0,n.default)("html"),this.$main=(0,n.default)("main"),this.lightboxContainerElement=this.element.querySelector(this.domClasses.lightboxContainer),this.closeXButton=this.element.querySelector(this.domClasses.closeButton),this.closeButtons=this.$element.find(this.domClasses.closeButton),this.closeLightboxButtons=this.$element.find(this.domClasses.closeLightboxButton),this.lightboxMiddle=this.$element.find(this.domClasses.lightboxMiddle),this.scrollbarElement=this.$element.find(this.domClasses.scrollBar),this.scrollbarElement.length>0&&(this.scrollbar=new e.default(this.scrollbarElement[0])),this.closeButtons.on("click",this.closeLightbox.bind(this,!1)),this.closeLightboxButtons.on("click",this.closeLightbox.bind(this,!1))},r.prototype.openLightbox=function(t){const e=this;this.accessibility.setLastActiveElement(),this.$element.addClass(this.domClasses.lightBoxVisible),this.lockScroll(!0),this.scrollbar&&this.scrollbar.setBarPosition(),setTimeout(()=>{e.$element.addClass(this.domClasses.fadeIn),e.addScroll()},10),t&&(this.events.open.trigger=t),this.element.dispatchEvent(this.events.open);new i.default({container:this.element});this.accessibility.focusElement(this.lightboxContainerElement,!0),this.accessibility.activateKeyboardTrap({container:this.lightboxContainerElement,includeContainer:!0})},r.prototype.isOpen=function(){return this.$element.hasClass(this.domClasses.lightBoxVisible)},r.prototype.isSlider=function(){return"slider"===this.$element.data("lightbox-type")},r.prototype.isAjax=function(){return"ajax"===this.$element.data("is-ajax")},r.prototype.closeLightbox=function(t){this.$element.addClass(this.domClasses.fadeOut),setTimeout(()=>{this.$element.removeClass(this.domClasses.lightBoxVisible),this.$element.removeClass(this.domClasses.fadeOut),this.$element.removeClass(this.domClasses.fadeIn),t||this.lockScroll(!1),this.element.dispatchEvent(this.events.close)},this.options.ANIMATION_TIMEOUT),this.accessibility.focusLastActiveElement()},r.prototype.refreshLightbox=function(){this.init()},r.prototype.addScroll=function(){if(this.scrollbarElement)return;const t=this.element.querySelector(".ds2-layer--slider"),i=document.documentElement.clientHeight,s=Math.max(i,window.innerHeight||0),o=(0,n.default)(t).height();t&&o>s&&(this.scrollbar=new e.default(t))},r.prototype.moveLightboxToBottom=function(){!function(t,e){let i=t.parentNode;for(;i&&i!==e;)i=i.parentNode;return!!i}(this.element,document.getElementById("ng-app"))&&this.$main.length>0&&this.$main.append(this.element)},r.prototype.replaceLightbox=function(t){this.lightboxMiddle.addClass(this.domClasses.lightboxMiddleHide),this.$element.addClass(this.domClasses.inTransition),window.digitals2.main.openLayer(t);const e=this;setTimeout(()=>{e.$element.removeClass(this.domClasses.inTransition),e.closeLightbox(!0),e.lightboxMiddle.removeClass(this.domClasses.lightboxMiddleHide)},this.options.ANIMATION_TIMEOUT)},r.prototype.initSlider=function(){if(!this.isSlider())return;const t=this.$element.find(".ds2-slider"),e=this.$element.find(".slick-slider");this.$element[0].addEventListener(this.eventIds.opened,()=>{e.each((t,e)=>(0,n.default)(e).slick("refresh")),t.addClass("ds2-slider--slide-single-image opened")})},r.prototype.lockScroll=function(t){let e;e=t?"addClass":"removeClass",this.$body[e](this.domClasses.scrollLock),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&this.$html[e](this.domClasses.scrollLockIos)},r.prototype.addKeyboardSupport=function(){this.lightboxContainerElement&&this.closeXButton&&(this.accessibility.addKeyListener("up",{element:this.lightboxContainerElement,keyCodes:[this.accessibility.keyCodes.ESC],fn:()=>{this.closeXButton.click()}}),this.accessibility.addKeyListener("up",{element:this.closeXButton,keyCodes:[this.accessibility.keyCodes.ENTER],fn:()=>{this.closeXButton.click()}}))};var h=r;t.default=h}.apply(e,s))||(t.exports=o)},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e){t.exports=s},function(t,e){t.exports=o},function(t,e){t.exports=n}])}));