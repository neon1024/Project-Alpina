define("ds2-link",["jquery","ds2-video-layer-link","ds2-animation","ds2-accessibility","jquery-dotdotdot"],function(d,l,g,h){function k(a){var e=a.indexOf("?"),c=a.indexOf("#"),b=a,d="",f="";-1<e&&-1<c?(b=a.slice(0,e),d=a.slice(e,c),f=a.slice(c)):-1<e&&-1===c?(b=a.slice(0,e),d=a.slice(e)):-1===e&&-1<c&&(b=a.slice(0,c),f=a.slice(c));return{pathname:b,search:d,hash:f}}function b(a){if(a){this.$element=d(a);this.isParametersActive=this.$element.data("forwardparameters");this.options={linkTruncateClass:"ds2-ellipsis",
linkTruncateClassShort:"ds2-ellipsis-short",maxLineNumber:4,maxLineNumberShort:2};this.animation=new g;this.accessibility=new h(a);this.initTrigger();if(a=this.$element.data("lightboxTargetId")){var b=d('*[data-lightbox-id\x3d"'+a+'"]');if(b.length&&b[0].Lightbox)this.$element.on("click",function(){b[0].Lightbox.openLightbox(this.element)}.bind(this))}if(this.isParametersActive){a=this.checkRequestParams(window.location.href);var c=k(this.getHref());c.search?a=a.replace("?","\x26"):"";this.setHref(c.pathname+
c.search+a+c.hash)}}}b.prototype.initTrigger=function(){this.$element.hasClass(this.options.linkTruncateClass)?this.truncate(this.options.maxLineNumber):this.$element.hasClass(this.options.linkTruncateClassShort)&&this.truncate(this.options.maxLineNumberShort);this.animation.smoothScrollingToAnchorSamePage(this.$element)};b.prototype.truncate=function(a){a*=parseInt(this.$element.css("line-height"));d(this.$element).parent().dotdotdot({height:a,wrap:"letter",watch:!0,tolerance:12})};b.prototype.checkRequestParams=
function(a){return 0>=a.length||!~a.indexOf("?")?"":0<a.replace(/.*?\?/,"").split("\x26").length?a.slice(a.indexOf("?")):void 0};b.prototype.getHref=function(){var a=this.$element.attr("href");return a?a:""};b.prototype.setHref=function(a){this.$element.attr("href",a)};return b});