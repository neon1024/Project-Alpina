// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/launch-bc2c66d5dd0b.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2021-08-24T06:47:15Z",turbineBuildDate:"2021-08-11T20:25:49Z",turbineVersion:"27.2.0"},environment:{id:"EN29958f5199984bd5b6434818162d5ca7",stage:"production"},dataElements:{usabilla_restrict_keywords_url:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var t=["prueba","oferta","rfi","rfo","tda","my-bmw-start.html","dlo","rfc","my-bmw.html","panoramica","gamma","test-drive-now","bmw-cataloghi.html","offers-service","offres-et-services","toute-la-gamme","test-drive","forms/request.html","offers-and-services","tda-experience","contact","offerte","proefrit","berekenen","nieuwsbrief","online-afspraakplanner","aanvraag/contact","vakantieauto","brochure-prijslijst","my-bmw.html","accessoire-configurator","call-me-back.html","als-eerste-rijden"],s=0;s<t.length;s++)if(-1!==_satellite.getVar("URL").indexOf(t[s]))return!0;return!1}catch(e){var a={from:"Usabilla",type:"DE",name:"usabilla_restrict_keywords"};_satellite.logger.error(e,a)}}}},"AAM-partnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("AAM-initConfig");return t&&t.partner||""}catch(e){var s={from:"AA",type:"DE",name:"AAM-partnerID"};_satellite.logger.error(e,s)}}}},ev_cat_subCategory02:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1,s=e.event[t].category.subCategory02,a=_satellite.getVar("ev_cat_subCategory04"),r=_satellite.getVar("topLevelDomain");return s!=undefined&&""!=s||(s="Generic"),"bmw.com.tr"!=r&&"bmw.co.jp"!=r&&"bmw-antilles.fr"!=r||a!=undefined&&""!=a&&"not set"!=a&&(s="Campaign"),s}catch(n){}}}},flatMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(t){try{var s=_satellite.getVar("snapshotDL");t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",new Date,s.get(location.href,"page.pageInfo.destinationUrl");var a="stock > ";if("search"==s.get("event.-1.eventInfo.eventName")||"sl > search filter"==s.get("event.-1.eventInfo.eventName")){_satellite.logger.log("inside search filter khubruy");var r=s.get("event.-1.attributes.search",{});if(t.products="",0<r.length)for(var n in r)"undefined"!=typeof r[n].label&&(t.products+="search;search;;;;eVar30="+(r[n].unit||"")+"|eVar31="+(r[n].state||"")+"|eVar32="+(r[n].label||"")+"|eVar33="+(r[n].term||"")+",")}_satellite.getVar("setProductString")(t),t.server=location.hostname,t.linkTrackVars+="server,",t.prop45=s.get("component.-1.attributes.componentVersion"),t.linkTrackVars+="prop45,",t.eVar134=s.get("component.-1.attributes.touchpoint","web"),t.linkTrackVars+="eVar134,",t.prop41=s.get("component.-1.category.componentType"),t.linkTrackVars+="prop41,",t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.linkTrackVars+="prop42,",t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.linkTrackVars+="prop43,",t.prop44=s.get("component.-1.componentInfo.componentID"),t.linkTrackVars+="prop44,",t.prop19=-1!=window.location.href.indexOf("similarity")?"similarity-search":_satellite.getVar("AA-componentDefaultValues").componentName,t.linkTrackVars+="prop19,","not set"!=s.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(t.prop44=s.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")),t.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID",s.get("event.-1.attributes.linkedPage.pageInfo.pageID"))),t.linkTrackVars+="prop27,",t.eVar43=s.get("dealer.-1.attributes.selectionState"),t.linkTrackVars+="eVar43,",t.eVar41=s.get("dealer.-1.dealerInfo.dealerGroupName",s.get("dealer.-1.dealerInfo.dealerGroup")),t.linkTrackVars+="eVar41,",t.eVar42=s.get("dealer.-1.dealerInfo.dealerID",s.get("dealer.-1.dealerInfo.dealerGroupID")),t.linkTrackVars+="eVar42,",t.eVar39=s.get("dealer.-1.dealerInfo.dealerOutletName",s.get("dealer.-1.dealerInfo.dealerName")),t.linkTrackVars+="eVar39,",t.eVar40=s.get("dealer.-1.dealerInfo.outletID",s.get("dealer.-1.dealerInfo.dealerOutletID")),t.linkTrackVars+="eVar40,",t.prop17=s.get("event.-1.attributes.form.rfxID"),t.linkTrackVars+="prop17,","not set"!=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field missing"!=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field empty"!=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(t.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")),t.eVar71=s.get("event.-1.attributes.requestedURL"),t.linkTrackVars+="eVar71,",t.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.category.primaryCatergory")),t.linkTrackVars+="prop54,",t.prop50=s.get("event.-1.attributes.element"),t.linkTrackVars+="prop50,","form"==s.get("event.-1.eventInfo.eventName")&&(t.prop11=s.get("event.-1.category.primaryCategory"),t.linkTrackVars+="prop11,",t.prop7=s.get("event.-1.category.subCategory1"),t.linkTrackVars+="prop7,",t.prop8=s.get("event.-1.eventInfo.effect"),t.linkTrackVars+="prop8,",t.prop6=s.get("event.-1.eventInfo.type"),t.linkTrackVars+="prop6,"),t.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode",s.get("event.-1.solutionSpecific.slfavItemsNum",s.get("event.-1.attributes.searchResults",s.get("event.-1.category.subCategory01"))))),t.linkTrackVars+="prop55,",t.prop51=s.get("event.-1.category.subCategory2"),t.linkTrackVars+="prop51,","search"==s.get("event.-1.eventInfo.eventName")&&(t.prop24=s.get("event.-1.category.subCategory1",s.get("event.-1.category.subCategory01")),t.linkTrackVars+="prop24,",t.prop53=s.get("event.-1.eventInfo.type"),t.linkTrackVars+="prop53,"),t.prop52=s.get("event.-1.eventInfo.cause"),t.linkTrackVars+="prop52,",t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf(a)<0&&(t.eVar34=a+t.eVar34),t.linkTrackVars+="eVar34,",t.prop57=s.get("event.-1.eventInfo.eventAction"),t.linkTrackVars+="prop57,",t.prop56=s.get("event.-1.eventInfo.eventName"),t.linkTrackVars+="prop56,",s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):(t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.linkTrackVars+="prop58,"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.linkTrackVars+="prop12,",t.prop53=s.get("event.-1.eventInfo.type"),t.linkTrackVars+="prop53,",t.eVar23=s.get("event.-1.attributes.form.preferredComChannel",s.get("event.-1.attributes.form.preferredComChannel")),t.linkTrackVars+="eVar23,",t.eVar24=s.get("event.-1.attributes.searchResults"),t.linkTrackVars+="eVar24,",t.prop13=s.get("page.attributes.brand"),t.linkTrackVars+="prop13,",t.prop2=s.get("page.category.pageType"),t.linkTrackVars+="prop2,","form"==s.get("page.category.pageType")?(t.prop11=s.get("page.category.primaryCategory"),t.linkTrackVars+="prop11,",t.prop9=s.get("page.category.subCategory1"),t.linkTrackVars+="prop9,",t.prop10=s.get("page.category.subCategory2"),t.linkTrackVars+="prop10,"):"search"==s.get("page.category.pageType")&&(t.prop53=s.get("page.category.subCategory1"),t.linkTrackVars+="prop53,"),t.prop4=s.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.prop5=s.get("page.category.subCategory2"),t.linkTrackVars+="prop5,",t.prop46=s.get("page.pageInfo.author"),t.linkTrackVars+="prop46,",t.eVar7=s.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=-1<t.eVar7.indexOf("-")?t.eVar7.split("-")[0]:t.eVar7,t.linkTrackVars+="eVar7,",t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.linkTrackVars+="eVar8,",t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf(a)<0&&(t.prop1=a+t.prop1),t.pageName=t.prop1,t.linkTrackVars+="pageName,prop1,",t.eVar135=s.get("page.pageInfo.sysEnv"),t.linkTrackVars+="eVar135,",t.prop28=s.get("page.pageInfo.variant"),t.linkTrackVars+="prop28,",t.prop29=s.get("page.pageInfo.version"),t.linkTrackVars+="prop29,",t.prop59=s.get("product.-1.attributes.configID"),t.linkTrackVars+="prop59,",t.eVar19=s.get("user.-1.profile.-1.address.stateProvince"),t.linkTrackVars+="eVar19,",t.eVar20=s.get("user.-1.profile.-1.address.country"),t.linkTrackVars+="eVar20,",t.prop40=s.get("user.-1.profile.-1.attributes.loggedInStatus"),t.linkTrackVars+="prop40,",t.eVar21=s.get("user.-1.profile.-1.profileInfo.language"),t.linkTrackVars+="eVar21,",t.eVar17=s.get("user.-1.profile.-1.profileInfo.profileID"),t.linkTrackVars+="eVar17,",t.eVar15=s.get("user.-1.profile.-1.profileInfo.type"),t.linkTrackVars+="eVar15,",t.eVar16=s.get("user.-1.segment"),t.eVar16=t.eVar16&&"object"==typeof t.eVar16?"datalayer field empty":t.eVar16,t.linkTrackVars+="eVar16,",t.eVar136=s.get("version.version",t.version),t.linkTrackVars+="eVar136,",t.eVar122=s.get("page.attributes.currencyCode"),t.linkTrackVars+="eVar122,",t.eVar120=s.get("cart.cartID"),t.linkTrackVars+="eVar120,",t.eVar125=s.get("transaction.-1.transactionID"),t.linkTrackVars+="eVar125,"}catch(e){var o={from:"AA",type:"DE",name:"flatMapping"};_satellite.logger.error(e,o)}}}}},perfTime_hash:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==t?(jdata=JSON.parse(t),jdata.hash):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_hash : "+e),"na"}}}},"AAM-hasheducid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.location.toString(),s=new URL(t).searchParams.get("hucid");if(null!=s)return s}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"AA-languageAndMarketWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("topLevelDomain"),s={"bmw.com.al":"en-AL","bmw.dz":"fr-DZ","bmw.co.ao":"pt-AO","bmw.am":"en-AM","bmw.com.au":"en-AU","bmw.at":"de-AT","bmw.az":"ru-AZ","bmw.bs":"en-BS","bmw.bb":"en-BB","bmw.by":"ru-BY","bmw.bm":"en-BM","bmw.com.bo":"es-BO","bmw.ba":"hr-BA","bmw.com.br":"pt-BR","bmw.com.bn":"en-BN","bmw.bg":"bg-BG","bmw.com.ky":"en-KY","bmw.cl":"es-CL","bmw.com.cn":"zh-CN","bmw.com.co":"es-CO","bmw.co.cr":"es-CR","bmw.com.cy":"en-CY","bmw.cz":"cs-CZ","bmw.dk":"da-DK","bmw.com.do":"es-DO","bmw.com.ec":"es-EC","bmw-eg.com":"en-EG","bmw.com.sv":"es-SV","bmw.ee":"et-EE","bmw.fi":"fi-FI","bmw.fr":"fr-FR","bmw.com.ge":"en-GE","bmw.de":"de-DE","bmw-ghana.com":"en-GH","bmw.gr":"el-GR","bmw-antilles.fr":"fr-GP","bmw.com.gt":"es-GT","bmw.ht":"en-HT","bmw.hn":"es-HN","bmwhk.com":"en-HK","bmw.hu":"hu-HU","bmw.is":"en-IS","bmw.in":"en-IN","bmw.co.id":"en-ID","bmw-iraq.com":"en-IQ","bmw.ie":"en-IE","bmw.co.il":"iw-IL","bmw.it":"it-IT","bmwjamaica.com":"en-JM","bmw.co.jp":"ja-JP","bmw.kz":"ru-KZ","bmw.co.ke":"en-KE","bmw.co.kr":"ko-KR","bmw-lao.la":"en-LA","bmw.re":"fr-RE","bmw.lv":"lv-LV","bmw-lebanon.com":"en-LB","bmw.ly":"en-LY","bmw.lt":"lt-LT","bmw.com.mo":"en-MO","bmw.com.mk":"mk-MK","bmw.com.my":"en-MY","bmw.com.mt":"en-MT","bmw.mu":"en-MU","bmw.com.mx":"es-MX","bmw.md":"ro-MD","bmw-voli.me":"sr-ME","bmw.ma":"fr-MA","bmwmyanmar.com":"en-MM","bmw.nl":"nl-NL","bmw.nc":"fr-NC","bmw.co.nz":"en-NZ","bmw.com.ni":"es-NI","bmw-nigeria.com":"en-NG","bmw.no":"no-NO","bmw-pakistan.com":"en-PK","bmw.com.pa":"es-PA","bmw.com.py":"es-PY","bmw.com.pe":"es-PE","bmw.com.ph":"en-PH","bmw.pl":"pl-PL","bmw.pt":"pt-PT","bmw.ro":"ro-RO","bmw.ru":"ru-RU","bmw.lc":"en-LC","bmw.rs":"sr-RS","bmw.com.sg":"en-SG","bmw.sk":"sk-SK","bmw.si":"sl-SI","bmw.co.za":"en-ZA","bmw.es":"es-ES","bmw.lk":"en-LK","bmw.sr":"en-SR","bmw.se":"sv-SE","bmw-tahiti.com":"fr-PF","bmw.com.tw":"zh-TW","bmw.tt":"en-TT","bmw-tunisia.com":"fr-TN","bmw.com.tr":"tr-TR","bmw.ua":"uk-UA","bmw.co.uk":"en-GB","bmw.com.uy":"es-UY","bmw.vn":"vi-VN","bmw-m.com":"en-HQ","bmw.uz":"ru-UZ","bmw.com/en-au":"en-AU"},a=["en","nl","fr","pt","de","ru","es","hr","bg","zh","cs","da","et","fi","el","hu","iw","it","ja","ko","lv","lt","mk","ro","sr","nl","no","pl","ro","sk","sl","sv","th","tr","uk","vi"],r={"bmw.com.al":"AL","bmw.ca":"CA","bmw.be":"BE","bmw.dz":"DZ","bmw.co.ao":"AO","bmw.am":"AM","bmw.com.au":"AU","bmw.at":"AT","bmw.az":"AZ","bmw.bs":"BS","bmw.bb":"BB","bmw.by":"BY","bmw.bm":"BM","bmw.com.bo":"BO","bmw.ba":"BA","bmw.com.br":"BR","bmw.com.bn":"BN","bmw.bg":"BG","bmw.com.ky":"KY","bmw.cl":"CL","bmw.com.cn":"CN","bmw.com.co":"CO","bmw.co.cr":"CR","bmw.com.cy":"CY","bmw.cz":"CZ","bmw.dk":"DK","bmw.com.do":"DO","bmw.com.ec":"EC","bmw-eg.com":"EG","bmw.com.sv":"SV","bmw.ee":"EE","bmw.fi":"FI","bmw.fr":"FR","bmw.com.ge":"GE","bmw.de":"DE","bmw-ghana.com":"GH","bmw.gr":"GR","bmw-antilles.fr":"GP","bmw.com.gt":"GT","bmw.ht":"HT","bmw.hn":"HN","bmwhk.com":"HK","bmw.hu":"HU","bmw.is":"IS","bmw.in":"IN","bmw.co.id":"ID","bmw-iraq.com":"IQ","bmw.ie":"IE","bmw.co.il":"IL","bmw.it":"IT","bmwjamaica.com":"JM","bmw.co.jp":"JP","bmw.kz":"KZ","bmw.co.ke":"KE","bmw.co.kr":"KR","bmw-lao.la":"LA","bmw.re":"RE","bmw.lv":"LV","bmw-lebanon.com":"LB","bmw.ly":"LY","bmw.lt":"LT","bmw.lu":"LU","bmw.com.mo":"MO","bmw.com.mk":"MK","bmw.com.my":"MY","bmw.com.mt":"MT","bmw.mu":"MU","bmw.com.mx":"MX","bmw.md":"MD","bmw-voli.me":"ME","bmw.ma":"MA","bmwmyanmar.com":"MM","bmw.nl":"NL","bmw.nc":"NC","bmw.co.nz":"NZ","bmw.com.ni":"NI","bmw-nigeria.com":"NG","bmw.no":"NO","bmw-pakistan.com":"PK","bmw.com.pa":"PA","bmw.com.py":"PY","bmw.com.pe":"PE","bmw.com.ph":"PH","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.lc":"LC","bmw.rs":"RS","bmw.com.sg":"SG","bmw.sk":"SK","bmw.si":"SI","bmw.co.za":"ZA","bmw.es":"ES","bmw.lk":"LK","bmw.sr":"SR","bmw.se":"SE","bmw.ch":"CH","bmw-tahiti.com":"PF","bmw.com.tw":"TW","bmw.co.th":"TH","bmw.tt":"TT","bmw-tunisia.com":"TN","bmw.com.tr":"TR","bmw.ua":"UA","bmw.co.uk":"GB","bmw.com.uy":"UY","bmw.vn":"VN","bmw-m.com":"HQ","bmw.uz":"UZ","bmw.com/en-au":"AU"};if(-1<window.location.href.indexOf("bmw-bahrain.com/en/"))return"en-BH";if(-1<window.location.href.indexOf("bmw-bahrain.com/ar/"))return"ar-BH";if(-1<window.location.href.indexOf("bmw-dubai.com/en/"))return"en-AE";if(-1<window.location.href.indexOf("bmw-dubai.com/ar/"))return"ar-AE";if(-1<window.location.href.indexOf("bmw-jordan.com/en/"))return"en-JO";if(-1<window.location.href.indexOf("bmw-jordan.com/ar/"))return"ar-JO";if(-1<window.location.href.indexOf("bmw-kuwait.com/en/"))return"en-KW";if(-1<window.location.href.indexOf("bmw-kuwait.com/ar/"))return"ar-KW";if(-1<window.location.href.indexOf("bmw-me.com/en/"))return"en-MP";if(-1<window.location.href.indexOf("bmw-me.com/ar/"))return"ar-MP";if(-1<window.location.href.indexOf("bmw-oman.com/en/"))return"en-OM";if(-1<window.location.href.indexOf("bmw-oman.com/ar/"))return"ar-OM";if(-1<window.location.href.indexOf("bmw.ps/en/"))return"en-PS";if(-1<window.location.href.indexOf("bmw.ps/ar/"))return"ar-PS";if(-1<window.location.href.indexOf("bmw-qatar.com/en/"))return"en-QA";if(-1<window.location.href.indexOf("bmw-qatar.com/ar/"))return"ar-QA";if(-1<window.location.href.indexOf("bmw-saudiarabia.com/en/"))return"en-SA";if(-1<window.location.href.indexOf("bmw-saudiarabia.com/ar/"))return"ar-SA";if(-1<window.location.href.indexOf("bmw-yemen.com/en/"))return"en-YE";if(-1<window.location.href.indexOf("bmw-yemen.com/ar/"))return"ar-YE";if("bmw.ca"!=t&&"bmw.be"!=t&&"bmw.ch"!=t&&"bmw.lu"!=t&&"bmw.co.th"!=t)return s[t]||s[t+"/"+location.pathname.split("/")[1].toLowerCase()];for(var n=0;n<a.length;n++)if(-1<window.location.href.indexOf("/"+a[n]+"/")||-1<window.location.href.indexOf("."+a[n]+".")||-1<window.location.href.indexOf("/"+a[n]+"_")||-1<window.location.href.indexOf("/"+a[n]+"-"))return a[n]+"-"+r[t]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},pr_att_modelName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,s=e.product[t].attributes.modelName;return""==s&&(s="not set"),s}catch(a){return"not set"}}}},cookieDomainPeriods:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("topLevelDomain").split(".").length}catch(e){var t={from:"AA",type:"DE",name:"cookieDomainPeriods"};_satellite.logger.error(e,t)}}}},jcrPathLevel1:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=e.split("/"),s=1;if((s=s+6-1)<t.length)var a=t[s];else a="None";return-1<e.indexOf("/configurator")&&(a="Configurator"),a}catch(r){}}}},geoRegion:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL");if("undefined"!=typeof e.page)return e.page.pageInfo.geoRegion;var t=location.hostname.split("."),s=t[t.length-1];return s=s.toUpperCase()}catch(a){}}}},isAAMAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=_satellite.getVar("consentMap").AAM;return t.isTrackingAllowed(s).toString()}catch(e){var a={from:"AA",type:"DE",name:"isAAMAllowed"};_satellite.logger.error(e,a)}}}},isRegulationAccepted_Tags:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(){var e=_satellite.getVar("TPT-PII_keywords"),t=window.location.href.toLowerCase(),s=t.split("?")[1];if(/[\w-]+@([\w-]+\.)+[\w-]+/.test(t))return"false";if(s!=undefined)for(var a=0;a<e.length;a++)if(-1<s.indexOf(e[a]+"="))return"false";return"true"}try{var s=_satellite.getVar("KIT-helpers").privacyManager,a=_satellite.getVar("consentMap").Others;return"false"===s.isTrackingAllowed(a).toString()?"false":t()}catch(e){var r={from:"AA",type:"DE",name:"isRegulationAccepted_Tags"};_satellite.logger.error(e,r)}}}},Usabilla_vs_IgnitionOne:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.cookie.get("bmwdtm_hq_vs").slice(-2)<"20"?"Usabilla":"IgnitionOne"}catch(e){_satellite.logger.error("Error In: Usabilla_vs_IgnitionOne"+e)}}}},userConsent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s="~",r={GIVEN:"accepted",REVOKED:"rejected",UNKNOWN:"not-provided",NOT_APPLICABLE:"N/A"},n="true"===_satellite.getVar("splitConsentEnabled"),a={setter:function(e,t){this[t]=e},getter:function(e){var t=n?r.UNKNOWN:"gl"===e?r.UNKNOWN:r.NOT_APPLICABLE;return"uc_"+e+":"+(this[e]||t)},set analytics(e){this.setter(e,"an")},set advertising(e){this.setter(e,"ad")},set functional(e){this.setter(e,"fu")},set global(e){this.setter(e,"gl")},get analytics(){return this.getter("an")},get advertising(){return this.getter("ad")},get functional(){return this.getter("fu")},get global(){return this.getter("gl")},get value(){return this.analytics+s+this.advertising+s+this.functional+s+this.global}},o=function(){var e;if(n){var t=i("analytics"),s=i("advertising"),a=i("functional");t&&s&&a?e=!0:t||s||a||(e=!1)}else e=i();return void 0===e?r.UNKNOWN:e?r.GIVEN:r.REVOKED},i=function(e){return!0===t.isTrackingAllowed(e)?r.GIVEN:r.REVOKED};return!1===t.isCookieDrawerShown()&&(n&&(a.analytics=i("analytics"),a.advertising=i("advertising"),a.functional=i("functional")),a.global=o("global")),a.value}catch(e){var c={from:"AA",type:"DE",name:"userConsent"};return _satellite.logger.error(e,c),"analytics:error"+s+"advertising:error"+s+"functional:error"+s+"global:error"}}}},removePII:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function n(e){var t=[];if("string"==typeof e){var s=e.toLowerCase();i.forEach(function(e){-1!=s.indexOf(e)&&t.push(e)})}return t}function t(s){var a=[],r=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi");return c.forEach(function(t){Object.keys(s).forEach(function(e){0===e.indexOf(t)&&s[e]&&(n(s[e]).length||"string"==typeof s[e]&&s[e].match(r))&&a.push(e)})}),a}function a(e){var t=e,s=n(e);if(s.length)s.forEach(function(e){t=r(e,t)});else{var a=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi");if(e.match(a))return r("withoutVin",e)}return t}function r(e,t){var s,a,r=t.split("?")[0],n=-1!==t.indexOf("?")?t.split("?")[1]:"",o="?";if(n||(r=t.split("#")[0],o="#",n=-1!==t.indexOf("#")?t.split("#")[1]:""),""!==n){for(var i=(a=n.split("&")).length-1;0<=i;i--)a[i].split("=")[0].toLowerCase()===e&&a.splice(i,1);r=r+o+a.join("&")}if(-1!=r.toLowerCase().indexOf(e)&&(s=new RegExp("[a-z]"+e+"[a-z]","gi"),result=r.match(s),result||"email"===e&&1<document.location.pathname.split(e).length&&(1==document.location.href.split(o).length||document.location.href.split(o)[1]&&-1==document.location.href.split(o)[1].indexOf(e))||(r=r.toLowerCase().split(e)[0])),s=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),result=r.match(s),result)for(var c=0;c<result.length;c++)r=r.replace(result[c].slice(1),"potential_pii_removed");return r}function s(s){return t(s).forEach(function(e){var t=s[e];s[e]=a(t)}),s}function o(e){switch(typeof e){case"object":return s(e);case"string":return a(e);default:return Error("Not a valid parameter")}}try{var i=["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"],c=["eVar","prop","referrer","pageURL","pageName","channel","hier1"];return o}catch(e){var d={from:"AA",type:"DE",name:"removePII"};_satellite.logger.error(e,d)}}}},"AT-AffinityParams":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=function(e,t){for(var s=Object.keys(t),a=0;a<s.length;a++)if(new RegExp(s[a]).test(e))return!0;return!1},s=function(t,s){var a=function(){try{var t=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return t&&t.product&&t.product.length&&t.product[0].attributes&&t.product[0].attributes.bodyType||undefined}catch(e){}},r=function(){try{var t=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return t&&t.product&&t.product.length&&t.product[0].attributes&&t.product[0].attributes.mmdr||undefined}catch(e){}},n=function(e,t){var s=e.match(t);if(s)return s[6]?"Z":s[7]?"BMW i":(s[3]||s[5]||s[4]).toUpperCase()},o=function(e,t){if(e.match(t))return"M"},i=function(e,t){if(e.match(t))return"true"},c=function(e,t){for(var s=Object.keys(t),a=0;a<s.length;a++)if(new RegExp(s[a]).test(e))return t[s[a]]},d=s.listOfExceptions&&c(t,s.listOfExceptions)||{};return{"car-body-type":d["car-body-type"]||a(),"car-series":d["car-series"]||n(t,s.seriesRegex),"car-variant":d["car-variant"]||o(t,s.variantRegex),"is-electric":d["is-electric"]||i(t,s.electricRegex),"car-model":d["car-model"]||r()}},a={"bmw.co.uk":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d|X\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/i\d|#phev|#plug-in|#bmw-X1-xDrive25e|#X2_hybrid|#plug-in-hybrid/,listOfExceptions:{}},"bmw.it":{seriesRegex:/gamma.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/gamma\/(m).*/,electricRegex:/i\d|#phev|#f45_phev|#G30_hybrid|#G31_hybrid|#plug-in|#bmw-X1-xDrive25e|#plug-in-hybrid/,listOfExceptions:{"mondo-bmw/bmw-i/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"ix3/2020/highlight.html":{"car-series":"BMW i","is-electric":"true"},"x/X2/2020/tecnologia.html":{"car-series":"X2","is-electric":"true"},"m/bmw-z4-m40i/2019/bmw-m40i-highlight.html":{"car-series":"Z"},"x/X2/2020/highlight.html":{"car-series":"X2"}}},"bmw.fr":{seriesRegex:/tous-les-modeles.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/tous-les-modeles\/(m).*/,electricRegex:/i\d|phev|#G21_mildhybrid|#G30_hybrid|#X2_hybrid|#bmw-X1-xDrive25e/,listOfExceptions:{"x-series/X4/2018/apercu.html":{"car-series":"X4"},"/bmw-concept/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"x-series/iX3/2020/bmw-ix3-apercu.html":{"car-series":"iX3","is-electric":"true"}}},"bmw.ru":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/^$/,listOfExceptions:{}},"bmw.de":{seriesRegex:/neufahrzeuge.*(\/|bmw-)((\d)er|m(\d)|(x\d)|(z4)|(i\d))/,variantRegex:/neufahrzeuge\/m\//,electricRegex:/i\d|phev|#330e|#\/530e|#bmw-X1-xDrive25e|#x5-xdrive45e|elektromobilitaet/,listOfExceptions:{"/neufahrzeuge/m/m-240i-convertible/":{"car-series":"2","car-variant":"M"},"/topics/faszination-bmw/bmw-concept-cars/bmw-concept-i4-ueberblick.html":{"car-series":"BMW i"},"/topics/faszination-bmw(.*)elektromobilitaet/":{"is-electric":"true"}}}}[_satellite.getVar("topLevelDomain")],r=window.location.href,n=/neufahrzeuge|all-models|tous-les-modeles|gamma/.test(r)||a&&a.listOfExceptions&&t(r,a.listOfExceptions);return a&&n&&consentcontroller.api.isUsageAllowed("AdobeTargetPersonalization")?s(r,a):{}}catch(e){_satellite.logger.error("Error in Data element AT-AffinityParams-",e)}}}},pa_pag_pageTitle:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.pageInfo.pageTitle}catch(e){}}}},finalDataLayer:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==t){var s=t.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var a=s;0<a;a--)if("object"==typeof t.getPageObject(a).page&&"VCO"==t.getPageObject(a).page.category.primaryCategory){s=a;break}var r=t.getPageObject(s);if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&-1==r.pageInstanceId.indexOf("need-analyzer"))return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].category&&"stock locator"==r.component[0].category.subCategory01)return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].componentInfo&&"digital checkout solution"==r.component[0].componentInfo.componentName)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&0<r.product.length)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId)return r=t.getPageObject(0)}return window.digitalData&&window.digitalData.pages&&window.digitalData.activePageIndex?window.digitalData.pages[window.digitalData.activePageIndex]:undefined}catch(e){var n={from:"AA",type:"DE",name:"finalDataLayer"};_satellite.logger.error(e,n)}}}},pa_cat_primaryCategory:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.primaryCategory}catch(e){}}}},jcrPathLevel2:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_cat_subCategory01"),s=_satellite.getVar("pa_cat_primaryCategory"),a=e.split("/"),r=2;if((r=r+6-1)<a.length)var n=a[r];else n="None";return-1<e.indexOf("/configurator")&&(n="Configurator Page"),"VCO"===s&&(n=t),n}catch(o){}}}},ev_eve_eventName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventName}catch(s){}}}},pa_pag_language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.language,t=_satellite.getVar("topLevelDomain");return"bmw-m.com"!=t&&"bmw.com"!=t&&"bmw-yachtsport.com"!=t&&"bmw-motorsport.com"!=t&&"bmw-golfsport.com"!=t&&"bmw-special-sales.com"!=t&&"bmwbkk.de"!=t||(e=e.split("-")[0]+"-HQ"),e}catch(s){}}}},ev_eve_element:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.element}catch(s){}}}},pr_att_sellingPriceTotal:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,s=e.product[t].attributes.sellingPriceTotal;return""==s&&(s="not set"),s}catch(a){return"not set"}}}},isTargetAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=_satellite.getVar("consentMap").Target;return t.isTrackingAllowed(s).toString()}catch(e){var a={from:"AA",type:"DE",name:"isTargetAllowed"};_satellite.logger.error(e,a)}}}},Usabilla_success_events:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=["Form Success","Online TDA Booking Finish"],s=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return-1<t.indexOf(s)}catch(e){var a={from:"Usabilla",type:"DE",name:"Usabilla_success_events"};_satellite.logger.error(e,a)}}}},ev_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].category.subCategory01}catch(s){}}}},campaignParameter:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}try{var t={"bmw.ca":["tl"],"bmw-int2i.com":["tl"],"bmw.pt":["tl"],"bmw.co.id":["tl"],"bmw.com.mx":["tl"],"pml-bmw.com.sg":["tl"],"munichauto.com.sg":["tl"],"bmw.co.kr":["tl"],"bmw.ie":["tl"],"bmw.com.br":["tl"],"bmw.com.pa":["tl"],"bmw.com.py":["tl"],"bmw.com.co":["tl"],"bmw.com.pe":["tl"],"bmw.com.uy":["tl"],"bmw.com.gt":["tl"],"bmw.cl":["tl"],"bmw.co.cr":["tl"],"bmw.com.bo":["tl"],"bmw.com.ec":["tl"],"bmw.com.sv":["tl"],"bmw.com.ni":["tl"],"bmw.com.do":["tl"],"bmw.hn":["tl"],"bmw.com.ve":["tl"],"bmw.cw":["tl"],"bmw.bs":["tl"],"bmw.bb":["tl"],"bmw.com.ky":["tl"],"bmwjamaica.com":["tl"],"bmw.lc":["tl"],"bmw.tt":["tl"],"bmw.ht":["tl"],"bmw.com.ar":["tl"],"bmwlat.com":["tl"],"bmw.co.za":["tl"],"bmw.in":["tl"],"bmw.bg":["tl"],"bmw.gr":["tl"],"bmw.pl":["tl"],"bmw.hu":["tl"],"bmw.sk":["tl"],"bmw.si":["tl"],"bmw.ro":["tl"],"bmw.cz":["tl"],"bmw.co.jp":["tl"],"bmw.com.tr":["tl"],"bmw.com.au":["tl"],"bmw.fi":["tl"],"bmw.no":["tl"],"bmwhk.com":["tl"],"bmw.dk":["tl"],"bmw.se":["tl"],"bmw.ru":["tl"],"bmw.com.tw":["tl"],"bmw.lv":["tl"],"bmw.ee":["tl"],"next100.bmw":["tl"],"trgovec.bmw":["tl"],"testnavoznja.bmw":["tl"],"bmw.co.nz":["tl"],"bmw-asia.com":["tl"],"bmw.com.my":["tl"],"bmw.co.th":["tl"],"bmw.lk":["tl"],"bmw.com.ph":["tl"],"bmw-eg.com":["tl"],"bmw.am":["tl"],"bmw.vn":["tl"],"bmw.mu":["tl"],"bmw.com.al":["tl"],"bmw.ly":["tl"],"bmw.ua":["tl"],"bmw.com.bd":["tl"],"bmw.com.bn":["tl"],"bmw.com.ge":["tl"],"bmw.is":["tl"],"bmwmyanmar.com":["tl"],"bmw.co.il":["tl"],"bmw.cc":["tl"],"bmw-me.com":["tl"],"bmw.it":["tl"],"bmw-kuwait.com":["tl"],"bmw.com.cy":["tl"],"bmw.bm":["tl"],"bmw.com.mt":["tl"],"bmw-abudhabi.com":["tl"],"bmw-dubai.com":["tl"],"bmw.az":["tl"],"bmw.ba":["tl"],"bmw.be":["tl"],"bmw.dz":["tl"],"bmw.fr":["tl"],"bmw.hr":["tl"],"bmw-iraq.com":["tl"],"bmw.com.kz":["tl"],"bmw-lebanon.com":["tl"],"bmw.lu":["tl"],"bmw.md":["tl"],"bmw.nl":["tl"],"bmw-oman.com":["tl"],"bmw-pakistan.com":["tl"],"bmw-qatar.com":["tl"],"bmw.re":["tl"],"bmw-saudiarabia.com":["tl"],"bmw-tunisia.com":["tl"],"bmw.de":["tl"],"bmw.at":["tl"],"bmw.ch":["tl"],"bmw.es":["tl"],"bmw-lao.la":["tl"],"bmw-jordan.com":["tl"],"bmw-bahrain.com":["tl"],"bmw.ps":["tl"],
"bmw-yemen.com":["tl"],"bmw-tahiti.com":["tl"],"bmw-antilles.fr":["tl"],"bmw.mq":["tl"],"bmw.com.cn":["tl"],"bmw.nc":["tl"],"bmw.rs":["tl"],"bmw-voli.me":["tl"],"bmw.com.mk":["tl"],"bmw-yachtsport.com":["tl"],"bmw-golfsport.com":["tl"],"bmw-motorsport.com":["tl"],"bmw-m.com":["tl"],"bmw.com":["tl"],"bmw.co.ke":["tl"],"bmw-ghana.com":["tl"],"bmw-nigeria.com":["tl"],"bmw.co.ao":["tl"],"bmw.sr":["tl"],"bmw.com.mo":["tl"],"bmw-special-sales.com":["tl"],"bmw-pma.com.sg":["tl"],"bmw.co.uk":["tl"],"bmwbkk.de":["tl"],"bmw.com.sg":["tl"]},s=_satellite.getVar("topLevelDomain");if("undefined"!=typeof t[s])var a=t[s];else a=["tl"];for(var r="",n=0;n<a.length&&!(r=e(a[n]));n++);return r}catch(o){"true"==localStorage.getItem("sdsat_debug")&&_satellite.logger.error("SATELLITE: Campaign not tracked")}}}},"AA-Exclusionlist":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["eVar0","eVar4","eVar5","eVar7","eVar8","eVar12","eVar36","eVar6","eVar9","eVar10","eVar11","eVar13","eVar14","eVar17","eVar37","eVar38","eVar48","eVar59","eVar61","eVar62","eVar63","eVar64","eVar71","eVar120","eVar122","eVar125","eVar132","eVar142","eVar171","eVar172","prop17"]}}},"AAM-hashedid_cookie":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=["hashedid"],s=decodeURI(document.cookie).split(";"),a="";return s.forEach(function(e){for(console.log(e),i=0;i<t.length;i++)if(-1!=e.split("=")[0].indexOf(t[i])){a=e.split("=")[1];break}}),hashedid_cookie_clean=decodeURIComponent(a),hashedid_cookie_clean}catch(e){_satellite.logger.error("hashedid cookie Error ",e)}}}},clearCookies:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(){var e=window.location.hostname,t=e.split(".").reverse(),s=t[1]+"."+t[0];return-1<e.indexOf("www.bmw-int4.com")?s=".bmw-int4.com":(-1<e.indexOf(".co.")||-1<e.indexOf(".com.")&&2<t.length)&&(s=t[2]+"."+s),s}function s(){for(_satellite.logger.log("Clearing cookies from inside clearCookies data element.."),o=0;o<r.length;o++)_satellite.cookie.remove(r[o]),_satellite.cookie.remove(r[o],{domain:i})}try{for(var a,r=["s_vnum","s_cc","s_getNewRepeat","s_invisit","s_lv","s_lv_s","s_fid","s_sq","s_ptc","s_ppv","at_check","bmwdtm_hq_previouspage_meta","bmwdtm_hq_sid","bmwdtm_hq_cc","bmwdtm_hq_pp","bmwdtm_hq_pcg","bmwdtm_hq_vs","bmwdtm_hq_nav","bmwdtm_hq_epv","bmwdtm_hq_perf","bmwdtm_hq_csevent","bmwdtm_ru_campaign","bmwdtm_MO","AMCV_B52D1CFE5330949C0A490D45%40AdobeOrg","AMCVS_B52D1CFE5330949C0A490D45%40AdobeOrg","c5b3573c15461c7fb62c3c6af53d7ce46d446a36","bmwdtm_za_channel","bmwdtm_za_model","bmwdtm_za_date","bmwdtm_cs_utm","bmwdtm_cs_utm_req","bmwdtm_tr_mayfestProgrammatic","bmwdtm_tr_configuratorLandingTime","bmwdtm_ru_landingTime","bmwdtm_cn_campaigndata","bmwdtm_hq_userdata","bmwdtm_hq_SedanExperience","aam_uuid","mbox","mboxPC","mboxSession","tempNavigation","psyma_participation","daktela_chat_email","daktela_chat_session","daktela_chat_title","_em_t","_em_v","_em_vt","nmfirstparty","_mtruid","__lc.visitor_id","lc_window_state","__telemetric.v","__telemetric.s","bmnet","s3optout","s3timer","s3_AE","s3_AESess","s3_AR","s3_ARSess","s3noae","s3sess","evo5_popin_instance","tdid","cikneeto","cikneeto_uuid","tdid","campaign_complete","impressionsNo","LaSID","LaVisitorId","LaVisitorNew","LaRunningChat","LaUserDetails","LaEventId","gdt_flag","_ym_isad","_ym_uid","bmwdtm_hq_feedbackcomplete","mpt_vid","mpt_opted_out","visitorid","pageViewCount","time_spent","s_ppvl","aam_test","check","_gcl_au","_fbp","campaign_cookie","bmwdtm_HK","ces_status","_ga","IDE","mp_scr_","mp_scr_06","mp_scr_08","mp_scr_11","mp_scr_12","mp_scr_14","mp_scrActions","mp_scrPoints","ActivityInfo2","TargetInfo2","u2","cikneeto","cikneeto_uuid","_kuid_","anj","audience","AWSELB","bkdc","bkpa","bku","C","cid","CMID","CMPRO","CMPS","CMRUM3","CMST","data-rk","dsp_id","mako_uid","ONPLFTRH","pb","pxrc","r1","rlas3","sd-session-id","sec","sid","smd","tuuid","tuuid_lu","uid","um2","uuid2","visitor-id","zync-uuid","__qca","mc","n/a","dsp_id_1","evo5","evo5_BMW","evo5_BMW_popin","ione_MTA4MDYx","ionengagementscore","nmfp_evo5_BMW","nmfp_evo5_BMW_popin","_id","_ss","bs","cas","cdb0","cdb1","cdb2","cdb3","cdbp","d","dct_oba","evo5_CLIENT","evo5_CLIENT_popin","evo5_display","EVO5_MINI","evo5_MINI_popin","EVO5_OPT","evo5_popin_instance","f","iOne_","kanapr","nmfirstparty","nmfp_","nmfp_dsp_id","nmfp_evo5_MINI","nmfp_u","notrack","ss","t","ts","u","mt_misc","mt_mop","uuid","uuidc","TDCPM","TDID","beaconRetry","dtBW","dtcookie","dtLatC","dtPC","dtSa","dtsrE","dtsrTID","dtsrVID","ruxitagent","rxVisitId","rxVisitor","rxvt","MUID","MUIDB","__gads","_dc_gtm_UA-127190505-1","_gaexp","_gat","_gat_gtag_UA_","_gat_UA-","_gid","1P_JAR","eud","euds","glc","NID","rud","ruds","_ga1","_dc_gtm_UA-","1143061:session-data","cmd","eng_mt","rc::a","rc::b","rc::c","Cookie_B","lu","xs","c_user","m_user","pl","dblc","aks","aksb","sfau","ick","s","datr","sb","fr","oo","ddid","_fbc","dpr","gu","lh","L\xe4ndereinstellung","shopping_cart","wd","js_ver","rc","campaign_click_url","Checkpoint","lp","hckd","noscript","m_pixel_ratio","act","sfiu","m_ts","p","reg_ext_ref","ar","next","sW","reg_fb_gate","av","next_path","reg_fb_ref","dnonce","presence","a11y","reg_uniqid","rdir","i_user","x-referer","x-src","i_key","i_id","AA003","ATN","lang","bcookie","bscookie","UserMatchHistory","lidc","personalitation_id","personalization_id","psyma_participation","pageViewCount","usabilla_","time_spent","usbl.","_cs_c","_cs_s","_cs_id","GAD","Gdyn","bmw_chatbot_nlhyperchat_session","UserID1","_pk_uid","TCSess","_s3_cvar.","TCID","_s3_id.","_s3_id.19.","s3optout","_s3_ses.19.","_s3_ref.","_s3_ses.","xdt_143","_s3_ses.97.72cd","_s3_id.97.72cd","bmwdtm_perf","time_spent_adhoc","FACEBOOKWITHOUTANAME","_cs_vars","_cs_ex","_cs_optout","YouTubePlayer","dotaki.id","dotaki.idt","dotaki.time","dotaki.segment","_s3_cvar","_s3_id","_s3_ref","_s3_ses","criteo_cookie_perm","criteo_localstorage_check","criteo_write_test","cto_bundle","cto_clc","cto_idcpy","cto_idfs","cto_lwid","cto_optout","cto_sid","cto_sid_ack","cto_tld_test","eid","opt","optout","r.ack","zdi","unvisited","_em_lt","_em_dmp","_em_ft","_em_c3","_em_pc","_em_scf","_em_gc","_em_vi","_em_mb","baqend-speedkit-ab-test-info"],n=document.cookie.split(";"),o=0;o<n.length;o++)-1<(a=n[o].split("=")[0].substr(1)).indexOf("_s3")&&(r[r.length]=a),-1<a.indexOf("nmfp")&&(r[r.length]=a),-1<a.indexOf("_ym_viso")&&(r[r.length]=a),-1<a.indexOf("_sdsat")&&(r[r.length]=a);var i=t();s()}catch(e){var c={from:"AA",type:"DE",name:"clearCookies"};_satellite.logger.error(c,e)}}}},URL:{defaultValue:"URL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.href.substring(0,255);return e=e.toLowerCase()}catch(t){}}}},jcrPathLevel3:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_pag_pageName"),s=_satellite.getVar("pa_cat_primaryCategory"),a=e.split("/"),r=6,n=3;n=n+r-1;var o=a.length;if(n<o)var i=a[n];else i="None";return"newvehicles"!==a[r]&&"all-models"!==a[r]||(i=n<o?a[n]+" "+a[n+1]:"None"),-1<e.indexOf("/configurator")&&(i="None"),"VCO"===s&&(i=t),i}catch(c){}}}},pageInstanceId:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").pageInstanceId,t=e;return"-prod"==e.substr(e.length-5)&&(t=e.substr(0,e.length-5)),"-dev"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),"-int"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),6===t.split("/").length&&(t+="/index"),t}catch(s){}}}},"AAM-containerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("AAM-initConfig");return t&&t.containerNSID||""}catch(e){var s={from:"AA",type:"DE",name:"AAM-containerID"};_satellite.logger.error(e,s)}}}},targetModelsExclusion:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex()).product[0].attributes.mmdr;return-1<["F87","G80","G82","F90","G07","G08","G11","G14","G15","G16","G42","F92","F91","F93","F97","F98","F95","F96","i20","I20","G26","G23","G83","G26E","G26e"].indexOf(t)}catch(e){_satellite.logger.error("VisitorReco: Error in DE targetModelsExclusion"+e)}}}},ev_att_componentHeadline:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentHeadline}catch(s){}}}},consentMap:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"true"===_satellite.getVar("splitConsentEnabled")?{AdobeAnalytics:"AdobeAnalytics",Target:"AdobeTargetAnalytics",TargetPersonalization:"AdobeTargetPersonalization",AAM:"AdobeAudienceManager_DMP",campaignCookieTracking:"campaignCookieTracking"}:{AdobeAnalytics:"analytics",Target:"analytics",TargetPersonalization:"functional",AAM:"advertising",Others:"advertising",campaignCookieTracking:"campaignCookieTracking"}}catch(e){var t={from:"AA",type:"DE",name:"consentMap"};_satellite.logger.error(e,t)}}}},getIsPaidCampaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=JSON.parse(_satellite.cookie.get("visitor_aa_hits"));if(null!=t){if("paid_campaign"==t.user_type)return!0;if("undefined"==typeof s.campaign||"eml"!=s.campaign.substring(0,3)&&"Eml"!=s.campaign.substring(0,3)&&"coo"!=s.campaign.substring(0,3)&&"Coo"!=s.campaign.substring(0,3)&&"soc"!=s.campaign.substring(0,3)&&"Soc"!=s.campaign.substring(0,3)||-1==s.campaign.indexOf("-miy")&&-1==s.campaign.indexOf("-ccy")&&-1==s.campaign.indexOf("-fpy")&&-1==s.campaign.indexOf("-cmy")&&-1==s.campaign.indexOf("-pry")&&-1==s.campaign.indexOf("-cpa")&&-1==s.campaign.indexOf("-cpv")&&-1==s.campaign.indexOf("_paid")&&-1==s.campaign.indexOf("fpy")&&-1==s.campaign.indexOf("cmy")&&-1==s.campaign.indexOf("pry")&&-1==s.campaign.indexOf("cpa")&&-1==s.campaign.indexOf("cpv"))return!1;var a={user_type:"paid_campaign",aa_value:t.aa_value};return _satellite.cookie.set("visitor_aa_hits",JSON.stringify(a)),!0}if("undefined"==typeof s.campaign||"eml"!=s.campaign.substring(0,3)&&"Eml"!=s.campaign.substring(0,3)&&"coo"!=s.campaign.substring(0,3)&&"Coo"!=s.campaign.substring(0,3)&&"soc"!=s.campaign.substring(0,3)&&"Soc"!=s.campaign.substring(0,3)||-1==s.campaign.indexOf("-miy")&&-1==s.campaign.indexOf("-ccy")&&-1==s.campaign.indexOf("-fpy")&&-1==s.campaign.indexOf("-cmy")&&-1==s.campaign.indexOf("-pry")&&-1==s.campaign.indexOf("-cpa")&&-1==s.campaign.indexOf("-cpv")&&-1==s.campaign.indexOf("_paid")&&-1==s.campaign.indexOf("fpy")&&-1==s.campaign.indexOf("cmy")&&-1==s.campaign.indexOf("pry")&&-1==s.campaign.indexOf("cpa")&&-1==s.campaign.indexOf("cpv"))return a={user_type:"other",aa_value:1},_satellite.cookie.set("visitor_aa_hits",JSON.stringify(a)),!1;var a={user_type:"paid_campaign",aa_value:1};return _satellite.cookie.set("visitor_aa_hits",JSON.stringify(a)),!0}catch(e){var r={from:"AA",type:"DE",name:"getIsPaidCampaign"};_satellite.logger.error(e,r)}}}},"AAM-hashedemail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.location.toString(),s=new URL(t).searchParams.get("hemaid");if(null!=s)return s}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"AA-setFallbackValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var t=["eVar4","eVar5","eVar9","eVar11","eVar12","eVar13","eVar71","server","eVar7","eVar8","prop13","eVar36","eVar37","eVar38","pageType","prop1","prop2","prop3","prop4","prop5","prop12","prop14","prop15","prop27","prop28","prop29","prop19","prop41","prop42","prop43","prop44","prop45","prop60","prop61","prop63","prop64","prop71","prop74"],a=0;a<t.length;a++)s[t[a]]||(s[t[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(t[a]+",")&&(s.linkTrackVars+=","+t[a]);var r=["eVar6","eVar14","eVar28","eVar29","prop31","prop32","prop33"];for(a=0;a<r.length;a++)s[r[a]]||(s[r[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(r[a]+",")&&(s.linkTrackVars+=","+r[a]);var n=["eVar120","eVar122","eVar123","eVar125"];for(a=0;a<n.length;a++)s[n[a]]||(s[n[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(n[a]+",")&&(s.linkTrackVars+=","+n[a]);var o=["prop6","prop7","prop8","prop9","prop10","prop11","prop17","prop18","prop23","prop40","prop51","prop52","prop53","prop54","prop55","prop56","prop57","prop59","prop69","eVar34","eVar59"];for(a=0;a<=o.length;a++)s[o[a]]||(s[o[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(o[a]+",")&&(s.linkTrackVars+=","+o[a]);var i=["prop24","prop34","prop35","prop36","prop37","prop38","prop39","prop46","prop47","prop48","prop49","prop50","prop65","prop66","prop67","prop72","prop73","eVar18","eVar22","eVar136","eVar137","eVar138","eVar151","eVar152","eVar153","eVar154","eVar155","eVar156","eVar157","eVar158","eVar159","eVar160"];for(a=0;a<=i.length;a++)s[i[a]]||(s[i[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(i[a]+",")&&(s.linkTrackVars+=","+i[a]);var c=["eVar35","eVar39","eVar40","eVar41","eVar42","eVar43","eVar76","eVar77","eVar78","eVar79","eVar132","eVar134","eVar135","eVar142","eVar175","eVar199","campaign","eVar61","eVar63","eVar64","eVar171","eVar172","eVar15","eVar16","eVar17","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar26","eVar27","eVar131","eVar133","eVar191","eVar192","eVar193","eVar194","eVar197","eVar199","eVar200","prop75"];for(a=0;a<=c.length;a++)!s[c[a]]||"datalayer field missing"!=s[c[a]]&&"datalayer field empty"!=s[c[a]]||delete s[c[a]]}catch(e){var d={from:"AA",type:"DE",name:"AA-mapAllDimensions"};_satellite.logger.error(e,d)}}}},hierarchyEvar:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),s=_satellite.getVar("jcrPathLevel3"),a=_satellite.getVar("pageName"),r=_satellite.getVar("pa_pag_pageName"),n=[e,t,s],o=3;-1<s.indexOf("None")&&(o=2),-1<t.indexOf("None")&&(o=1),-1<e.indexOf("None")&&(o=0);for(var i="",c=0;c<o;c++){for(var d="",l=0;l<=c;l++)d+=n[l]+" > ";i+=(d=d.substring(0,d.length-3))+"|"}for(c=o;c<3;c++)i+=d+"|";return i+=a,i+="|"+r}catch(u){}}}},ev_att_componentName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentName}catch(s){}}}},"AA-localCampaignVariable":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}try{for(var s=["mz_ca","mz_sp"],a=(_satellite.getVar("topLevelDomain"),""),r=0,n=0;n<s.length;n++)t(s[n])?a+=t(s[n])+"|":(a+="no value|",r++);return a=2==r?"":a.slice(0,-1)}catch(e){var o={from:"AA",type:"DE",name:"AA-localCampaignVariable"};_satellite.logger.error(e,o)}}}},ev_eve_eventAction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventAction||""}catch(s){}}}},"AA-contextData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){var e=new Date,t=e.getUTCFullYear().toString(),s=(e.getUTCMonth()+1).toString(),a=e.getUTCDate().toString(),r=document.location.hostname.split(".").pop().toUpperCase();return base_context=t+"_"+s+"_"+a+"_"+r,base_context+"_A,"+base_context+"_W,"+base_context+"_I,"+base_context+"_E"}}catch(e){var t={from:"AA",type:"DE",name:"AA-contextData"};_satellite.logger.error(e,t)}}}},hierarchy:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),s=_satellite.getVar("jcrPathLevel3"),a=_satellite.getVar("pageName"),r=[e,t,s],n=3;-1<s.indexOf("None")&&(n=2),-1<t.indexOf("None")&&(n=1),-1<e.indexOf("None")&&(n=0);for(var o="",i=0;i<n;i++)o+=r[i]+"|";return o+=a}catch(c){}}}},ev_eve_cause:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.cause}catch(s){}}}},"AA-doNotTrack":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["sales > dcs: entry","stocklocator"]}}},"AT-property":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").cache;if(t.get("AT-property"))return t.get("AT-property");var s={"bmw.co.za":"08d747c0-6d3b-df18-bfb9-b24468cafd0d","bmw.de":"08ab7353-eddd-5a23-5029-8db5a0795efa","bmw.it":"14a7eacb-d9ed-139b-3740-1715a4324a87","bmw.nl":"a32b2cb6-0d0b-bd0d-b61b-117ae1c93e2a","bmw.fr":"c63e9226-164f-68ce-6a77-04714d861534","bmw.es":"5f6624f7-b481-68c5-89ec-2f7c6df01e47","bmw.co.kr":"265709a7-eeba-c737-64b2-0bf051f21cb7","bmw.co.jp":"3ff9d062-6800-4a61-0e57-9d03be4a750d","bmw.ru":"932155db-25c4-5f53-1e6a-420ea418566a","bmw.com.cn":"ed0ef1ce-ea2a-0bc5-23cf-807e84e8fc28","bmw.se":"5fec81b0-d53d-f0c2-76ab-2563557abf59","bmw.com.tr":"71b3a365-8c33-0b8c-f7ef-5d307dde0ea4","bmw.at":"0cf18719-6a28-12fe-562a-a61a9a1d2c3c","bmw.com.mx":"3ecca491-698c-851a-9b1f-0cc5efe31d99","bmw.pl":"ca83460d-3364-fbeb-443a-808a2d6d290f","bmw.ca":"240a98d1-97d2-4caf-069b-db1ed515c04e","bmw.be":"a2e280c3-8caf-d7e3-7dd2-7f9097e49c22","bmw.co.uk":"0c9cfadf-3753-7304-c045-49d4d0616e83","bmw.com/en-au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","bmw.com.au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada"},a=s[_satellite.getVar("topLevelDomain")]||s[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"";return t.set("AT-property",a),a}catch(e){var r={from:"AA",type:"DE",name:"AT-property"};_satellite.logger.error(e,r)}}}},"TPT-PII_keywords":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"]}}},setUserTypeForReco:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("true"===_satellite.getVar("isAdobeAnalyticsAllowed")){var t,s=_satellite.cookie.get("s_lv_s"),a=window.epaas.api.getPersistence("v_reco_data");t=s&&"First Visit"!==s?"returning":"new",(a=a?JSON.parse(a):{}).user=t,window.epaas.api.setPersistence("v_reco_data",JSON.stringify(a))}}catch(e){_satellite.logger.error(e)}}}},snapshotDL:{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js",settings:{dataLayerSnapshot:null}},"ECID-previousPermissions":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.adobe.OptInCategories,s={};return s[t.ECID]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),s[t.ANALYTICS]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),s[t.TARGET]="true"==_satellite.getVar("isTargetAllowed"),s[t.AAM]="true"==_satellite.getVar("isAAMAllowed"),s}catch(e){var a={from:"AA",type:"DE",name:"ECID-previousPermissions"};_satellite.logger.error(e,a)}}}},campaign:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tl",caseInsensitive:!0}},"AA-subCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.subCategory01"}}},server:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},pa_pag_referringUrl:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.referringUrl;return e=e.toLowerCase()}catch(t){}}}},"AAM-initConfig":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t={"bmw.co.za":{containerNSID:4},"bmw.it":{containerNSID:6},"bmw.de":{containerNSID:1},"bmw.co.uk":{containerNSID:19},"bmw.fr":{containerNSID:21},"bmw.co.jp":{containerNSID:23},"bmw.es":{containerNSID:26},"mini.de":{containerNSID:3},"mini.it":{containerNSID:8},"mini.fr":{containerNSID:22}};return a=_satellite.getVar("topLevelDomain"),r={partner:"bmwag",containerNSID:0,uuidCookie:{name:"aam_uuid",days:30,domain:_satellite.getVar("topLevelDomain")},visitorService:{namespace:"B52D1CFE5330949C0A490D45@AdobeOrg"}},(n=t[a])&&(n.partner=n.partner||r.partner,n.containerNSID=n.containerNSID||r.containerNSID,n.uuidCookie=n.uuidCookie||r.uuidCookie,n.visitorService=n.visitorService||r.visitorService),n}catch(e){var s={from:"AA",type:"DE",name:"AAM-initConfig"};_satellite.logger.error(e,s)}var a,r,n}}},perfTime_url:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==t?(jdata=JSON.parse(t),jdata.path):""}catch(e){return _satellite.logger.error("Error in Data Element perfTime_url: "+e),"na"}}}},"Trigger-pageLoadTPT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){var t,s="re-trigger-third-party";_satellite.logger.log('An attempt to trigger the page load TPTs is made from - "'+e+'"'),_satellite.getVar("haveTPTsTriggered")?_satellite.logger.log("Page load TPTs have already been triggered, hence will not be re-trigerred"):("function"==typeof Event?t=new Event(s):(t=document.createEvent("Event")).initEvent(s,!0,!0),t.detail={processing:_satellite.getVar("consentMap").Others},_satellite.logger.log("Triggering the page load TPTs successfully"),document.body.dispatchEvent(t),_satellite.setVar("haveTPTsTriggered",!0))}}catch(e){var t={from:"AA",type:"DE",name:"Trigger-pageLoadTPT"};_satellite.logger.error(e,t)}}}},pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=(_satellite.getVar("pa_pag_pageName"),_satellite.getVar("pa_cat_primaryCategory")),s=[_satellite.getVar("jcrPathLevel1"),_satellite.getVar("jcrPathLevel2"),_satellite.getVar("jcrPathLevel3")],a=e.split("/"),r=6,n=a.length,o="";for(c=r;c<n;c++)o+=a[c]+" > ";if(o=o.substring(0,o.length-3),"VCO"===t){for(var i="",c=0;c<3;c++)i+=s[c]+" > ";o=i=i.substring(0,i.length-3)}return o=o.replace(/-prod/g,"")}catch(d){}}}},usabilla_randomizer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",s=_satellite.getVar("topLevelDomain").split("."),a=s[s.length-1].toUpperCase();"UK"==a&&(a="GB"),"COM"==a&&-1<window.location.href.indexOf("bmw.com/en-au/")&&(a="AU");var r,n=["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA","MX","TR","PL"],o={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:5,Psyma:25,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:10,Psyma:46,Other:19}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:13,CES:5,Psyma:0,Other:82}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:10,Psyma:46,Other:34}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:5,Psyma:0,Other:15}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:5,Psyma:0,Other:69}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:10,Psyma:0,Other:75}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:10,Psyma:0,Other:65}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:10,Psyma:0,Other:70}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:75,CES:10,Psyma:0,Other:15}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:15,Psyma:0,Other:0}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:10,Psyma:0,Other:40}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}},i=((m=_satellite.cookie.get("bmwdtm_hq_vs"))==undefined&&(m=Math.floor(Date.now()/1e3),-1<n.indexOf(a)&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&_satellite.cookie.set("bmwdtm_hq_vs",m,{domain:_satellite.getVar("topLevelDomain")})),void 0!==_satellite.cookie.get("bmwdtm_hq_vs")&&null!=_satellite.cookie.get("bmwdtm_hq_vs")&&(b=_satellite.cookie.get("bmwdtm_hq_vs").slice(-2)),b=+b);if(("NPS"==(r=o[a]?function(e,t,s,a,r){if(t+s+a+r==100)return 0<=e&&e<t?"NPS":t<=e&&e<t+s?"CES":t+s<=e&&e<t+s+a?"PSYMA":t+s+a<=e&&e<t+s+a+r?"NO-SURVEY":void 0}(i,o[a].random.NPS,o[a].random.CES,o[a].random.Psyma,o[a].random.Other):"NO-SURVEY")||"CES"==r)&&-1<n.indexOf(a)){var c,d,l=null!=localStorage.getItem("usbl."+o[a].buttonCode[t]+".c."+o[a].NPS[t]),u=null!=localStorage.getItem("usbl."+o[a].buttonCode[t]+".c."+o[a].CES[t]);return c=!l||"T"!=localStorage.getItem("usbl."+o[a].buttonCode[t]+".c."+o[a].NPS[t]).split("/")[0],d=!u||"T"!=localStorage.getItem("usbl."+o[a].buttonCode[t]+".c."+o[a].CES[t]).split("/")[0],c&&d&&-1<n.indexOf(a)&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")?r:"NO-SURVEY"}return r}catch(e){_satellite.logger.error(e)}var b,m}}},isAAAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=_satellite.getVar("consentMap").AdobeAnalytics;return t.isTrackingAllowed(s).toString()}catch(e){var a={from:"AA",type:"DE",name:"isAAAllowed"};_satellite.logger.error(e,a)}}}},setDefaultProductVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){return-1<e.indexOf("gasoline")?-1<e.indexOf("hybrid")?"x":"o":-1<e.indexOf("diesel")?-1<e.indexOf("hybrid")?"y":"d":-1<e.indexOf("electric")?"e":-1<e.indexOf("petrol")?"b":e}try{var a=_satellite.getVar("snapshotDL"),r=_satellite.getVar("productBuilder"),n=(window.location.href,a.get("product.-1.productInfo.productID")),o=a.get("product.-1.attributes.bodyType"),i=a.get("product.-1.attributes.fuelType"),c=a.get("product.-1.attributes.hybridVersion"),d=a.get("product.0.category.primaryCategory"),l=(a.get("product.-1.productInfo.manufacturer"),a.get("product.-1.attributes.mmdr")),u=(a.get("product.-1.attributes.modelName"),a.get("product.-1.attributes.modelCode")),b=(a.get("product.-1.attributes.modelCodeAG"),a.get("product.-1.productInfo.productName")),m=a.get("product.-1.attributes.series"),f=["vehicle","service","search","accessory"],p=l,g=a.get("product.-1.attributes.motorization",a.get("product.-1.attributes.engine"));if(g){var v=/[0-9]{3}[a-z]{1}/i,h=/xdrive[0-9]{2}[a-z]{1}/i,P=/sdrive[0-9]{2}[a-z]{1}/i,C=g.match(v)||g.match(h)||g.match(P);-1<g.indexOf("i3 (120 ah)")||-1<g.indexOf("i3 (120ah)")||-1<g.indexOf("i3 120ah")?g="i3 (120 ah)":-1<g.indexOf("i3s (120 ah)")||-1<g.indexOf("i3s (120ah)")||-1<g.indexOf("i3s 120ah")?g="i3s (120 ah)":C&&C.length&&(g=C[0].toUpperCase())}var j=a.get("product.-1.attributes.gearing");"automatic"==(j=j.toLowerCase())||"manual"==j||(-1<j.indexOf("autom")||-1<j.indexOf("steptronic")?j="automatic":(-1<j.indexOf("manu")||-1<j.indexOf("schaltgetriebe"))&&(j="manual")),"CA"==(o=a.get("product.-1.attributes.bodyType"))?o="CAB":"HB"==o?o="CLU":"KO"==o?o="COM":"CO"==o||"CP"==o?o="COU":"GF"==o?o="GFZ":"HB"==o||"SH"==o?o="SHA":"LI"==o?o="LIM":"MP"==o?o="MPV":"RO"==o?o="ROA":"SC"==o?o="SAC":"ST"==o?o="SAT":"GF"==o?o="SAV":"HC"==o?o="SHA":"TO"==o&&(o="TOU"),r.id=n,a.get("product.-1.attributes.sellingPriceTotal","0"),"new car"==d||"used car"==d||"New Car"==d||"New car"==d?(r.category="vehicle",basePriceVehicle=a.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceVehicle","0")):"accessories"==d?(r.category="accessory",basePriceVehicle=a.get("product.-1.attributes.basePriceOptions","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceOptions","0")):"forms"==d?(r.category="vehicle",r.id=u,basePriceVehicle=a.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceVehicle","0")):-1<f.indexOf(d)?(r.category=d,basePriceVehicle=a.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceVehicle","0")):r.category="datalayer field missing";var R={eVar10:p,eVar44:a.get("product.-1.attributes.productionYear"),eVar45:a.get("product.-1.attributes.yearOfRegistration"),eVar46:a.get("product.-1.attributes.vehicleSelection",a.get("product.-1.attributes.vehicleStatus")),eVar47:a.get("product.-1.productInfo.color"),eVar48:u,eVar49:a.get("product.-1.attributes.gearing"),eVar50:m,eVar51:o,eVar52:b,eVar53:a.get("product.-1.category.primaryCategory"),eVar54:a.get("product.-1.category.subCategory01",a.get("product.-1.category.subCategory1")),eVar55:a.get("product.-1.category.subCategory02",a.get("product.-1.category.subCategory2")),eVar56:t(i),eVar57:c,eVar58:g,eVar65:a.get("product.-1.attributes.modelName"),eVar66:a.get("product.-1.attributes.trimLevel"),eVar69:a.get("product.-1.attributes.modelCodeAG"),eVar121:a.get("cart.price.voucherCode",a.get("transaction.total.voucherCode")),eVar124:a.get("cart.price.taxRate",a.get("transaction.total.taxRate")),eVar126:a.get("cart.price.shippingMethod",a.get("transaction.total.shippingMethod"))};r.merchEvars=R;var y=[];return y.push("event851=0"),y.push("event852=0"),y.push("event853=0"),y.push("event854=0"),y.push("event855=0"),y.push("event856=0"),y.push(
"event857=0"),y.push("event858=0"),r.events=y,s.events=s.apl(s.events,"event851,event852,event853,event854,event855,event856,event857,event858"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event851,event852,event853,event854,event855,event856,event857,event858"),s.prop59=a.get("product.-1.attributes.configID"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar67,eVar121,eVar124,eVar126"),r}catch(e){var w={from:"AA",type:"Data Element",name:"setDefaultProductVariables"};_satellite.logger.error(e,w)}}}},isAdobeAnalyticsAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=_satellite.getVar("consentMap").AdobeAnalytics;return t.isTrackingAllowed(s).toString()}catch(e){var a={from:"AA",type:"DE",name:"isAdobeAnalyticsAllowed"};_satellite.logger.error(e,a)}}}},pa_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.subCategory01}catch(e){}}}},pr_att_mmdr:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(0==e.product.length)return"";var t=e.product.length-1;return e.product[t].attributes.mmdr}catch(s){}}}},"AA-componentDefaultValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("snapshotDL").get("pageInstanceId").split("/"),s={primaryCat:"nsc website",subCat:t[6]||"content",componentName:t[7]};switch(s.subCat.toLowerCase()){case"index-prod":s.subCat="content",s.componentName="homepage";break;case"all-models":s.subCat="showroom";break;case"all-models-prod":s.subCat="content",s.componentName="all-models-prod";break;case"topics":s.subCat="topics";break;case"ssl":"requests"===t[7]?(s.subCat="forms",s.componentName="Target: Visitor Reco"===_satellite.getVar("snapshotDL").get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"Target: Visitor Reco":t[8]):s.subCat="content";break;case"stocklocator-prod":s.primaryCat="stock locator",s.componentName="new car stock locator";break;case"usedcar-prod":s.componentName="used car";break;case"rakenna-oma-bmw-prod":case"bygg-din-bmw-prod":s.componentName="configurator all models";break;default:if(RegExp("^[c|k]onf.*prod$").test(s.subCat.toLowerCase()))s.componentName="configurator all models";else{var a=_satellite.getVar("snapshotDL");s.componentName=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.componentName)}}return s}catch(e){var r={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,r)}}}},lastTwoDigitsOfMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){return Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().slice(-2).toString()}}catch(e){var t={from:"AA",type:"DE",name:"lastTwoDigitsOfMID"};_satellite.logger.error(e,t)}}}},"AAM-dummyPartnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return undefined}}},"AA-SearchAds360Parameter":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}try{var s={"bmw.de":["gclid"],"bmw.at":["gclid"]},a=_satellite.getVar("topLevelDomain");if("undefined"!=typeof s[a])var r=s[a];var n="";if("bmw.de"==a||"bmw.at"==a)for(var o=0;o<r.length&&!(n=t(r[o]));o++);return n}catch(e){var i={from:"AA",type:"DE",name:"SearchAds360Parameter"};_satellite.logger.error(e,i)}}}},"AAM-emailid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=document.querySelector("#email").value;if(1==/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t))return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"AA-currencyCode":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").cache;if(t.get("currencyCode"))return t.get("currencyCode");var s={"bmw.co.za":"ZAR","bmw.com.ar":"ARS","bmw.at":"EUR","bmw.com.au":"AUD","bmw.be":"EUR","bmw.bg":"BGN","bmw.com.br":"BRL","bmw.ca":"CAD","bmw.ch":"CHF","bmw.com.cn":"CNY","bmw.cz":"CZK","bmw.de":"EUR","bmw.dk":"DKK","bmw.es":"EUR","bmw.fi":"EUR","bmw.fr":"EUR","bmw.co.uk":"GBP","bmw.gr":"EUR","bmw.hu":"HUF","bmw.co.id":"IDR","bmw.ie":"EUR","bmw.in":"INR","bmw.is":"ISK","bmw.it":"EUR","bmw.co.jp":"JPY","bmw.co.kr":"KRW","bmw.lu":"EUR","bmw.com.mx":"MXN","bmw.com.my":"MYR","bmw.nl":"EUR","bmw.no":"NOK","bmw.co.nz":"NZD","bmw.pl":"PLN","bmw.pt":"EUR","bmw.ro":"RON","bmw.ru":"RUB","bmw.se":"SEK","bmw.si":"EUR","bmw.sk":"EUR\t","bmw.co.th":"THB","bmw.com.sg":"SGD","bmw.com/en-au":"AUD","mini.de":"EUR","mini.fr":"EUR","mini.it":"EUR","mini.ch":"CHF","mini.at":"EUR"},a=s[_satellite.getVar("topLevelDomain")]||s[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"EUR";return t.set("currencyCode",a),a}catch(e){var r={from:"AA",type:"DE",name:"AA-currencycode"};_satellite.logger.error(e,r)}}}},productBuilder:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=function(){this.id=undefined,this.category=undefined,this.merchEvars={},this.events=[],this.quantity=undefined,this.price=undefined,this.load=[]};return t.prototype.toString=function(){try{var t="";for(var s in this.merchEvars)Object.prototype.hasOwnProperty.call(this.merchEvars,s)&&(-1!=_satellite.getVar("AA-Exclusionlist").indexOf(s)?t+=s+"="+(this.merchEvars[s]||"")+"|":t+=s+"="+(this.merchEvars[s].toString()||"").toLowerCase()+"|");t.length&&(t=t.substring(0,t.length-1));var a=this.category||"";a+=";"+(this.id||""),a+=";"+(this.quantity||""),a+=";"+(this.price||""),a+=";"+(this.events?Array.isArray(this.events)?this.events.join("|"):this.events:""),a+=";"+(t||"");for(var r="",n=0;n<this.load.length;n++)r+=","+this.load[n].toString();return a+=r}catch(e){var o={from:"AA",type:"DE",name:"productBuilder->toString"};_satellite.logger.error(e,o)}},t.prototype.append=function(e){if(Array.isArray(e))this.load=this.load.concat(e);else{if("object"!=typeof e)throw new Error("Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances");this.load.push(e)}},new t}catch(e){var s={from:"AA",type:"DE",name:"productBuilder"};_satellite.logger.error(e,s)}}}},searchDefaultProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"eVar10=datalayer field empty|eVar44=datalayer field missing|eVar45=datalayer field missing|eVar46=datalayer field missing|eVar47=datalayer field missing|eVar48=datalayer field missing|eVar49=datalayer field missing|eVar50=datalayer field missing|eVar51=datalayer field missing|eVar52=datalayer field missing|eVar53=datalayer field missing|eVar54=datalayer field missing|eVar55=datalayer field missing|eVar56=datalayer field missing|eVar57=datalayer field missing|eVar58=datalayer field missing|eVar65=datalayer field missing|eVar66=datalayer field missing|eVar69=datalayer field missing|eVar121=datalayer field missing|eVar124=datalayer field missing|eVar126=datalayer field missing|"}}},"AA-eventType":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.type"}}},"AA-languageWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("topLevelDomain"),s={"bmw.co.za":"ZA","bmw.com.ar":"AR","bmw.at":"AT","bmw.com.au":"AU","bmw.be":"BE","bmw.bg":"BG","bmw.com.br":"BR","bmw.ca":"CA","bmw.ch":"CH","bmw.com.cn":"CN","bmw.cz":"CZ","bmw.de":"DE","bmw.dk":"DK","bmw.es":"ES","bmw.fi":"FI","bmw.fr":"FR","bmw.co.uk":"GB","bmw.gr":"GR","bmw.hu":"HU","bmw.co.id":"ID","bmw.ie":"IE","bmw.in":"IN","bmw.is":"IS","bmw.it":"IT","bmw.co.jp":"JP","bmw.co.kr":"KR","bmw.lu":"LU","bmw.com.mx":"MX","bmw.com.my":"MY","bmw.nl":"NL","bmw.no":"NO","bmw.co.nz":"NZ","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.se":"SE","bmw.si":"SI","bmw.sk":"SK","bmw.co.th":"TH","bmw.com.sg":"SG","bmw.com/en-au":"AU","mini.de":"DE","mini.fr":"FR","mini.it":"IT","mini.at":"AT","mini.ch":"CH","mini.be":"BE","mini.lu":"LU"};return s[t]||s[t+"/"+location.pathname.split("/")[1].toLowerCase()]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},perfTime_query:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==t?(jdata=JSON.parse(t),jdata.query):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_query : "+e),"na"}}}},"AA-InternalcampaignParameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"icp",caseInsensitive:!0}},"AA-reportSuite":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").cache;if(t.get("AA-reportSuite"))return t.get("AA-reportSuite");var s="bmwgroup.group.global.test",a="bmwgroup.group.global.all",r={"bmw.co.za":"bmwgroup.bmw.za.market","bmw.tj":"bmwgroup.bmw.tj.market","bmw.com.ar":"bmwgroup.bmw.ar.market","bmw.at":"bmwgroup.bmw.at.market","bmw.com.au":"bmwgroup.bmw.au.market","bmw.be":"bmwgroup.bmw.be.market","bmw.bg":"bmwgroup.bmw.bg.market","bmw.com.br":"bmwgroup.bmw.br.market","bmw.ca":"bmwgroup.bmw.ca.market","bmw.ch":"bmwgroup.bmw.ch.market","bmw.com.cn":"bmwgroup.bmw.cn.market","bmw.cz":"bmwgroup.bmw.cz.market","bmw.de":"bmwgroup.bmw.de.market","bmw.dk":"bmwgroup.bmw.dk.market","bmw.es":"bmwgroup.bmw.es.market","bmw.fi":"bmwgroup.bmw.fi.market","bmw.fr":"bmwgroup.bmw.fr.market","bmw.co.uk":"bmwgroup.bmw.uk.market","bmw.gr":"bmwgroup.bmw.gr.market","bmw.hu":"bmwgroup.bmw.hu.market","bmw.co.id":"bmwgroup.bmw.id.market","bmw.ie":"bmwgroup.bmw.ie.market","bmw.in":"bmwgroup.bmw.in.market","bmw.is":"bmwgroup.bmw.is.market","bmw.it":"bmwgroup.bmw.ita.market","bmw.co.jp":"bmwgroup.bmw.jp.market","bmw.co.kr":"bmwgroup.bmw.kr.market","bmw.lu":"bmwgroup.bmw.lu.market","bmw.com.mx":"bmwgroup.bmw.mx.market","bmw.com.my":"bmwgroup.bmw.my.market","bmw.nl":"bmwgroup.bmw.nl.market","bmw.no":"bmwgroup.bmw.no.market","bmw.co.nz":"bmwgroup.bmw.nz.market","bmw.pl":"bmwgroup.bmw.pl.market","bmw.pt":"bmwgroup.bmw.pt.market","bmw.ro":"bmwgroup.bmw.ro.market","bmw.ru":"bmwgroup.bmw.ru.market","bmw.se":"bmwgroup.bmw.se.market","bmw.si":"bmwgroup.bmw.si.market","bmw.sk":"bmwgroup.bmw.sk.market","bmw.co.th":"bmwgroup.bmw.th.market","bmw.com.sg":"bmwgroup.bmw.sg.market","bmw.com/en-au":"bmwgroup.bmw.au.market","mini.de":"bmwgroup.mini.de.market","mini.fr":"bmwgroup.mini.fr.market","mini.it":"bmwgroup.mini.it.market","mini.ch":"bmwgroup.mini.ch.market","mini.at":"bmwgroup.mini.at.market","mini.be":"bmwgroup.mini.be.market","mini.lu":"bmwgroup.mini.lu.market"},n=r[_satellite.getVar("topLevelDomain")]||r[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()],o=(c=new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname),d="staging"===_satellite.buildInfo.environment||"development"===_satellite.buildInfo.environment,c||d?s:a+","+n);return-1<o.indexOf("undefined")&&(o=s),t.set("AA-reportSuite",o),o}catch(e){var i={from:"AA",type:"DE",name:"AA-reportSuite"};_satellite.logger.error(e,i)}var c,d}}},hashingMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().toString().toLowerCase(),s="erpAVj*ED9aTVMs%",b=b||function(i,s){var e={},t=e.lib={},a=function(){},r=t.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=s?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,s=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var r=0;r<e;r++)t[a+r>>>2]|=(s[r>>>2]>>>24-r%4*8&255)<<24-(a+r)%4*8;else if(65535<s.length)for(r=0;r<e;r+=4)t[a+r>>>2]=s[r>>>2];else t.push.apply(t,s);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=i.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],s=0;s<e;s+=4)t.push(4294967296*i.random()|0);return new c.init(t,e)}}),n=e.enc={},o=n.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],a=0;a<e;a++){var r=t[a>>>2]>>>24-a%4*8&255;s.push((r>>>4).toString(16)),s.push((15&r).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,s=[],a=0;a<t;a+=2)s[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new c.init(s,t/2)}},d=n.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],a=0;a<e;a++)s.push(String.fromCharCode(t[a>>>2]>>>24-a%4*8&255));return s.join("")},parse:function(e){for(var t=e.length,s=[],a=0;a<t;a++)s[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new c.init(s,t)}},l=n.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=t.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,s=t.words,a=t.sigBytes,r=this.blockSize,n=a/(4*r);if(e=(n=e?i.ceil(n):i.max((0|n)-this._minBufferSize,0))*r,a=i.min(4*e,a),e){for(var o=0;o<e;o+=r)this._doProcessBlock(s,o);o=s.splice(0,e),t.sigBytes-=a}return new c.init(o,a)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(s){return function(e,t){return new s.init(t).finalize(e)}},_createHmacHelper:function(s){return function(e,t){return new b.HMAC.init(s,t).finalize(e)}}});var b=e.algo={};return e}(Math);!function(r){for(var e=b,t=(a=e.lib).WordArray,s=a.Hasher,a=e.algo,n=[],f=[],o=function(e){return 4294967296*(e-(0|e))|0},i=2,c=0;c<64;){var d;e:{d=i;for(var l=r.sqrt(d),u=2;u<=l;u++)if(!(d%u)){d=!1;break e}d=!0}d&&(c<8&&(n[c]=o(r.pow(i,.5))),f[c]=o(r.pow(i,1/3)),c++),i++}var p=[];a=a.SHA256=s.extend({_doReset:function(){this._hash=new t.init(n.slice(0))},_doProcessBlock:function(e,t){for(var s=this._hash.words,a=s[0],r=s[1],n=s[2],o=s[3],i=s[4],c=s[5],d=s[6],l=s[7],u=0;u<64;u++){if(u<16)p[u]=0|e[t+u];else{var b=p[u-15],m=p[u-2];p[u]=((b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3)+p[u-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+p[u-16]}b=l+((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+(i&c^~i&d)+f[u]+p[u],m=((a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22))+(a&r^a&n^r&n),l=d,d=c,c=i,i=o+b|0,o=n,n=r,r=a,a=b+m|0}s[0]=s[0]+a|0,s[1]=s[1]+r|0,s[2]=s[2]+n|0,s[3]=s[3]+o|0,s[4]=s[4]+i|0,s[5]=s[5]+c|0,s[6]=s[6]+d|0,s[7]=s[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,s=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(a+64>>>9<<4)]=r.floor(s/4294967296),t[15+(a+64>>>9<<4)]=s,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA256=s._createHelper(a),e.HmacSHA256=s._createHmacHelper(a)}(Math);var a=s+t;return b.SHA256(a).toString()}catch(e){_satellite.logger.error("hashingMID error ",e)}}}},webDL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==t){var s=t.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var a=s;0<a;a--)if("object"==typeof t.getPageObject(a).page&&"VCO"==t.getPageObject(a).page.category.primaryCategory){s=a;break}var r=t.getPageObject(s);if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&-1==r.pageInstanceId.indexOf("need-analyzer"))return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].category&&"stock locator"==r.component[0].category.subCategory01)return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].componentInfo&&"digital checkout solution"==r.component[0].componentInfo.componentName)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&0<r.product.length)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId)return r=s&&0<s?t.getPageObject(s):t.getPageObject(0)}return r}catch(e){var n={from:"AA",type:"DE",name:"webDL"};_satellite.logger.error(e,n)}}}},setProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function k(e,t){for(var s=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&s.push(e[a]);return s}function x(e){return-1<e.indexOf("gasoline")?-1<e.indexOf("hybrid")?"x":"o":-1<e.indexOf("diesel")?-1<e.indexOf("hybrid")?"y":"d":-1<e.indexOf("electric")?"e":-1<e.indexOf("petrol")?"b":e}return function(t){var s=["vehicle","service","search","accessory"];try{var a,r=_satellite.getVar("snapshotDL"),n="",o=(r.get("product"),{});for(var i in r.get("product"))isNaN(+i)||(o[r.get("product."+i+".productInfo.productID")]=i,"vehicle"==r.get("product."+i+".category.productType").toLowerCase()&&(a=i,r.get("product."+i+".productInfo.productID")));var c={product:{}};for(var i in r.get("product"))isNaN(+i)||(c.product[r.get("product."+i+".productInfo.productID")]={},c.product[r.get("product."+i+".productInfo.productID")]=r.get("product."+i));var d=Object.keys(c.product);for(var l in r.get("cart"),c.cart={},r.get("cart.item"))isNaN(+l)||"datalayer field missing"!=r.get("cart.item."+l+".productInfo.productID")&&"datalayer field empty"!=r.get("cart.item."+l+".productInfo.productID")&&(c.cart[r.get("cart.item."+l+".productInfo.productID")]={},c.cart[r.get("cart.item."+l+".productInfo.productID")]=r.get("cart.item."+l));var u=Object.keys(c.cart);for(var b in r.get("transaction"),c.transaction={},r.get("transaction.-1.item"))isNaN(+l)||"datalayer field missing"!=r.get("transaction.-1.item."+b+".productInfo.productID")&&"datalayer field empty"!=r.get("transaction.-1.item."+b+".productInfo.productID")&&(c.transaction[r.get("transaction.-1.item."+b+".productInfo.productID")]={},c.transaction[r.get("transaction.-1.item."+b+".productInfo.productID")]=r.get("transaction.-1.item."+b));var m=Object.keys(c.transaction);if(0<r.get("product").length)for(var f in r.get("product"))if(!isNaN(+f)){var p=_satellite.getVar("productBuilder"),g=r.get("product."+f+".category.productType"),v=r.get("product."+f+".productInfo.productID",r.get("product."+f+".attributes.mmdr"));p.id=v,-1<s.indexOf(g)?p.category=g:p.category="datalayer field missing","datalayer field missing"==r.get("product."+f+".attributes.mmdr")||"datalayer field empty"==r.get("product."+f+".attributes.mmdr")||"datalayer field missing"!=r.get("product."+f+".category.productType")&&"datalayer field empty"!=r.get("product."+f+".category.productType")||(g=p.category="vehicle");var h=+(((c.cart[v]||"").price||"").voucherDiscount||"0"),P=+(((c.cart[v]||"").price||"").priceWithTax||"0"),C=+r.get("transaction.-1.total.voucherDiscount","0"),j=+r.get("transaction.-1.total.priceWithTax","0"),R=r.get("product."+f+".attributes.mmdr",r.get("product."+f+".attributes.internalCode"));if("vehicle"==g){var y=x(r.get("product."+f+".attributes.fuelType"));p.merchEvars={eVar10:R,eVar44:r.get("product."+f+".attributes.productionYear"),eVar45:r.get("product."+f+".attributes.yearOfRegistration"),eVar46:r.get("product."+f+".attributes.vehicleStatus",r.get("product."+f+".attributes.vehicleSelection")),eVar47:r.get("product."+f+".productInfo.color"),eVar48:r.get("product."+f+".attributes.modelCode"),eVar49:r.get("product."+f+".attributes.gearing"),eVar50:r.get("product."+f+".attributes.series"),eVar51:r.get("product."+f+".attributes.bodyType"),eVar52:r.get("product."+f+".productInfo.productName",r.get("product."+f+".attributes.modelName")),eVar53:"model_navigation_hp"==r.get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"new car":r.get("product."+f+".category.primaryCategory"),eVar54:r.get("product."+f+".category.subCategory1"),eVar55:r.get("product."+f+".category.subCategory2"),eVar56:y,eVar57:r.get("product."+f+".attributes.hybridVersion"),eVar58:r.get("product."+f+".attributes.motorization",r.get("product."+f+".attributes.engine")),eVar59:r.get("product."+f+".attributes.configID",r.get("product."+f+".attributes.configLink")),eVar60:r.get("product."+f+".productInfo.manufacturer",((c.cart[v]||"").productInfo||"").manufacturer||""),eVar65:r.get("product."+f+".attributes.modelName"),eVar66:r.get("product."+f+".attributes.trimLevel"),eVar69:r.get("product."+f+".attributes.modelCodeAG"),eVar121:((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode?((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode||"":r.get("transaction.-1.total.voucherCode",r.get("cart.price.voucherCode")),eVar124:((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate?((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate||"":r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="vehicle";var w=["event801="+ +r.get("product."+f+".attributes.fin.downPayment","0"),"event802="+ +r.get("product."+f+".attributes.fin.downPayment","0"),"event803="+ +r.get("product."+f+".attributes.fin.monthlyPayment","0"),"event804="+ +r.get("product."+f+".attributes.fin.monthlyPayment","0"),"event805="+ +r.get("product."+f+".attributes.fin.term","0"),"event806="+ +r.get("product."+f+".attributes.fin.mileage","0"),"event807=0","event808=0","event851="+(((c.cart[v]||"").price||"").basePrice||"0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+ +(((c.cart[v]||"").price||"").taxRate||"0"),"event855="+(((c.cart[v]||"").price||"").taxRate||"0"),"event856="+(((c.cart[v]||"").price||"").priceWithTax||"0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+((c.cart[v]||"").quantity||"0")];p.events=w,p.quantity=(c.cart[v]||"").quantity||"0",p.price=((c.cart[v]||"").price||"").priceWithTax||"0",t.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")}else"Related Service / Finance"==g||"service"==g?(y=x(r.get("product."+a+".attributes.fuelType",r.get("product."+f+".attributes.fuelType"))),p.merchEvars={eVar52:r.get("product."+f+".productInfo.productName"),eVar53:r.get("product."+f+".category.primaryCategory"),eVar54:r.get("product."+f+".category.subCategory1"),eVar55:r.get("product."+f+".category.subCategory2"),eVar84:r.get("product."+f+".attributes.fin.downPayment"),eVar85:r.get("product."+f+".attributes.fin.mileage"),eVar86:r.get("product."+f+".attributes.fin.monthlyPayment"),eVar87:r.get("product."+f+".attributes.fin.term"),eVar10:r.get("product."+a+".attributes.mmdr",r.get("product."+a+".attributes.internalCode",r.get("product."+f+".attributes.mmdr",r.get("product."+f+".attributes.internalCode")))),eVar44:r.get("product."+a+".attributes.productionYear",r.get("product."+f+".attributes.productionYear")),eVar45:r.get("product."+a+".attributes.yearOfRegistration",r.get("product."+f+".attributes.yearOfRegistration")),eVar46:r.get("product."+a+".attributes.vehicleStatus",r.get("product."+a+".attributes.vehicleSelection",r.get("product."+f+".attributes.vehicleStatus",r.get("product."+f+".attributes.vehicleSelection")))),eVar47:r.get("product."+a+".productInfo.color",r.get("product."+f+".productInfo.color")),eVar48:r.get("product."+a+".attributes.modelCode",r.get("product."+f+".attributes.modelCode")),eVar49:r.get("product."+a+".attributes.gearing",r.get("product."+f+".attributes.gearing")),eVar50:r.get("product."+a+".attributes.series",r.get("product."+f+".attributes.series")),eVar51:r.get("product."+a+".attributes.bodyType",r.get("product."+f+".attributes.bodyType")),eVar56:y,eVar57:r.get("product."+a+".attributes.hybridVersion",r.get("product."+f+".attributes.hybridVersion")),eVar58:r.get("product."+a+".attributes.motorization",r.get("product."+a+".attributes.engine",r.get("product."+f+".attributes.motorization",r.get("product."+f+".attributes.engine")))),eVar59:r.get("product."+a+".attributes.configID",r.get("product."+a+".attributes.configLink",r.get("product."+f+".attributes.configID",r.get("product."+f+".attributes.configLink")))),eVar60:r.get("product."+a+".productInfo.manufacturer",((c.cart[v]||"").productInfo||"").manufacturer||""),eVar65:r.get("product."+a+".attributes.modelName",r.get("product."+f+".attributes.modelName")),eVar66:r.get("product."+a+".attributes.trimLevel",r.get("product."+f+".attributes.trimLevel")),eVar69:r.get("product."+a+".attributes.modelCodeAG",r.get("product."+f+".attributes.modelCodeAG")),eVar121:((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode?((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode||"":r.get("transaction.-1.total.voucherCode",r.get("cart.price.voucherCode")),eVar124:((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate?((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate||"":r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="service",w=["event801="+ +r.get("product."+f+".attributes.fin.downPayment","0"),"event802="+ +r.get("product."+f+".attributes.fin.downPayment","0"),"event803="+ +r.get("product."+f+".attributes.fin.monthlyPayment","0"),"event804="+ +r.get("product."+f+".attributes.fin.monthlyPayment","0"),"event805="+ +r.get("product."+f+".attributes.fin.term","0"),"event806="+ +r.get("product."+f+".attributes.fin.mileage","0"),"event807=0","event808=0","event851="+(((c.cart[v]||"").price||"").basePrice||"0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+ +(((c.cart[v]||"").price||"").taxRate||"0"),"event855="+(((c.cart[v]||"").price||"").taxRate||"0"),"event856="+(((c.cart[v]||"").price||"").priceWithTax||"0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+((c.cart[v]||"").quantity||"0")],p.events=w,p.quantity=(c.cart[v]||"").quantity||"0",p.price=((c.cart[v]||"").price||"").priceWithTax||"0",t.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")):"Options & Accessory"!=g&&"accessory"!=g||(y=x(r.get("product."+a+".attributes.fuelType",r.get("product."+f+".attributes.fuelType"))),p.merchEvars={eVar52:r.get("product."+f+".productInfo.productName"),eVar53:r.get("product."+f+".category.primaryCategory"),eVar54:r.get("product."+f+".category.subCategory1"),eVar55:r.get("product."+f+".category.subCategory2"),eVar10:r.get("product."+a+".attributes.mmdr",r.get("product."+a+".attributes.internalCode",r.get("product."+f+".attributes.mmdr",r.get("product."+f+".attributes.internalCode")))),eVar44:r.get("product."+a+".attributes.productionYear",r.get("product."+f+".attributes.productionYear")),eVar45:r.get("product."+a+".attributes.yearOfRegistration",r.get("product."+f+".attributes.yearOfRegistration")),eVar46:r.get("product."+a+".attributes.vehicleStatus",r.get("product."+a+".attributes.vehicleSelection",r.get("product."+f+".attributes.vehicleStatus",r.get("product."+f+".attributes.vehicleSelection")))),eVar47:r.get("product."+a+".productInfo.color",r.get("product."+f+".productInfo.color")),eVar48:r.get("product."+a+".attributes.modelCode",r.get("product."+f+".attributes.modelCode")),eVar49:r.get("product."+a+".attributes.gearing",r.get("product."+f+".attributes.gearing")),eVar50:r.get("product."+a+".attributes.series",r.get("product."+f+".attributes.series")),eVar51:r.get("product."+a+".attributes.bodyType",r.get("product."+f+".attributes.bodyType")),eVar56:y,eVar57:r.get("product."+a+".attributes.hybridVersion",r.get("product."+f+".attributes.hybridVersion")),eVar58:r.get("product."+a+".attributes.motorization",r.get("product."+a+".attributes.engine",r.get("product."+f+".attributes.motorization",r.get("product."+f+".attributes.engine")))),eVar59:r.get("product."+a+".attributes.configID",r.get("product."+a+".attributes.configLink",r.get("product."+f+".attributes.configID",r.get("product."+f+".attributes.configLink")))),eVar60:r.get("product."+a+".productInfo.manufacturer",((c.cart[v]||"").productInfo||"").manufacturer||""),eVar65:r.get("product."+a+".attributes.modelName",r.get("product."+f+".attributes.modelName")),eVar66:r.get("product."+a+".attributes.trimLevel",r.get("product."+f+".attributes.trimLevel")),eVar69:r.get("product."+a+".attributes.modelCodeAG",r.get("product."+f+".attributes.modelCodeAG")),eVar121:((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode?((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode||"":r.get("transaction.-1.total.voucherCode",r.get("cart.price.voucherCode")),eVar124:((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate?((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate||"":r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="accessory",w=["event801="+ +r.get("product."+f+".attributes.fin.downPayment","0"),"event802="+ +r.get("product."+f+".attributes.fin.downPayment","0"),"event803="+ +r.get("product."+f+".attributes.fin.monthlyPayment","0"),"event804="+ +r.get("product."+f+".attributes.fin.monthlyPayment","0"),"event805="+ +r.get("product."+f+".attributes.fin.term","0"),"event806="+ +r.get("product."+f+".attributes.fin.mileage","0"),"event807=0","event808=0","event851="+(((c.cart[v]||"").price||"").basePrice||"0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+ +(((c.cart[v]||"").price||"").taxRate||"0"),"event855="+(((c.cart[v]||"").price||"").taxRate||"0"),"event856="+(((c.cart[v]||"").price||"").priceWithTax||"0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+((c.cart[v]||"").quantity||"0")],p.events=w,p.quantity=(c.cart[v]||"").quantity||"0",p.price=((c.cart[v]||"").price||"").priceWithTax||"0",t.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858",
t.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858"));n+=p.toString()+","}var E=k(u,d);if(E&&0<E.length){var I={};for(var i in E)if(!isNaN(+i))for(var l in r.get("cart.item"))isNaN(+l)||E[i]==r.get("cart.item."+l+".productInfo.productID")&&(I[E[i]]=l);for(var f in E)isNaN(+f)||(p=_satellite.getVar("productBuilder"),g=r.get("cart.item."+I[E[f]]+".category.productType"),v=r.get("cart.item."+I[E[f]]+".productInfo.productID"),p.id=v,-1<s.indexOf(g)?p.category=g:p.category="datalayer field missing",h=+r.get("cart.item."+I[E[f]]+".price.voucherDiscount","0"),P=+r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),C=+r.get("transaction.-1.total.voucherDiscount","0"),j=+r.get("transaction.-1.total.priceWithTax","0"),"vehicle"==g?(y=x(r.get("product."+o[v]+".attributes.fuelType")),p.merchEvars={eVar52:r.get("cart.item."+I[E[f]]+".productInfo.productName"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:y,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar69:r.get("product."+o[v]+".attributes.modelCodeAG"),eVar121:r.get("cart.item."+I[E[f]]+".price.voucherCode",r.get("cart.price.voucherCode")),eVar124:r.get("cart.item."+I[E[f]]+".price.taxRate",r.get("cart.price.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="vehicle",w=["event851="+r.get("cart.item."+I[E[f]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("cart.item."+I[E[f]]+".price.taxRate","0"),"event855="+r.get("cart.item."+I[E[f]]+".price.taxRate","0"),"event856="+r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+r.get("cart.item."+I[E[f]]+".quantity","0")],p.events=w,p.quantity=r.get("cart.item."+I[E[f]]+".quantity","0"),p.price=r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Related Service / Finance"==g||"service"==g?(y=x(r.get("product."+o[v]+".attributes.fuelType")),p.merchEvars={eVar52:r.get("cart.item."+I[E[f]]+".productInfo.productName"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:y,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar69:r.get("product."+o[v]+".attributes.modelCodeAG"),eVar121:r.get("cart.item."+I[E[f]]+".price.voucherCode",r.get("cart.price.voucherCode")),eVar124:r.get("cart.item."+I[E[f]]+".price.taxRate",r.get("cart.price.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="service",w=["event851="+r.get("cart.item."+I[E[f]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("cart.item."+I[E[f]]+".price.taxRate","0"),"event855="+r.get("cart.item."+I[E[f]]+".price.taxRate","0"),"event856="+r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+r.get("cart.item."+I[E[f]]+".quantity","0")],p.events=w,p.quantity=r.get("cart.item."+I[E[f]]+".quantity","0"),p.price=r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Options & Accessory"!=g&&"accessory"!=g||(y=x(r.get("product."+o[v]+".attributes.fuelType")),p.merchEvars={eVar52:r.get("cart.item."+I[E[f]]+".productInfo.productName"),eVar53:r.get("cart.item."+I[E[f]]+".category.primaryCategory"),eVar54:r.get("cart.item."+I[E[f]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:y,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar69:r.get("product."+o[v]+".attributes.modelCodeAG"),eVar121:r.get("cart.item."+I[E[f]]+".price.voucherCode",r.get("cart.price.voucherCode")),eVar124:r.get("cart.item."+I[E[f]]+".price.taxRate",r.get("cart.price.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="accessory",w=["event851="+r.get("cart.item."+I[E[f]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("cart.item."+I[E[f]]+".price.taxRate","0"),"event855="+r.get("cart.item."+I[E[f]]+".price.taxRate","0"),"event856="+r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+r.get("cart.item."+I[E[f]]+".quantity","0")],p.events=w,p.quantity=r.get("cart.item."+I[E[f]]+".quantity","0"),p.price=r.get("cart.item."+I[E[f]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")),n+=p.toString()+",")}var _=k(m,d);if(_&&0<_.length){var T={};for(var i in _)if(!isNaN(+i))for(var l in r.get("transaction.-1.item"))isNaN(+l)||_[i]==r.get("transaction.-1.item."+l+".productInfo.productID")&&(T[_[i]]=l);for(var f in _)isNaN(+f)||(p=_satellite.getVar("productBuilder"),g=r.get("transaction.-1.item."+T[_[f]]+".category.productType"),v=r.get("transaction.-1.item."+T[_[f]]+".productInfo.productID"),p.id=v,-1<s.indexOf(g)?p.category=g:p.category="datalayer field missing",h=+r.get("transaction.-1.item."+T[_[f]]+".price.voucherDiscount","0"),P=+r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),C=+r.get("transaction.-1.total.voucherDiscount","0"),j=+r.get("transaction.-1.total.priceWithTax","0"),"vehicle"==g?(y=x(r.get("product."+o[v]+".attributes.fuelType")),p.merchEvars={eVar52:r.get("transaction.-1.item."+T[_[f]]+".productInfo.productName"),eVar53:r.get("transaction.-1.item."+T[_[f]]+".category.primaryCategory"),eVar54:r.get("transaction.-1.item."+T[_[f]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:y,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar69:r.get("product."+o[v]+".attributes.modelCodeAG"),eVar121:r.get("transaction.-1.item."+T[_[f]]+".price.voucherCode",r.get("transaction.-1.total.voucherCode")),eVar124:r.get("transaction.-1.item."+T[_[f]]+".price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="vehicle",w=["event851="+r.get("transaction.-1.item."+T[_[f]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("transaction.-1.item."+T[_[f]]+".price.taxRate","0"),"event855="+r.get("transaction.-1.item."+T[_[f]]+".price.taxRate","0"),"event856="+r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),"event857="+r.get("transaction.-1.item."+T[_[f]]+".price.shipping","0"),"event858="+r.get("transaction.-1.item."+T[_[f]]+".quantity","0")],p.events=w,p.quantity=r.get("transaction.-1.item."+T[_[f]]+".quantity","0"),p.price=r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Related Service / Finance"==g||"service"==g?(y=x(r.get("product."+o[v]+".attributes.fuelType")),p.merchEvars={eVar52:r.get("transaction.-1.item."+T[_[f]]+".productInfo.productName"),eVar53:r.get("transaction.-1.item."+T[_[f]]+".category.primaryCategory"),eVar54:r.get("transaction.-1.item."+T[_[f]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:y,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar69:r.get("product."+o[v]+".attributes.modelCodeAG"),eVar121:r.get("transaction.-1.item."+T[_[f]]+".price.voucherCode",r.get("transaction.-1.total.voucherCode")),eVar124:r.get("transaction.-1.item."+T[_[f]]+".price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="service",w=["event851="+r.get("transaction.-1.item."+T[_[f]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("transaction.-1.item."+T[_[f]]+".price.taxRate","0"),"event855="+r.get("transaction.-1.item."+T[_[f]]+".price.taxRate","0"),"event856="+r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),"event857="+r.get("transaction.-1.item."+T[_[f]]+".price.shipping","0"),"event858="+r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0")],p.events=w,p.quantity=r.get("transaction.-1.item."+T[_[f]]+".quantity","0"),p.price=r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Options & Accessory"!=g&&"accessory"!=g||(y=x(r.get("product."+o[v]+".attributes.fuelType")),p.merchEvars={eVar52:r.get("transaction.-1.item."+T[_[f]]+".productInfo.productName"),eVar53:r.get("transaction.-1.item."+T[_[f]]+".category.primaryCategory"),eVar54:r.get("transaction.-1.item."+T[_[f]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:y,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar69:r.get("product."+o[v]+".attributes.modelCodeAG"),eVar121:r.get("transaction.-1.item."+T[_[f]]+".price.voucherCode",r.get("transaction.-1.total.voucherCode")),eVar124:r.get("transaction.-1.item."+T[_[f]]+".price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},p.category="accessory",w=["event851="+r.get("transaction.-1.item."+T[_[f]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("transaction.-1.item."+T[_[f]]+".price.taxRate","0"),"event855="+r.get("transaction.-1.item."+T[_[f]]+".price.taxRate","0"),"event856="+r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),"event857="+r.get("transaction.-1.item."+T[_[f]]+".price.shipping","0"),"event858="+r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0")],p.events=w,p.quantity=r.get("transaction.-1.item."+T[_[f]]+".quantity","0"),p.price=r.get("transaction.-1.item."+T[_[f]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")),n+=p.toString()+",")}t.products!=undefined?t.products+=n.slice(0,-1):t.products=n.slice(0,-1),"undefined"!=t.products&&(t.linkTrackVars+="products,"),t.events=t.apl(t.events,"event861="+r.get("cart.price.basePrice",r.get("transaction.-1.total.basePrice","0")),",",1),"datalayer field empty"!=r.get("transaction.-1.total.taxRate")&&"datalayer field missing"!=r.get("transaction.-1.total.taxRate")?(t.events=t.apl(t.events,"event862="+((C<0?+ +j*C/j:C)||"0"),",",1),t.events=t.apl(t.events,"event863="+((C<0?+j*C:C)||"0"),",",1)):(t.events=t.apl(t.events,"event862="+((h<0?+ +P*h/P:h)||"0"),",",1),t.events=t.apl(t.events,"event863="+((h<0?+P*h:h)||"0"),",",1)),t.events=t.apl(t.events,"event864="+r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate","0")),",",1),t.events=t.apl(t.events,"event865="+r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate","0")),",",1),t.events=t.apl(t.events,"event866="+r.get("cart.price.priceWithTax",r.get("transaction.-1.total.priceWithTax","0")),",",1),t.events=t.apl(t.events,"event867="+r.get("cart.price.shipping",r.get("transaction.-1.total.shipping","0")),",",1),t.events=t.apl(t.events,"event868="+r.get("cart.price.cartTotal",r.get("transaction.-1.total.transactionTotal","0")),",",1),t.eVar120=r.get("cart.cartID"),t.eVar122=r.get("page.attributes.currencyCode",r.get("transaction.-1.total.currency",r.get("cart.price.currency"))),t.eVar123=r.get("transaction.-1.attributes.paymentMethod"),t.eVar125=r.get("transaction.-1.transactionID"),t.linkTrackVars+="eVar120,eVar122,eVar123,eVar125,"}catch(e){var A={from:"AA",type:"DE",name:"setProductString"};_satellite.logger.error(e,A)}}}}},topLevelDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.location.hostname,s=t.split(".").reverse(),a=s[1]+"."+s[0];return(-1<t.indexOf(".co.")||-1<t.indexOf(".com.")&&2<s.length)&&(a=s[2]+"."+a),a}catch(e){var r={from:"AA",type:"DE",name:"topLevelDomain"};_satellite.logger.error(e,r)}}}},"AT-TargetParamsManager":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var n=_satellite.getVar("KIT-helpers").cache,t=function(){var r="targetParamsCache",a=function(e){for(var t in e)null!==e[t]&&e[t]!==undefined&&""!==e[t]||delete e[t];return e};t.prototype.mergeParams=function(e,t){var s=n.get(r)||{};for(var a in e)s.hasOwnProperty(a)&&s[a]===e[a]||(s[a]={value:e[a],once:!!t,fired:!1});n.set(r,s)},t.prototype.getParams=function(){var e=n.get(r)||{},t={};for(var s in e)e[s].fired&&e[s].once||(e[s].fired=!0,t[s]=e[s].value);return t=a(t),_satellite.logger.log("DE:TargetParamsManager : Sending following mbox params-",t),t},t.prototype.hasFired=function(e,t){var s=n.get(r)||{};return!(!s[e]||!s[e].fired||s[e].value!==t)}};return new t}catch(e){var s={from:"AA",type:"DE",name:"AT-TargetParamsManager"};_satellite.logger.error(e,s)}}}},getIsPaidSearch:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=JSON.parse(_satellite.cookie.get("visitor_aa_hits"));if(null==t)return""!=s.Util.getQueryParam("wt.mc_id")||""!=s.Util.getQueryParam("s_kwcid")||""!=s.Util.getQueryParam("ef_id")||""!=s.Util.getQueryParam("source")||""!=s.Util.getQueryParam("bmw")||""!=s.Util.getQueryParam("WT.mc_id")||""!=s.Util.getQueryParam("gclid")||""!=s.Util.getQueryParam("utm_campaign")||"undefined"!=typeof s.campaign&&("sea"==s.campaign.substring(0,3)||"SEA"==s.campaign.substring(0,3))?(a={user_type:"paid_search",aa_value:1},_satellite.cookie.set("visitor_aa_hits",JSON.stringify(a)),!0):(a={user_type:"other",aa_value:1},_satellite.cookie.set("visitor_aa_hits",JSON.stringify(a)),!1);if("paid_search"==t.user_type)return!0;if(""==s.Util.getQueryParam("wt.mc_id")&&""==s.Util.getQueryParam("s_kwcid")&&""==s.Util.getQueryParam("ef_id")&&""==s.Util.getQueryParam("source")&&""==s.Util.getQueryParam("bmw")&&""==s.Util.getQueryParam("WT.mc_id")&&""==s.Util.getQueryParam("gclid")&&""==s.Util.getQueryParam("utm_campaign")&&("undefined"==typeof s.campaign||"sea"!=s.campaign.substring(0,3)&&"SEA"!=s.campaign.substring(0,3)))return!1;var a={user_type:"paid_search",aa_value:t.aa_value};return _satellite.cookie.set("visitor_aa_hits",JSON.stringify(a)),!0}catch(e){var r={from:"AA",type:"DE",name:"getIsPaidSearch"};_satellite.logger.error(e,r)}}}},splitConsentEnabled:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=["bmw.de","bmw.co.za","bmw.co.jp","bmw-int5.com","bmw-int4.com","bmw.it","bmw.bg","bmw.hr","bmw.com.cy","bmw.cz","bmw.com.mt","bmw.gr","bmw.hu","bmw.ro","bmw.sk","bmw.si","bmw.be","bmw.lu","bmw.at","bmw.es","bmw.pl","bmw-int6.com","bmw.nl","bmw.fr","bmw.ch","bmw.ie","bmw.lv","bmw.ee","bmw.gp","bmw.mu","bmw.mq","bmw.co.uk","bmw.pt","bmw.re","bmw.is","bmw.lt","bmw.dk","bmw.fi","bmw.se","bmw.no","bmw.com.br","bmwbkk.de","bmw.in","adobemc.com","mini.de","mini.it","mini.fr","mini.at","mini.ch","mini.be","mini.lu","mini-int7.com"],s=_satellite.getVar("topLevelDomain");return-1<t.indexOf(s)?"true":"false"}catch(e){var a={from:"AA",type:"DE",name:"splitConsentEnabled"};_satellite.logger.error(e,a)}}}},isTargetPersonalizationAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=_satellite.getVar("consentMap").TargetPersonalization;return t.isTrackingAllowed(s).toString()}catch(e){var a={from:"AA",type:"DE",name:"isTargetPersonalizationAllowed"};_satellite.logger.error(e,a)}}}},setDefaultVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(d){return function(t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.destinationUrl",location.href),r=new Date,n=_satellite.getVar("smartPreviousValueManager"),o=_satellite.getVar("snapshotDL").get("page.pageInfo.variant"),i=_satellite.getVar("hashingMID");t.prop44=s.get("component.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop27=s.get("page.pageInstanceId",s.get("pageInstanceId")),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp",Math.round(r.getTime()))),t.prop13="bmw",t.prop15=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),t.prop14=r.getUTCHours()+":"+r.getUTCMinutes()+":"+r.getUTCSeconds(),t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.eVar7=s.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=-1<t.eVar7.indexOf("-")?t.eVar7.split("-")[0]:t.eVar7,t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.eVar18=s.get("page.pageInfo.pageTitle",document.title),t.prop50="page title",t.prop19="virtual page"===o?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,t.campaign=t.eVar61=t.eVar62=_satellite.getVar("campaign"),t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),"bmw.com.cn"==_satellite.getVar("topLevelDomain")?t.eVar64=_satellite.getVar("AA-localCampaignVariable"):t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),t.eVar133=i,t.server=location.host,t.prop74=_satellite.property.name+"|"+d.$rule.name,t.pageType="error"==s.get("page.category.pageType")?"errorPage":s.get("page.category.pageType"),-1<s.get("pageInstanceId").indexOf("error-pool/")&&(t.pageName="",t.pageType="errorPage"),255<(t.eVar4=a).length&&(t.eVar5=a.substring(255,a.length)),n.update("url",t.eVar4),t.eVar14=n.get("url"),t.eVar29=n.get("pathName"),t.prop31=n.get("pagePrimaryCategory"),_satellite.logger.log("khubruy prop31",t.prop31),t.prop32=n.get("pageSubCategory01"),t.prop33=n.get("pageName"),t.prop3=s.get("page.category.primaryCategory"),n.update("pagePrimaryCategory",t.prop19),t.prop4=s.get("page.category.subCategory01"),n.update("pageSubCategory01",t.prop4),n.update("jcrPath",s.get("pageInstanceId",window.location.pathname)),t.eVar28=n.get("componentSubcategory1"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.eVar11=location.hash,t.eVar12=location.protocol+"//"+location.host+location.pathname,t.eVar13=location.search.split("?")[1],t.eVar132=window.navigator.userAgent,t.eVar135=s.get("page.pageInfo.envWork",s.get("page.pageInfo.devEnv")),t.eVar6=document.referrer,n.update("pathName",t.eVar12),t.eVar120=s.get("cart.cartID"),t.eVar122=s.get("cart.item-1.price.currency",s.get("cart.price.currency",s.get("transaction.item-1.price.currency",s.get("transaction.total.currency.currency",s.get("product.-1.attributes.currency"))))),t.eVar123=s.get("transaction.attributes.paymentMethod"),t.eVar125=s.get("transaction.transactionID"),""!=t.linkTrackVars&&t.linkTrackVars!=undefined?t.linkTrackVars+=",prop44,eVar134,eVar64,eVar18,prop27,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,eVar133,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,":t.linkTrackVars="prop44,eVar134,eVar64,prop27,eVar18,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,eVar133,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,"}catch(e){var c={from:"AA",type:"DE",name:"setDefaultVariables"};_satellite.logger.error(e,c)}}}}},"KIT-helpers":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js",settings:{helperTools:null}},"AA-consentMetaData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(t){try{if("undefined"==typeof window.processingWrapper||"function"!=typeof window.processingWrapper._getProcessingInfo)return"datalayer field missing";var s=window.processingWrapper._getProcessingInfo("BaseTracking",{type:window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2});return t?s[t]:s}catch(e){var a={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,a)}}}}},pa_pag_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.pageName;return""==e&&(e="not set"),e}catch(t){return"not set"}}}},smartPreviousValueManager:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(){var a=_satellite.getVar("KIT-helpers").cache;this.init=function(e){var t=a.get(r);if(!t){for(var s in t={},e)e.hasOwnProperty(s)&&(t[s]={value:e[s],valueAfterVirtualPageLoad:undefined});a.set(r,t)}},this.update=function(e,t){var s=a.get(r);s[e]=s[e]||{value:undefined},s[e].valueAfterVirtualPageLoad&&(s[e].value=s[e].valueAfterVirtualPageLoad),s[e].valueAfterVirtualPageLoad=t,a.set(r,s)},this.get=function(e){var t=a.get(r);return"object"==typeof t[e]?t[e].value:undefined},this.saveDeferredObject=function(e){a.set(r+"_deferred",e)},this.getDeferredObject=function(){return a.get(r+"_deferred")||{}}}function s(){var a=_satellite.cookie;this.get=function(t){var s={};try{s=JSON.parse(window.decodeURIComponent(_satellite.cookie.get(r)||"{}"))}catch(e){}return t?s[t]:s},this.update=function(e,t){var s=this.get();if(s[e]=t,!1===a.set(r,window.encodeURIComponent(JSON.stringify(s)),{domain:_satellite.getVar("topLevelDomain"),expires:18e5/864e5})||"false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1},this.saveDeferredObject=function(e){for(var t in e)e.hasOwnProperty(t)&&this.update(t,e[t])}}function a(r,n){n.init(r.get()),this.update=function(e,t,s){if(s&&n.update(e,t),!1===r.update(e,t)){var a=n.getDeferredObject();a[e]=t,n.saveDeferredObject(a)}},this.get=function(e){return n.get(e)},this.saveDeferredObject=function(){r.saveDeferredObject(n.getDeferredObject())}}try{var r="bmwdtm_hq_previouspage_meta";return new a(new s,new t)}catch(e){var n={from:"AA",type:"DE",name:"smartPreviousValueManager"};_satellite.logger.error(e,n)}}}},"Trigger-AnalyticsConsentChangeEvent":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var t,s="re-trigger";"function"==typeof Event?t=new Event(s):(t=document.createEvent("Event")).initEvent(s,!0,!0),document.body.dispatchEvent(t)}catch(e){var a={from:"AA",type:"DE",name:"Trigger-AnalyticsConsentChangeEvent"};_satellite.logger.error(e,a)}}}}},"AAM-dilMarketList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return["bmw.de"]}catch(e){var t={from:"AA",type:"DE",name:"AAM-dilMarketList"};_satellite.logger.error(e,t)}}}},URLNoParam:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return location.host+location.pathname}catch(e){}}}},isOfferApplicable:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var t,a=+_satellite.getVar("final_newscore")||0,s=window.location.href,r=-1<s.indexOf("bmw.de/de/neufahrzeuge")||-1<s.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/neufahrzeuge")||-1<s.indexOf("bmw.de/de/all-models/")||-1<s.indexOf("bmw.de/de/index")||-1<s.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de_DE/index")||-1<s.indexOf("bmw.de/de/home")||-1<s.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/home"),n=65,o=JSON.parse(sessionStorage.getItem("Personalization_VisitorReco"))||{},i=o.isOfferShown,c=o.isFormSubmitted;t="boolean"==typeof o.isOfferShown?Object.keys(o).length-1:Object.keys(o),_satellite.logger.log("VisitorReco: final Score is:",a),_satellite.logger.log("VisitorReco: Count of models present:",t),_satellite.logger.log("VisitorReco: offer shown flag value:",i),n<=a&&r&&0==i&&0<t&&"true"!=_satellite.getVar("isSetTimeOut")&&!c&&(_satellite.setVar("isSetTimeOut","true"),_satellite.logger.log("VisitorReco: SetTimeOut function is set"),setTimeout(function(){0==JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")).isOfferShown&&(_satellite.logger.log("VisitorReco: get and apply offer method called"),document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,function s(e){if(void 0!==e&&"undefined"!=typeof e.detail&&"undefined"!=typeof e.detail.responseTokens&&0<e.detail.responseTokens.length)for(var t=0;t<e.detail.responseTokens.length;t++)"undefined"!=typeof e.detail.responseTokens[t]&&"undefined"!=typeof e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]&&_satellite.setVar("AT-catHist_CarModel_HIST",JSON.parse(e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]))}),adobe.target.getOffer({mbox:"visitor-reco-mbox",params:{vs_score:a},success:function(e){adobe.target.applyOffer({mbox:"visitor-reco-mbox",offer:e})},error:function(e,t){_satellite.logger.error("VisitorReco: Error in applying offer: ",e,t)}}))},5e3))}catch(l){var d={from:"AA",type:"DE",name:"isOfferApplicable"};_satellite.logger.error(e,d)}}}}},"AA-marketCodes":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ZA","AR","AT","AU","BE","BG","BR","CA","CH","CN","CZ","DE","DK","ES","FI","FR","GB","GR","HU","ID","IE","IN","IS","IT","JP","KR","LU","MX","MY","NL","NO","NZ","PL",
"PT","RO","RU","SE","SI","SK","TH","SG","SL"]}}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPda5a24187011446b9e9e605e55f63144/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,s){"use strict";var o=s("@adobe/reactor-window"),i=s("@adobe/reactor-query-string");e.exports=function(e){var t=i.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var s=e.name.toLowerCase(),a=Object.keys(t),r=0;r<a.length;r++){var n=a[r];if(n.toLowerCase()===s)return t[n]}}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return a.location.href;case"hostname":return a.location.hostname;case"pathname":return a.location.pathname;case"protocol":return a.location.protocol;case"referrer":return a.referrer;case"title":return a.title}}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,s,n){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var s=o[e];if(s){var a={identifier:e,detail:t};s.forEach(function(e){e(a)});var r=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&r.push(t),n.logger.log.apply(n.logger,r)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var s=o[e.identifier];s||(s=o[e.identifier]=[]),s.push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,s,n){"use strict";var o,a,r,i,c=s("@adobe/reactor-document"),d=s("@adobe/reactor-promise"),l=s("./helpers/decorateCode"),u=s("./helpers/loadCodeSequentially"),b=s("../../../node_modules/postscribe/dist/postscribe"),m=s("./helpers/unescapeHtmlCode"),f=(a=function(e){b(c.body,e,{beforeWriteToken:function(t){var e=t.tagName&&t.tagName.toLowerCase();return o&&"script"===e&&(t.attrs.nonce=o),"script"!==e&&"style"!==e||(Object.keys(t.attrs||{}).forEach(function(e){t.attrs[e]=m(t.attrs[e])}),t.src&&(t.src=m(t.src))),t},error:function(e){n.logger.error(e.msg)}})},r=[],i=function(){if(c.body)for(;r.length;)a(r.shift());else setTimeout(i,20)},function(e){r.push(e),i()}),p=function(){if(c.currentScript)return c.currentScript.async;for(var e=c.querySelectorAll("script"),t=0;t<e.length;t++){var s=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(s.src))return s.async}return!0}();e.exports=function(e,t){var s;o=n.getExtensionSettings().cspNonce;var a={settings:e,event:t},r=a.settings.source;if(r)return a.settings.isExternal?u(r).then(function(e){return e?(s=l(a,e),f(s.code),s.promise):d.resolve()}):(s=l(a,r),p||"loading"!==c.readyState?f(s.code):c.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?c.write(s.code):f(s.code),s.promise)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),r=s("../helpers/textMatch");e.exports=function(e){var s=a.location.hostname;return e.subdomains.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(s,t)})}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerWindowLoadedTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,s){"use strict";var r=s("../helpers/stringAndNumberUtils").isString,a=s("../helpers/stringAndNumberUtils").isNumber,n=s("../helpers/stringAndNumberUtils").castToStringIfNumber,o=s("../helpers/stringAndNumberUtils").castToNumberIfString,i=function(e,t){return t&&r(e)?e.toLowerCase():e},c=function(a){return function(e,t,s){return e=n(e),t=n(t),r(e)&&r(t)&&a(e,t,s)}},d=function(s){return function(e,t){return e=o(e),t=o(t),a(e)&&a(t)&&s(e,t)}},l=function(a){return function(e,t,s){return a(i(e,s),i(t,s))}},u={equals:l(function(e,t){return e==t}),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(l(function(e,t){return-1!==e.indexOf(t)})),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(l(function(e,t){return 0===e.indexOf(t)})),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(l(function(e,t){return e.substring(e.length-t.length,e.length)===t})),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c(function(e,t,s){return new RegExp(t,s?"i":"").test(e)}),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:d(function(e,t){return e<t}),lessThanOrEqual:d(function(e,t){return e<=t}),greaterThan:d(function(e,t){return t<e}),greaterThanOrEqual:d(function(e,t){return t<=e}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var s=e.type;-1===r.indexOf(s)&&(r.push(s),window.addEventListener(s,a.evaluateEvent,!0)),a.addListener(e,function(e){e.nativeEvent.type===s&&(e.detail=e.nativeEvent.detail,t(e))})}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),r=s("../helpers/textMatch");e.exports=function(e){var s=a.location.pathname;return e.paths.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(s,t)})}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),r=s("../helpers/textMatch");e.exports=function(e){var s=a.location.pathname+a.location.search;return e.paths.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(s,t)})}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,s){"use strict";var o=s("@adobe/reactor-window"),a=s("./helpers/createBubbly")(),i=new(s("./helpers/weakMap")),n=2,c=s("../helpers/stringAndNumberUtils").castToNumberIfString,d=function(e){if(e.ctrlKey||e.metaKey||e.button===n)return undefined;for(var t=e.target;t;){var s=t.tagName;if(s&&"a"===s.toLowerCase()){var a=t.getAttribute("href"),r=t.getAttribute("target");return a&&(!r||"_self"===r||"_top"===r&&o.top===o||r===o.name)?t:undefined}t=t.parentNode}};document.addEventListener("click",a.evaluateEvent,!0),e.exports=function(r,n){a.addListener(r,function(e){var t=e.nativeEvent;if(!t.s_fe){var s=c(r.anchorDelay);if(s&&!i.has(t)){var a=d(t);a&&(t.preventDefault(),setTimeout(function(){o.location=a.href},s)),i.set(t,!0)}n(e)}})},e.exports.__reset=a.__reset}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,s){"use strict";var a=s("./helpers/debounce"),r=s("./helpers/once"),n=window.history,o=window.location.href,i=[],c=function(t,e,s){var a=t[e];t[e]=function(){var e=a.apply(t,arguments);return s.apply(null,arguments),e}},d=a(function(){var e=window.location.href;o!==e&&(i.forEach(function(e){e()}),o=e)},0),l=r(function(){n&&(n.pushState&&c(n,"pushState",d),n.replaceState&&c(n,"replaceState",d)),window.addEventListener("popstate",d),window.addEventListener("hashchange",d)});e.exports=function(e,t){l(),i.push(t)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,s){"use strict";var a=3e3,i=new(s("./helpers/weakMap")),c=s("./helpers/matchesProperties"),d={};setInterval(function(){Object.keys(d).forEach(function(e){for(var t=d[e],s=document.querySelectorAll(e),a=0;a<s.length;a++){var r=s[a];if(!i.has(r)){i.set(r,!0);for(var n=0;n<t.length;n++){var o=t[n];c(r,o.settings.elementProperties)&&(o.trigger({element:r,target:r}),t.splice(n,1),n--)}}if(!t.length){delete d[e];break}}})},a),e.exports=function(e,t){var s=d[e.elementSelector];s||(s=d[e.elementSelector]=[]),s.push({settings:e,trigger:t})}}},"core/src/lib/events/change.js":{name:"change",displayName:"Change",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")(),r=s("../helpers/textMatch");document.addEventListener("change",a.evaluateEvent,!0),e.exports=function(e,t){var s;e.value!==undefined&&(s=e.valueIsRegex?new RegExp(e.value,"i"):e.value),a.addListener(e,function(e){if(s!==undefined&&!r(e.target.value,s))return!1;t(e)})}}},"core/src/lib/events/submit.js":{name:"submit",displayName:"Submit",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")();document.addEventListener("submit",a.evaluateEvent,!0),e.exports=function(e,t){a.addListener(e,t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,s){"use strict";var a=s("../helpers/textMatch");e.exports=function(e){var s=document.location.hash;return e.hashes.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(s,t)})}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,s){"use strict";var a=s("../helpers/getObjectProperty"),r=s("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(a(window,e.name),t)}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,s){"use strict";var a=s("./decorators/decorateGlobalJavaScriptCode"),r=s("./decorators/decorateNonGlobalJavaScriptCode"),n={javascript:function(e,t){return e.settings.global?a(e,t):r(e,t)},html:s("./decorators/decorateHtmlCode")};e.exports=function(e,t){return n[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise"),r=s("./getSourceByUrl"),n=a.resolve();e.exports=function(t){var e=new a(function(s){var e=r(t);a.all([e,n]).then(function(e){var t=e[0];s(t)})});return n=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(s,a){!function r(e,t){"object"==typeof a&&"object"==typeof s?s.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof a?a.postscribe=t():e.postscribe=t()}(this,function(){return function(s){function a(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return s[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var r={};return a.m=s,a.c=r,a.p="",a(0)}([function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=a(s(1));e.exports=r["default"]},function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function d(){}function l(){var e=c.shift();if(e){var t=o.last(e);t.afterDequeue(),e.stream=n.apply(undefined,e),t.afterStreamStart()}}function n(e,t,a){function r(e){e=a.beforeWrite(e),p.write(e),a.afterWrite(e)}(p=new m["default"](e,a)).id=f++,p.name=a.name||p.id,u.streams[p.name]=p;var s=e.ownerDocument,n={close:s.close,open:s.open,write:s.write,writeln:s.writeln};b(s,{close:d,open:d,write:function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return r(t.join(""))},writeln:function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return r(t.join("")+"\n")}});var o=p.win.onerror||d;return p.win.onerror=function(e,t,s){a.error({msg:e+" - "+t+": "+s}),o.apply(p.win,[e,t,s])},p.write(t,function(){b(s,n),p.win.onerror=o,a.done(),p=null,l()}),p}function u(e,t,s){if(o.isFunction(s))s={done:s};else if("clear"===s)return c=[],p=null,void(f=0);s=o.defaults(s,i);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,s];return e.postscribe={cancel:function r(){a.stream?a.stream.abort():a[1]=d}},s.beforeEnqueue(a),c.push(a),p||l(),e.postscribe}t.__esModule=!0;var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};t["default"]=u;var m=r(s(2)),o=a(s(4)),i={afterAsync:d,afterDequeue:d,afterStreamStart:d,afterWrite:d,autoFix:!0,beforeEnqueue:d,beforeWriteToken:function g(e){return e},beforeWrite:function v(e){return e},done:d,error:function h(e){throw new Error(e.msg)},releaseAsync:!1},f=0,c=[],p=null;b(u,{streams:{},queue:c,WriteStream:m["default"]})},function(t,s,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){var s=I+t,a=e.getAttribute(s);return w.existy(a)?String(a):a}function j(e,t,s){var a=2<arguments.length&&s!==undefined?arguments[2]:null,r=I+t;w.existy(a)&&""!==a?e.setAttribute(r,a):e.removeAttribute(r)}s.__esModule=!0;var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y=n(a(3)),w=r(a(4)),E=!1,I="data-ps-",_="ps-style",T="ps-script",o=function(){function a(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:{};P(this,a),this.root=e,this.options=s,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new y["default"]("",{autoFix:s.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],j(this.proxyRoot,"proxyof",0)}return a.prototype.write=function s(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();w.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},a.prototype._callFunction=function r(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},a.prototype._writeImpl=function n(e){this.parser.append(e);for(var t=void 0,s=void 0,a=void 0,r=[];(t=this.parser.readToken())&&!(s=w.isScript(t))&&!(a=w.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),s&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},a.prototype._writeStaticTokens=function o(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,E&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),E&&(t.actualInnerHTML=this.root.innerHTML),t):null},a.prototype._buildChunk=function l(e){for(var t=this.actuals.length,s=[],a=[],r=[],n=e.length,o=0;o<n;o++){var i=e[o],c=i.toString();if(s.push(c),i.attrs){if(!/^noscript$/i.test(i.tagName)){var d=t++;a.push(c.replace(/(\/?>)/," "+I+"id="+d+" $1")),i.attrs.id!==T&&i.attrs.id!==_&&r.push("atomicTag"===i.type?"":"<"+i.tagName+" "+I+"proxyof="+d+(i.unary?" />":">"))}}else a.push(c),r.push("endTag"===i.type?c:"")}return{tokens:e,raw:s.join(""),actual:a.join(""),proxy:r.join("")}},a.prototype._walkChunk=function i(){for(var e=void 0,t=[this.proxyRoot];w.existy(e=t.shift());){var s=1===e.nodeType;if(!s||!C(e,"proxyof")){s&&j(this.actuals[C(e,"id")]=e,"id");var a=e.parentNode&&C(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,w.toArray(e.childNodes))}},a.prototype._handleScriptToken=function c(e){var t=this,s=this.parser.clear();s&&this.writeQueue.unshift(s),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},a.prototype._handleStyleToken=function d(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},a.prototype._writeStyleToken=function u(e){var t=this._buildStyle(e);this._insertCursor(t,_),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},a.prototype._buildStyle=function t(e){var s=this.doc.createElement(e.tagName);return s.setAttribute("type",e.type),w.eachKey(e.attrs,function(e,t){s.setAttribute(e,t)}),s},a.prototype._insertCursor=function b(e,t){this._writeImpl('<span id="'+t+'"/>');var s=this.doc.getElementById(t);s&&s.parentNode.replaceChild(e,s)},a.prototype._onScriptStart=function m(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},a.prototype._onScriptDone=function f(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},a.prototype._writeScriptToken=function p(t,s){var a=this._buildScript(t),r=this._shouldRelease(a),n=this.options.afterAsync;t.src&&(a.src=t.src,this._scriptLoadHandler(a,r?n:function(){s(),n()}));try{this._insertCursor(a,T),a.src&&!r||s()}catch(e){this.options.error(e),s()}},a.prototype._buildScript=function g(e){var s=this.doc.createElement(e.tagName);return w.eachKey(e.attrs,function(e,t){s.setAttribute(e,t)}),e.content&&(s.text=e.content),s},a.prototype._scriptLoadHandler=function v(t,s){function a(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){a(),null!=s&&s(),s=null}function n(e){a(),o(e),null!=s&&s(),s=null}function e(e,t){var s=e["on"+t];null!=s&&(e["_on"+t]=s)}var o=this.options.error;e(t,"load"),e(t,"error"),R(t,{onload:function i(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){n({msg:"onload handler failed "+e+" @ "+t.src})}r()},onerror:function c(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void n({msg:"onerror handler failed "+e+" @ "+t.src})}n({msg:"remote script failed "+t.src})},onreadystatechange:function d(){/^(loaded|complete)$/.test(t.readyState)&&r()}})},a.prototype._shouldRelease=function h(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},a}();s["default"]=o},function(s){!function a(e,t){s.exports=t()}(0,function(){return function(s){function a(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return s[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var r={};return a.m=s,a.c=r,a.p="",a(0)}([function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=a(s(1));e.exports=r["default"]},function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var u=r(s(2)),b=r(s(3)),m=a(s(6)),n=s(5),f={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},o=function(){function c(e,t){var s=this,a=0<arguments.length&&e!==undefined?arguments[0]:"",r=1<arguments.length&&t!==undefined?arguments[1]:{};l(this,c),this.stream=a;var n=!1,o={};for(var i in u)u.hasOwnProperty(i)&&(r.autoFix&&(o[i+"Fix"]=!0),n=n||o[i+"Fix"]);n?(this._readToken=(0,m["default"])(this,o,function(){return s._readTokenImpl()}),this._peekToken=(0,m["default"])(this,o,function(){return s._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return c.prototype.append=function t(e){this.stream+=e},c.prototype.prepend=function s(e){this.stream=e+this.stream},c.prototype._readTokenImpl=function a(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},c.prototype._peekTokenImpl=function r(){for(var e in f)if(f.hasOwnProperty(e)&&f[e].test(this.stream)){var t=b[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},c.prototype.peekToken=function e(){return this._peekToken()},c.prototype.readToken=function n(){return this._readToken()},c.prototype.readTokens=function o(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},c.prototype.clear=function i(){var e=this.stream;return this.stream="",e},c.prototype.rest=function d(){return this.stream},c}();for(var i in(t["default"]=o).tokenToString=function(e){return e.toString()},o.escapeAttributes=function(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=(0,n.escapeQuotes)(e[s],null));return t},o.supports=u)u.hasOwnProperty(i)&&(o.browserHasFlaw=o.browserHasFlaw||!u[i]&&i)},function(t,s){"use strict";var a=!(s.__esModule=!0),r=!1,n=window.document.createElement("div");try{var o="<P><I></P></I>";n.innerHTML=o,s.tagSoup=a=n.innerHTML!==o}catch(e){s.tagSoup=a=!1}try{n.innerHTML="<P><i><P></P></i></P>",s.selfClose=r=2===n.childNodes.length}catch(e){s.selfClose=r=!1}n=null,s.tagSoup=a,s.selfClose=r},function(e,t,s){"use strict";function a(e){var t=e.indexOf("-->");if(0<=t)return new l.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new l.CharsToken(0<=t?t:e.length)}function n(e){var o,i,c;if(-1!==e.indexOf(">")){var t=e.match(u.startTag);if(t){var s=(o={},i={},c=t[2],t[2].replace(u.attr,function(e,t,s,a,r,n){s||a||r||n?arguments[5]?(o[arguments[5]]="",i[arguments[5]]=!0):o[t]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(t)&&t||"":o[t]="",c=c.replace(e,"")}),{v:new l.StartTagToken(t[1],t[0].length,o,i,!!t[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===s?"undefined":d(s)))return s.v}}}function o(e){var t=n(e);if(t){var s=e.slice(t.length);if(s.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=s.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new l.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function i(e){var t=e.match(u.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=r,t.startTag=n,t.atomicTag=o,t.endTag=i;var l=s(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=undefined;var c=s(5),a=t.Token=function a(e,t){i(this,a),this.type=e,this.length=t,this.text=""},r=(t.CommentToken=function(){function s(e,t){i(this,s),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}return s.prototype.toString=function e(){return"<!--"+this.content},s}(),t.CharsToken=function(){function t(e){i(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function e(){return this.text},t}(),t.TagToken=function(){function n(e,t,s,a,r){i(this,n),this.type=e,this.length=s,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}return n.formatTag=function o(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:null,a="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){a+=" "+r;var n=e.attrs[r];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[r]||(a+='="'+(0,c.escapeQuotes)(n)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",s!==undefined&&null!==s&&(a+=s+"</"+e.tagName+">"),a},n}());t.StartTagToken=function(){function o(e,t,s,a,r,n){i(this,o),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=s,this.booleanAttrs=a,this.html5Unary=!1,this.unary=r,this.rest=n}return o.prototype.toString=function e(){return r.formatTag(this)},o}(),t.AtomicTagToken=function(){function n(e,t,s,a,r){i(this,n),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=s,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1,this.content=r}return n.prototype.toString=function e(){return r.formatTag(this,this.content)},n}(),t.EndTagToken=function(){function s(e,t){i(this,s),this.type="endTag",this.length=t,this.text="",this.tagName=e}return s.prototype.toString=function e(){return"</"+this.tagName+">"},s}()},function(e,t){"use strict";function s(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):s}t.__esModule=!0,t.escapeQuotes=s},function(e,t){"use strict";function d(e){return e&&"startTag"===e.type&&(e.unary=a.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function l(e,t){var s=e.stream,a=d(t());return e.stream=s,a}function u(e,t){var s=t.pop();e.prepend("</"+s.tagName+">")}function b(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,s=0;t=this[s];s++)if(t.tagName===e)return!0;return!1},e}function s(s,a,t){function r(){var e=l(s,t);e&&o[e.type]&&o[e.type](e)}var n=b(),o={startTag:function i(e){var t=e.tagName;"TR"===t.toUpperCase()&&n.lastTagNameEq("TABLE")?(s.prepend("<TBODY>"),r()):a.selfCloseFix&&m.test(t)&&n.containsTagName(t)?n.lastTagNameEq(t)?u(s,n):(s.prepend("</"+e.tagName+">"),r()):e.unary||n.push(e)},endTag:function c(e){n.last()?a.tagSoupFix&&!n.lastTagNameEq(e.tagName)?u(s,n):n.pop():a.tagSoupFix&&(t(),r())}};return function e(){return r(),d(t())}}t.__esModule=!0,t["default"]=s;var a=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,m=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(t,s){"use strict";function a(e){return null!=e}function r(e){return"function"==typeof e}function n(e,t,s){var a=void 0,r=e&&e.length||0;for(a=0;a<r;a++)t.call(s,e[a],a)}function o(e,t,s){for(var a in e)e.hasOwnProperty(a)&&t.call(s,a,e[a])}function i(s,e){return s=s||{},o(e,function(e,t){a(s[e])||(s[e]=t)}),s}function c(t){try{return Array.prototype.slice.call(t)}catch(e){var s=(a=[],n(t,function(e){a.push(e)}),{v:a});if("object"===(void 0===s?"undefined":m(s)))return s.v}var a}function d(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function b(e){return l(e,"style")}s.__esModule=!0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s.existy=a,s.isFunction=r,s.each=n,s.eachKey=o,s.defaults=i,s.toArray=c,s.last=d,s.isTag=l,s.isScript=u,s.isStyle=b}])})}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,s){"use strict";var n=s("@adobe/reactor-promise"),o=0;e.exports=function(a,e){var r="_runScript"+ ++o,t=new n(function(e,s){_satellite[r]=function(t){delete _satellite[r],new n(function(e){e(t.call(a.event.element,a.event,a.event.target,n))}).then(e,s)}});return{code:'<script>_satellite["'+r+'"](function(event, target, Promise) {\n'+e+"\n});</script>",promise:t}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,s,a){"use strict";var r=s("@adobe/reactor-promise"),n=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var i=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var s;return d(e)&&(t=a.replaceTokens(t,e.event)),i(t)?(s=new r(function(e,t){o[String(n)]={resolve:e,reject:t}}),t=c(t,n),n+=1):s=r.resolve(),{code:t,promise:s}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-load-script"),r=s("@adobe/reactor-promise"),n={},o={},i=function(e){return o[e]||(o[e]=a(e)),o[e]};_satellite.__registerScript=function(e,t){n[e]=t},e.exports=function(t){return n[t]?r.resolve(n[t]):new r(function(e){i(t).then(function(){e(n[t])},function(){e()})})}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),r=s("@adobe/reactor-document"),n=-1!==a.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",i="DOM_READY",c="PAGE_BOTTOM",d=[c,i,o],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach(function(e){u[e]=[]});var b=function(e,t){d.slice(0,f(e)+1).forEach(function(e){p(t,e)})},m=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?n?null:i:void 0},f=function(e){return d.indexOf(e)},p=function(t,e){u[e].forEach(function(e){g(t,e)}),u[e]=[]},g=function(e,t){var s=t.trigger,a=t.syntheticEventFn;s(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=b.bind(null,c),r.addEventListener("DOMContentLoaded",b.bind(null,i),!0),a.addEventListener("load",b.bind(null,o),!0),a.setTimeout(function(){var e=m();e&&b(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:l.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:l.bind(null,a)})}}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},s=function(e){return"string"==typeof e||e instanceof String},a=function(e){return t(e)?String(e):e},r=function(e){return s(e
)?Number(e):e};e.exports={isNumber:t,isString:s,castToStringIfNumber:a,castToNumberIfString:r}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,s){"use strict";var a=s("./weakMap"),m=s("./matchesProperties"),f=s("./matchesSelector");e.exports=function(){var u=[],b=new a,e={addListener:function(e,t){u.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(u.length&&!b.has(t)){for(var s=t.target,a=!1;s;){for(var r=!1,n=!1,o=0;o<u.length;o++){var i=u[o],c=i.settings.elementSelector,d=i.settings.elementProperties;if((!1!==i.settings.bubbleFireIfChildFired||!a)&&(s===t.target||!1!==i.settings.bubbleFireIfParent)&&(s===t.target||c||d&&Object.keys(d).length)&&(!c||f(s,c))&&(!d||m(s,d))){var l={};e?Object.keys(t).forEach(function(e){l[e]=t[e]}):l.nativeEvent=t,l.element=s,l.target=t.target,!1!==i.callback(l)&&(n=!0,i.settings.bubbleStop&&(r=!0))}}if(r)break;n&&(a=!0),s=s.parentNode}b.set(t,!0)}},__reset:function(){u=[]}};return e}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window").WeakMap;if(void 0===a){var r=Object.defineProperty,n=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}).prototype={set:function(e,t){var s=e[this.name];return s&&s[0]===e?s[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=undefined,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=a}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,s){"use strict";var r=s("./../../helpers/textMatch"),n=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(a,e){return!e||e.every(function(e){var t=n(a,e.name),s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,s)})}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,s,r){"use strict";e.exports=function(e,t){var s=e.matches||e.msMatchesSelector;if(s)try{return s.call(e,t)}catch(a){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(s,a,r){var n=null;return function(){var e=r||this,t=arguments;clearTimeout(n),n=setTimeout(function(){s.apply(e,t)},a)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var s;return function(){return e&&(s=e.apply(t||this,arguments),e=null),s}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var s=t.split("."),a=e,r=0,n=s.length;r<n;r++){if(null==a)return undefined;a=a[s[r]]}return a}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP71d35eb3c08845a8b184c539ba8df0fa/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.3.2",endpoint:"/rest/v1/delivery",imsOrgId:"B52D1CFE5330949C0A490D45@AdobeOrg",clientCode:"bmwag",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"bmwag.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,s,a){"use strict";function r(s,e){return new c(function(t){s?e.then(function(e){e&&(s.abort=!0),t()}):t()})}function n(e){if(e){var t=new c(function(t){var s=setTimeout(function(){t(!1)},h.targetSettings.timeout),a=function a(e){e.detail&&!0===e.detail.redirect?t(!0):t(!1),clearTimeout(s),f(i,e,a)},r=function r(e){t(!1),clearTimeout(s),f(i,e,r)};m(i,C,a),m(i,j,r)});e(function(e){return r(e,t)})}}var o=s("@adobe/reactor-window"),i=s("@adobe/reactor-document"),c=s("@adobe/reactor-promise"),d=s("./modules/load-target"),l=d.initLibrarySettings,u=d.overridePublicApi,b=s("./modules/event-util"),m=b.addEventListener,f=b.removeEventListener,p=s("./modules/optin"),g=p.shouldUseOptIn,v=p.isTargetApproved,h=s("./targetSettings").extensionSettings,P=a.getSharedModule("adobe-analytics","augment-tracker"),C="at-request-succeeded",j="at-request-failed";e.exports=function(){var e=l();e&&e.enabled?((0,s("./modules/libs/at-launch").init)(o,i,e),g()&&!v()||n(P)):u(o)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,s,a){"use strict";function r(){return n.adobe&&n.adobe.target&&n.adobe.target.VERSION}var n=s("@adobe/reactor-window"),o=s("./modules/libs/at-launch"),i=o.initConfig,c=o.initDelivery,d=s("./modules/page-load"),l=s("./messages");e.exports=function(e){var t=d(e);r()?(i(t),c()):n.console&&a.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,s,a){"use strict";function r(e){var t=e.compatMode,s=e.documentMode;return t&&"CSS1Compat"===t&&(!s||9<=s)}function n(e){var t=function t(){},s=function s(){return l.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:s,applyOffer:t,applyOffers:s,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function o(){return c.adobe&&c.adobe.target&&"undefined"!=typeof c.adobe.target.getOffer}function i(){return o()?(a.logger.warn(u.ALREADY_INITIALIZED),null):(p.mboxParams=m(),p.globalMboxParams=f(),g(p,c.targetGlobalSettings||{},h),g(p,v||{},["version"]),r(d)||(p.enabled=!1,a.logger.warn(u.DELIVERY_DISABLED)),p)}var c=s("@adobe/reactor-window"),d=s("@adobe/reactor-document"),l=s("@adobe/reactor-promise"),u=s("../messages"),b=s("./params-store"),m=b.getParams,f=b.getPageLoadParams,p=s("../targetSettings").targetSettings,g=s("./object-override"),v=s("../librarySettings").TARGET_DEFAULT_SETTINGS,h=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName"];e.exports={initLibrarySettings:i,overridePublicApi:n}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,s){e.addEventListener(t,s)}function s(e,t,s){e.removeEventListener(t,s)}e.exports={addEventListener:t,removeEventListener:s}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,s){"use strict";function a(e){return"undefined"===(void 0===e?"undefined":l(e))||null===e}function r(e){var t=void 0===e?"undefined":l(e);return null!==e&&("object"===t||"function"===t)}function n(e){return r(e[p])&&r(e[b])}function o(e,t){return!!t&&!a(e)&&!a(e[f])&&n(e[f])}function i(e,t){return e[b](t)}function c(){var e=u[f];return i(e,e[g][v])}function d(){var e=h[m];return o(u,e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=s("@adobe/reactor-window").adobe,b="isApproved",m="optinEnabled",f="optIn",p="fetchPermissions",g="Categories",v="TARGET",h=s("../targetSettings").targetSettings;e.exports={shouldUseOptIn:d,isTargetApproved:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,s,a){"use strict";var r=a.getExtensionSettings(),n=r.targetSettings||{};e.exports={extensionSettings:r,targetSettings:n}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(t,s,a){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function o(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:0;return setTimeout(e,Number(s)||0)}function n(e){clearTimeout(e)}function f(e){return null==e}function i(e){return vl.call(e)}function c(e){return i(e)}function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u(e){var t=st(e);return null!=e&&("object"===t||"function"===t)}function l(e){return!!u(e)&&c(e)===hl}function b(e){return e}function m(e){return l(e)?e:b}function p(e){return f(e)?[]:Object.keys(e)}function g(e,t){return f(t)?[]:(gl(t)?jl:Rl)(m(e),t)}function v(e){return e&&e.length?e[0]:undefined}function h(e){return f(e)?[]:[].concat.apply([],e)}function P(n){for(var o=this,i=n?n.length:0,e=i;e-=1;)if(!l(n[e]))throw new TypeError("Expected a function");return function(){for(var e=0,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];for(var r=i?n[e].apply(o,s):s[0];(e+=1)<i;)r=n[e].call(o,r);return r}}function C(e,t){f(t)||(gl(t)?Pl:Cl)(m(e),t)}function j(e){return null!=e&&"object"===st(e)}function R(e){return"string"==typeof e||!gl(e)&&j(e)&&c(e)===yl}function y(e){if(!R(e))return-1;for(var t=0,s=e.length,a=0;a<s;a+=1)t=(t<<5)-t+e.charCodeAt(a)&4294967295;return t}function w(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=wl}function E(e){return null!=e&&w(e.length)&&!l(e)}function I(e,t){return El(function(e){return t[e]},e)}function _(e){for(var t=0,s=e.length,a=Array(s);t<s;)a[t]=e[t],t+=1;return a}function T(e){return e.split("")}function A(e){return f(e)?[]:E(e)?R(e)?T(e):_(e):I(p(e),e)}function k(e){if(null==e)return!0;if(E(e)&&(gl(e)||R(e)||l(e.splice)))return!e.length;for(var t in e)if(Il.call(e,t))return!1;return!0}function x(e){return f(e)?"":_l.call(e)}function O(e){return R(e)?!x(e):k(e)}function S(e){return Object.getPrototypeOf(Object(e))}function L(e){if(!j(e)||c(e)!==Tl)return!1;var t=S(e);if(null===t)return!0;var s=Ol.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&xl.call(s)===Sl}function V(e){return j(e)&&1===e.nodeType&&!L(e)}function D(e){return"number"==typeof e||j(e)&&c(e)===Vl}function M(e,t){return gl(t)?t.join(e||""):""}function F(e,t){return f(t)?[]:(gl(t)?El:Dl)(m(e),t)}function N(){}function B(){return(new Date).getTime()}function U(e,t,s){return f(s)?t:(gl(s)?Ml:Fl)(m(e),t,s)}function q(e){return null==e?e:Nl.call(e)}function G(e,t){return O(t)?[]:t.split(e||"")}function H(e,t){return e+Math.floor(Math.random()*(t-e+1))}function K(){var s=B();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(s+H(0,16))%16|0;return s=Math.floor(s/16),("x"===e?t:3&t|8).toString(16)})}function z(t,s){t[qb]&&(f(s[Yb])||(t[_m]=s[Yb]),C(function(e){f(s[e])||(t[e]=s[e])},bf))}function W(e){var t=e.documentMode;return!t||10<=t}function Y(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function Z(e){return df.test(e)}function J(e){if(Z(e))return e;var t=q(G(".",e)),s=t.length;return 3<=s&&lf.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===s?t[0]:t[1]+"."+t[0]}function $(e,t,s){var a="";e.location.protocol===cf||(a=J(e.location.hostname)),s[lm]=a,s[qb]=Y(t)&&W(t),z(s,e[Rm]||{})}function Q(e){$(dl,ll,e);var t=dl.location.protocol===cf;(uf=ul({},e))[Xb]=e[Xb]/1e3,uf[em]=e[em]/1e3,uf[dm]=uf[om]||t?"https:":""}function at(){return uf}function X(t){try{return ff(t)}catch(e){return{}}}function ee(t){try{return pf(t)}catch(e){return""}}function te(t){try{return decodeURIComponent(t)}catch(e){return t}}function se(t){try{return encodeURIComponent(t)}catch(e){return t}}function ae(e){if(vf[e])return vf[e];gf.href=e;var t=mf(gf.href);return t.queryKey=X(t.query),vf[e]=t,vf[e]}function re(e,t,s){return{name:e,value:t,expires:s}}function ne(e){var t=G("#",e);return k(t)||t.length<3?null:isNaN(parseInt(t[2],10))?null:re(te(t[0]),te(t[1]),Number(t[2]))}function oe(e){return O(e)?[]:G("|",e)}function ie(){var e=F(ne,oe(hf(jf))),t=Math.ceil(B()/1e3),s=function s(e){return u(e)&&t<=e.expires};return U(function(e,t){return e[t.name]=t,e},{},g(s,e))}function ce(e){var t=ie()[e];return u(t)?t.value:""}function de(e){return M("#",[se(e.name),se(e.value),e.expires])}function le(e){return e.expires}function ue(e){var t=F(le,e);return Math.max.apply(null,t)}function be(e,t){var s=A(e),a=Math.abs(1e3*ue(s)-B()),r=M("|",F(de,s)),n=new Date(B()+a);Pf(jf,r,{domain:t,expires:n})}function me(e){var t=e.name,s=e.value,a=e.expires,r=e.domain,n=ie();n[t]=re(t,s,Math.ceil(a+B()/1e3)),be(n,r)}function fe(e){return Ll(hf(e))}function pe(e,t){var s=X(e.location.search);return Ll(s[t])}function ge(e,t){var s=ae(e.referrer).queryKey;return!f(s)&&Ll(s[t])}function ve(e,t,s){return fe(s)||pe(e,s)||ge(t,s)}function he(){var e=at()[lm];Pf(yu,wu,{domain:e});var t=hf(yu)===wu;return Cf(yu),t}function Pe(){return ve(dl,ll,ju)}function Ce(){return at()[qb]&&he()&&!Pe()}function je(){return ve(dl,ll,Cu)}function Re(){return ve(dl,ll,Ru)}function ye(e,t){var s=e.console;return!f(s)&&l(s[t])}function we(e,t){var s=e.console;ye(e,"warn")&&s.warn.apply(s,[Rf].concat(t))}function Ee(e,t){var s=e.console;ye(e,"debug")&&je()&&s.debug.apply(s,[Rf].concat(t))}function Ie(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];we(dl,t)}function _e(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Ee(dl,t)}function Te(s){return U(function(e,t){return e[t]=s[t],e},{},bf)}function Ae(e,t,s){var a=e[jm]||[];if(e[jm]=a,s){var r=a.push;a[Zb]=yf,a[hm]=Te(t),a[Pm]=[],a[Cm]=[],a.push=function n(e){a[Cm].push(ul({timestamp:B()},e)),r.call(this,e)}}}function ke(e,t,s,a){t===Cm&&e[jm].push(s),a&&t!==Cm&&e[jm][t].push(ul({timestamp:B()},s))}function xe(){Ae(dl,at(),je())}function Oe(e){ke(dl,Cm,e,je())}function Se(e){ke(dl,Pm,e,je())}function Le(){return l(Ef)}function Ve(e){return new Ef(e)}function De(){var e=ll.createTextNode(""),t=function t(){e.textContent=0<e.textContent.length?"":"a"},s=[];return Ve(function(){for(var e=s.length,t=0;t<e;t+=1)s[t]();s.splice(0,e)}).observe(e,{characterData:!0}),function(e){s.push(e),t()}}function Me(){return function(e){var t=wf("<script>");t.on("readystatechange",function(){t.on("readystatechange",null),t.remove(),t=null,e()}),wf(ll.documentElement).append(t)}}function Fe(){Le()?fl._setImmediateFn(De()):-1!==dl.navigator.userAgent.indexOf("MSIE 10")&&fl._setImmediateFn(Me())}function Ne(e){return new fl(e)}function Be(e){return fl.resolve(e)}function Ue(e){return fl.reject(e)}function qe(e){return gl(e)?fl.race(e):Ue(new TypeError(If))}function Ge(e){return gl(e)?fl.all(e):Ue(new TypeError(If))}function He(e,s,a){var r=-1;return qe([e,Ne(function(e,t){r=o(function(){return t(new Error(a))},s)})]).then(function(e){return n(r),e},function(e){throw n(r),e})}function Ke(e){if(f(e[Km]))return!1;var t=e[Km];if(f(t[zm]))return!1;var s=t[zm];return l(s[Ym])&&l(s[Wm])}function ze(e,t){return!!t&&Ke(e)}function We(e,t){if(!Ke(e))return!0;var s=e[Km][zm],a=(e[Km][zm][Zm]||{})[t];return s[Wm](a)}function Ye(e,t){if(!Ke(e))return Be(!0);var s=e[Km][zm],a=(e[Km][zm][Zm]||{})[t];return Ne(function(e,t){s[Ym](function(){s[Wm](a)?e(!0):t(Xm)},!0)})}function Ze(){var e=at()[Qm];return ze(dl,e)}function Je(){return We(dl,Jm)}function $e(){return We(dl,$m)}function Qe(){return Ye(dl,Jm)}function Xe(){return X(dl.location.search)[mm]}function et(e,t){me({name:gm,value:e,expires:t[em],domain:t[lm]})}function tt(){if(Ze()&&!Je())return _f;var e=at(),t=Xe();return Ll(t)?et(t,e):O(ce(gm))&&et(_f,e),ce(gm)}function rt(e){var t=at();me({name:fm,value:e,expires:t[Xb],domain:t[lm]})}function nt(){return ce(fm)}function ot(e){if(O(e))return"";var t=Tf.exec(e);return k(t)||2!==t.length?"":t[1]}function it(){if(!at()[am])return"";var e=hf(pm);return O(e)?"":e}function ct(e){var t=at();if(t[am]){var s=t[lm],a=new Date(B()+t[rm]),r=hf(pm),n={domain:s,expires:a};if(Ll(r))Pf(pm,r,n);else{var o=ot(e);O(o)||Pf(pm,o,n)}}}function dt(e,a){function t(e,t){var s=a.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:undefined},s.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),s}l(e.CustomEvent)||(t.prototype=e.Event.prototype,e.CustomEvent=t)}function lt(e,t){var s=e(),a=t(),r={};return r.sessionId=s,Ll(a)&&(r.deviceId=a),r}function ut(e,t,s,a){var r=new e.CustomEvent(s,{detail:a});t.dispatchEvent(r)}function bt(e,t){var s=t.mbox,a=t.error,r=t.url,n=t.analyticsDetails,o=t.responseTokens,i=t.execution,c={type:e,tracking:lt(tt,nt)};return f(s)||(c.mbox=s),f(a)||(c.error=a),f(r)||(c.url=r),k(n)||(c.analyticsDetails=n),k(o)||(c.responseTokens=o),k(i)||(c.execution=i),c}function mt(){var e=bt(Af,{});ut(dl,ll,Af,e)}function ft(e){var t=bt(kf,e);ut(dl,ll,kf,t)}function pt(e,t){var s=bt(xf,e);s.redirect=t,ut(dl,ll,xf,s)}function gt(e){var t=bt(Of,e);ut(dl,ll,Of,t)}function vt(e){var t=bt(Sf,e);ut(dl,ll,Sf,t)}function ht(e){var t=bt(Lf,e);ut(dl,ll,Lf,t)}function Pt(e){var t=bt(Vf,e);ut(dl,ll,Vf,t)}function Ct(e){var t=bt(Df,e);ut(dl,ll,Df,t)}function jt(e){var t=bt(Mf,e);ut(dl,ll,Mf,t)}function Rt(e){var t=e.charAt(0),s=e.charAt(1),a=e.charAt(2),r={key:e};return r.val="-"===s?""+t+s+"\\3"+a+" ":t+"\\3"+s+" ",r}function yt(e){var t=e.match(Uf);return k(t)?e:U(function(e,t){return e.replace(t.key,t.val)},e,F(Rt,t))}function wt(e){for(var t,s,a,r,n=[],o=x(e),i=o.indexOf(Ff);-1!==i;)t=x(o.substring(0,i)),r=(s=x(o.substring(i))).indexOf(Nf),a=x(s.substring(Bf,r)),i=(o=x(s.substring(r+1))).indexOf(Ff),t&&a&&n.push({sel:t,eq:Number(a)});return o&&n.push({sel:o}),n}function Et(e){if(V(e))return wf(e);if(!R(e))return wf(e);var t=yt(e);if(-1===t.indexOf(Ff))return wf(t);var s=wt(t);return U(function(e,t){var s=t.sel,a=t.eq;return e=e.find(s),D(a)&&(e=e.eq(a)),e},wf(ll),s)}function It(e){return 0<Et(e).length}function _t(e){return wf("<"+Bu+"/>").append(e)}function Tt(e){return wf(e)}function At(e){return Et(e).prev()}function kt(e){return Et(e).next()}function xt(e){return Et(e).parent()}function Ot(e,t){return Et(t).is(e)}function St(e,t){return Et(t).find(e)}function Lt(e){return Et(e).children()}function Vt(){dl[Hf]=dl[Hf]||{},dl[Hf].querySelectorAll=Et}function Dt(e){if(Re()){var t=e[Dm];dl[Hf][zf]=t}}function Mt(){ll.addEventListener(Lu,function(e){l(dl[Hf][Kf])&&dl[Hf][Kf](e)},!0)}function Ft(){if(Re()){Vt();var e=at()[cm],t=function t(){return Mt()},s=function s(){return Ie(qf)};_e(Gf),pl(e).then(t)["catch"](s)}}function Nt(e){return parseInt(e,10)}function Bt(e){var t=Nt(e);return isNaN(t)?null:t}function Ut(e){return G(Xf,e)}function qt(e){var t=G(Xf,e),s=Bt(t[0]);if(f(s))return null;var a={};a.activityIndex=s;var r=Bt(t[1]);return f(r)||(a.experienceIndex=r),a}function Gt(e){return g(ep,F(qt,e))}function Ht(e){return gl(e)?Gt(e):Gt([e])}function Kt(e){var t=X(e),s=t[Yf];if(O(s))return null;var a={};a.token=s;var r=t[Jf];Ll(r)&&r===wu&&(a.listedActivitiesOnly=!0);var n=t[$f];Ll(n)&&(a.evaluateAsTrueAudienceIds=Ut(n));var o=t[Qf];Ll(o)&&(a.evaluateAsFalseAudienceIds=Ut(o));var i=t[Zf];return k(i)||(a.previewIndexes=Ht(i)),a}function zt(e){var t=Kt(e.location.search);if(!f(t)){var s=new Date(B()+186e4);Pf(Wf,JSON.stringify(t),{expires:s})}}function Wt(){var t=hf(Wf);if(O(t))return{};try{return JSON.parse(t)}catch(e){return{}}}function Yt(e){return Et(e).empty().remove()}function Zt(e,t){return Et(t).after(e)}function Jt(e,t){return Et(t).before(e)}function $t(e,t){return Et(t).append(e)}function Qt(e,t){return Et(t).prepend(e)}function Xt(e,t){return Et(t).html(e)}function es(e){return Et(e).html()}function ts(e,t){return Et(t).text(e)}function ss(e,t){return"<"+Mu+" "+Ou+'="'+e+'" '+Su+'="'+Nb+'">'+t+"</"+Mu+">"}function as(e,t){return ss(tp+y(t),t+" {"+e+"}")}function rs(e,t){return ss(rp,t+" {"+e+"}")}function ns(e){if(!0===e[Qb]&&!It(ap)){var t=e[$b];$t(ss(sp,t),Vu)}}function os(e){!0===e[Qb]&&It(ap)&&Yt(ap)}function is(e,t){if(!k(t)){var s=function s(e){return!It("#"+(tp+y(e)))},a=g(s,t);if(!k(a)){var r=e[Jb],n=function n(e){return as(r,e)};$t(M("\n",F(n,a)),Vu)}}}function cs(e,t){k(t)||It("#"+rp)||$t(rs(e[Jb],M(", ",t)),Vu)}function ds(){ns(at())}function ls(){os(at())}function us(e){is(at(),e)}function bs(e){cs(at(),e)}function ms(e){Yt("#"+(tp+y(e)))}function fs(){var e="#"+rp;It(e)&&Yt(e)}function ps(e){return!f(e[Ou])}function gs(e){return!f(e[Tm])}function vs(e){switch(e){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}function hs(e){return ps(e)||gs(e)}function Ps(e){if(f(e))return[];if(!l(e[up]))return[];var t=e[up]();return u(t)?U(function(e,t,s){var a={};return a[km]=s,ps(t)&&(a[Ou]=t[Ou]),gs(t)&&(a[Am]=vs(t[Tm])),e.push(a),e},[],g(hs,t)):[]}function Cs(e,t){return f(e)?null:l(e[lp])?e[lp](t):null}function js(e,t){if(f(e))return null;var s=e[t];return f(s)?null:s}function Rs(e,t,s){if(O(t))return null;if(f(e[fp]))return null;if(!l(e[fp][pp]))return null;var a=e[fp][pp](t,{sdidParamExpiry:s});return u(a)&&l(a[gp])&&a[gp]()?a:null}function ys(e,t){if(!l(e.getVisitorValues))return Be({});var s=[cp,op,ip];return t&&s.push(dp),Ne(function(t){e.getVisitorValues(function(e){return t(e)},s)})}function ws(e){return _e(hp,e),{}}function Es(e,t,s){return f(e)?Be({}):He(ys(e,s),t,vp)["catch"](ws)}function Is(e,t){if(!l(e.getVisitorValues))return{};var s=[cp,op,ip];t&&s.push(dp);var a={};return e.getVisitorValues(function(e){return ul(a,e)},s),a}function _s(e,t){return f(e)?{}:Is(e,t)}function Ts(){var e=at(),t=e[Hb],s=e[im];return Rs(dl,t,s)}function As(){var e=Ts(),t=at();return Es(e,t[sm],t[nm])}function ks(){return _s(Ts(),at()[nm])}function xs(){return Ps(Ts())}function Os(e){return Cs(Ts(),e)}function Ss(e){return js(Ts(),e)}function Ls(e,t){Pp[e]=t}function Vs(e){return Pp[e]}function Ds(e){var t=e[Rm];if(f(t))return!1;var s=t[wm];return!(!gl(s)||k(s))}function Ms(e){var t=e[Ab];if(!R(t)||k(t))return!1;var s=e[Zb];if(!R(s)||k(s))return!1;var a=e[zb];return!(!f(a)&&!D(a)||!l(e[Mb]))}function Fs(e){return Ne(function(s,a){e(function(e,t){f(e)?s(t):a(e)})})}function Ns(e,t,s,a,r,n){var o={};o[e]=t,o[s]=a,o[r]=n;var i={};return i[ym]=o,i}function Bs(e){var s=e[Ab],a=e[Zb],t=e[zb]||Rp;return He(Fs(e[Mb]),t,jp).then(function(e){var t=Ns(Ab,s,Zb,a,xb,e);return _e(Cp,wb,t),Se(t),e})["catch"](function(e){var t=Ns(Ab,s,Zb,a,Cb,e);return _e(Cp,Cb,t),Se(t),{}})}function Us(e){var t=U(function(e,t){return ul(e,t)},{},e);return Ls(wm,t),t}function qs(e){return Ds(e)?Ge(F(Bs,g(Ms,e[Rm][wm]))).then(Us):Be({})}function Gs(){var e=Vs(wm);return f(e)?{}:e}function Hs(){return qs(dl)}function Ks(){return Gs()}function zs(e){var t=X(e.location.search)[yp];return O(t)?null:t}function Ws(){var e=hf(wp);return O(e)?null:e}function Ys(){var e=zs(dl),t=Ws();return e||t}function Zs(e){return!k(e)&&2===e.length&&Ll(e[0])}function Js(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function $s(e,s,a,r){C(function(e,t){u(e)?(s.push(t),$s(e,s,a,r),s.pop()):k(s)?a[r(t)]=e:a[r(M(".",s.concat(t)))]=e},e)}function Qs(e){return g(function(e,t){return Ll(t)},X(e))}function Xs(e){return U(function(e,t){return e[te(x(t[0]))]=te(x(t[1])),e},{},g(Zs,U(function(e,t){return e.push(Js(t)),e},[],g(Ll,e))))}function ea(e,t){var s={};return f(t)?$s(e,[],s,b):$s(e,[],s,t),s}function ta(e){if(!l(e))return{};var t=null;try{t=e()}catch(s){return{}}return f(t)?{}:gl(t)?Xs(t):R(t)&&Ll(t)?Qs(t):u(t)?ea(t):{}}function sa(e){return ul({},e,ta(dl.targetPageParamsAll))}function aa(e){return ul({},e,ta(dl.targetPageParams))}function ra(e){var t=at(),s=t[Wb],a=t[um],r=t[bm];return s!==e?sa(a||{}):ul(sa(a||{}),aa(r||{}))}function na(){var e=ll.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(f(t))return null;var s=t.getExtension("WEBGL_debug_renderer_info");if(f(s))return null;var a=t.getParameter(s.UNMASKED_RENDERER_WEBGL);return f(a)?null:a}function oa(){var e=dl.devicePixelRatio;if(!f(e))return e;e=1;var t=dl.screen,s=t.systemXDPI,a=t.logicalXDPI;return!f(s)&&!f(a)&&a<s&&(e=s/a),e}function ia(){var e=dl.screen,t=e.orientation,s=e.width,a=e.height;if(f(t))return a<s?"landscape":"portrait";if(f(t.type))return null;var r=G("-",t.type);if(k(r))return null;var n=r[0];return f(n)?null:n}function ca(){return Ep}function da(e){return e===_p}function la(e){return-1!==e.indexOf(Ip)}function ua(e){return e===Tp}function ba(e){return e===Ap}function ma(e){return e===kp}function fa(e){return e===xp}function pa(e){return e===Op}function ga(e){return e===Sp}function va(e){return la(e)||da(e)||ua(e)||ba(e)||ma(e)||fa(e)||pa(e)||ga(e)}function ha(e){return e.substring(Ip.length)}function Pa(e){return e[_p]}function Ca(e){return e[Tp]}function ja(e){return e[Ap]}function Ra(e){return e[kp]}function ya(e){var t=F(x,G(",",e[xp]));return g(Ll,t)}function wa(e){return e[Op]}function Ea(e){return e[Sp]}function Ia(e){return U(function(e,t,s){return va(s)||(e[s]=f(t)?"":t),e},{},e)}function _a(e){return U(function(e,t,s){if(!la(s))return e;var a=ha(s);return O(a)||(e[a]=f(t)?"":t),e},{},e)}function Ta(r,n,o){return r.onload=function(){var t=1223===r.status?204:r.status;if(t<100||599<t)o(new Error(Vp));else{var s;try{s=JSON.parse(r.responseText)}catch(e){return void o(new Error(Mp))}var a=r.getAllResponseHeaders();n({status:t,headers:a,response:s})}},r}function Aa(e,t){return e.onerror=function(){t(new Error(Vp))},e}function ka(e,t,s){return e.timeout=t,e.ontimeout=function(){s(new Error(Dp))},e}function xa(s,e){return C(function(e,t){gl(e)&&C(function(e){s.setRequestHeader(t,e)},e)},1<arguments.length&&e!==undefined?arguments[1]:{}),s}function Oa(e){var a=e.url,r=e.headers,n=e.body,o=e.timeout,i=e.async;return Ne(function(e,t){var s=new window.XMLHttpRequest;(s=Aa(s=Ta(s,e,t),t)).open(Lp,a,i),s.withCredentials=!0,s=xa(s,r),i&&(s=ka(s,o,t)),s.send(JSON.stringify(n))}).then(function(e){var t=e.response,s=t.status,a=t.message;if(!f(s)&&!f(a))throw new Error(a);return t})}function Sa(e){if(e[dp])throw new Error(np);return e}function La(){var e=As(),t=Hs();return Ge([e.then(Sa),t])}function Va(){return[ks(),Ks()]}function Da(e){var t=at()[Wb];return ul({},e,ra(t))}function Ma(){return-(new Date).getTimezoneOffset()}function Fa(){var e=dl.screen;return{width:e.width,height:e.height,orientation:ia(),colorDepth:e.colorDepth,pixelRatio:oa()}}function Na(){var e=ll.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Ba(){return{host:dl.location.hostname,webGLRenderer:ca()}}function Ua(){return{url:dl.location.href,referringUrl:ll.referrer}}function qa(e){if(!f(e)&&e.channel===Fp)return e;var t=(e||{}).beacon;return{userAgent:dl.navigator.userAgent,timeOffsetInMinutes:Ma(),channel:Fp,screen:Fa(),window:Na(),browser:Ba(),address:Ua(),beacon:t}}function Ga(e,t){if(!f(e))return e;var s={};if(k(t))return s;var a=t[ip],r=parseInt(a,10);isNaN(r)||(s.locationHint=r);var n=t[op];return Ll(n)&&(s.blob=n),s}function Ha(e){var t=e.id,s=e.integrationCode,a=e.authenticatedState,r={};return Ll(t)&&(r.id=t),Ll(s)&&(r.integrationCode=s),Ll(a)&&(r.authenticatedState=a),r}function Ka(e){return F(Ha,e)}function za(e,t,s,a,r){var n={};Ll(t)&&(n.tntId=t),Ll(s)&&(n.thirdPartyId=s),Ll(e.thirdPartyId)&&(n.thirdPartyId=e.thirdPartyId);var o=a[cp];return Ll(o)&&(n.marketingCloudVisitorId=o),Ll(e.marketingCloudVisitorId)&&(n.marketingCloudVisitorId=e.marketingCloudVisitorId),k(e.customerIds)?k(r)||(n.customerIds=Ka(r)):n.customerIds=e.customerIds,n}function Wa(e,t){var s={},a=Ga(e.audienceManager,t);return k(a)||(s.audienceManager=a),k(e.analytics)||(s.analytics=e.analytics),s}function Ya(e,t){if(!f(e)&&Ll(e.token))return e;var s={},a=Ca(t);return Ll(a)&&(s.token=a),s}function Za(e){if(!f(e)&&Ll(e.authorizationToken))return e;var t={},s=Ys();return Ll(s)&&(t.authorizationToken=s),t}function Ja(e){return f(e)?Wt():e}function $a(e){var t={},s=ja(e);f(s)||(t.id=s);var a=Ra(e),r=parseFloat(a);isNaN(r)||(t.total=r);var n=ya(e);return k(n)||(t.purchasedProductIds=n),t}function Qa(e){var t={},s=wa(e);f(s)||(t.id=s);var a=Ea(e);return f(a)||(t.categoryId=a),t}function Xa(e,t){var s={},a=ul({},Ia(t),e.parameters||{}),r=ul({},_a(t),e.profileParameters||{}),n=ul({},$a(t),e.order||{}),o=ul({},Qa(t),e.product||{});return k(a)||(s.parameters=a),k(r)||(s.profileParameters=r),k(n)||(s.order=n),k(o)||(s.product=o),s}function er(e,t){var s=e.index,a=e.name,r=e.address,n=Xa(e,ul({},t,ra(a)));return f(s)||(n.index=s),Ll(a)&&(n.name=a),k(r)||(n.address=r),n}function tr(e,t){var s=e.name,a=e.address,r=Xa(e,t);return Ll(s)&&(r.name=s),k(a)||(r.address=a),r}function sr(e,t){var s=e.execute,a=void 0===s?{}:s,r={};if(k(a))return r;var n=a.pageLoad;f(n)||(r.pageLoad=Xa(n,t));var o=a.mboxes;if(!f(o)&&gl(o)&&!k(o)){var i=g(Up,F(function(e){return er(e,t)},o));k(i)||(r.mboxes=i)}return r}function ar(e,t){var s=e.prefetch,a=void 0===s?{}:s,r={};if(k(a))return r;var n=a.mboxes;f(n)||!gl(n)||k(n)||(r.mboxes=F(function(e){return er(e,t)},n));var o=a.views;return f(o)||!gl(o)||k(o)||(r.views=F(function(e){return tr(e,t)},o)),r}function rr(e,t){if(Ze()&&!$e())return null;var s=at(),a=Os(e),r=Ss(bp),n=Ss(mp),o=t.experienceCloud,i=(void 0===o?{}:o).analytics,c=void 0===i?{}:i,d=c.logging,l=c.supplementalDataId,u=c.trackingServer,b=c.trackingServerSecure,m={};return f(d)?m.logging=s[ef]:m.logging=d,f(l)||(m.supplementalDataId=l),Ll(a)&&(m.supplementalDataId=a),f(u)||(m.trackingServer=u),Ll(r)&&(m.trackingServer=r),f(b)||(m.trackingServerSecure=b),Ll(n)&&(m.trackingServerSecure=n),k(m)?null:m}function nr(e,t,s){var a=Da(s),r=nt(),n=Pa(a),o=xs(),i=za(e.id||{},r,n,t,o),c=Ya(e.property,a),d=Wa(e.experienceCloud||{},t),l=Za(e.trace),u=Ja(e.qaMode),b=sr(e,a),m=ar(e,a),f=e.notifications,p={};return p.requestId=K(),p.context=qa(e.context),k(i)||(p.id=i),k(c)||(p.property=c),k(l)||(p.trace=l),k(d)||(p.experienceCloud=d),k(u)||(p.qaMode=u),k(b)||(p.execute=b),k(m)||(p.prefetch=m),k(f)||(p.notifications=f),p}function or(e,t,s){var a=s[0],r=s[1];return nr(e,a,ul({},r,t))}function ir(t,s){return La().then(function(e){return or(t,s,e)})}function cr(e,t){return or(e,t,Va())}function dr(e,t){return D(t)?t<0?e[zb]:t:e[zb]}function lr(e){var t=e[Kb];if(!e[am])return t;var s=it();return O(s)?t:""+Np+s+Bp}function ur(e){return e[dm]+"//"+lr(e)+e[Em]+"?"+ee({client:e[Gb],sessionId:tt(),version:e[Zb]})}function br(t,e){var s=at(),a=ur(s),r=d({},Fm,[Nm]),n=dr(s,e),o={url:a,headers:r,body:t,timeout:n,async:!0};return _e(Db,t),Se({request:t}),Oa(o).then(function(e){return _e(Vb,e),Se({response:e}),{request:t,response:e}})}function mr(e,t){return{status:wb,type:e,data:t}}function fr(e,t){return{status:Cb,type:e,data:t}}function pr(e){return u(e)}function gr(e){return!!pr(e)&&Ll(e.eventToken)}function vr(e){return!k(e)&&!O(e.type)&&Ll(e.eventToken)}function hr(e){return!!vr(e)&&Ll(e.selector)}function Pr(e){var t=e.id;return u(t)&&Ll(t.tntId)}function Cr(e){var t=e.response;return Pr(t)&&rt(t.id.tntId),e}function jr(e){var t=e.response;return Pr(t)&&ct(t.id.tntId),ct(null),e}function Rr(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).trace;k(t)||Oe(t)}function yr(e){var t=e.response,s=t.execute,a=void 0===s?{}:s,r=t.prefetch,n=void 0===r?{}:r,o=a.pageLoad,i=void 0===o?{}:o,c=a.mboxes,d=void 0===c?[]:c,l=n.mboxes,u=void 0===l?[]:l,b=n.views,m=void 0===b?[]:b;return Rr(i),C(Rr,d),C(Rr,u),C(Rr,m),e}function wr(e){var t=e.queryKey,s=t[ig];if(!R(s))return t;if(O(s))return t;var a=Math.round(B()/1e3);return t[ig]=s.replace(/\|TS=\d+/,"|TS="+a),t}function Er(e){return e.queryKey}function Ir(e,t,s){var a=ae(e),r=a.protocol,n=a.host,o=a.path,i=""===a.port?"":":"+a.port,c=O(a.anchor)?"":"#"+a.anchor,d=s(a),l=ee(ul({},d,t));return r+"://"+n+i+o+(O(l)?"":"?"+l)+c}function _r(e,t){return Ir(e,t,wr)}function Tr(e,t){return Ir(e,t,Er)}function Ar(e){var t=e.content;if(O(t))return _e(ub,e),null;var s=ul({},e);return s.content=_r(t,{}),s}function kr(e){throw new Error(e)}function xr(e){var t=e[mg]||ug,s=e[fg]||kr(lg),a=e[pg]||{},r=e[gg]||null,n=e[vg]||!1,o=e[hg]||3e3,i=!!f(e[Pg])||!0===e[Pg],c={};return c[mg]=t,c[fg]=s,c[pg]=a,c[gg]=r,c[vg]=n,c[hg]=o,c[Pg]=i,c}function Or(a,r,n){return a.onload=function(){var e=1223===a.status?204:a.status;if(e<100||599<e)n(new Error(cg));else{var t=a.responseText,s=a.getAllResponseHeaders();r({status:e,headers:s,response:t})}},a}function Sr(e,t){return e.onerror=function(){t(new Error(cg))},e}function Lr(e,t,s){return e.timeout=t,e.ontimeout=function(){s(
new Error(dg))},e}function Vr(e,t){return!0===t&&(e.withCredentials=t),e}function Dr(s,e){return C(function(e,t){C(function(e){return s.setRequestHeader(t,e)},e)},e),s}function Mr(a,e){var t=xr(e),r=t[mg],n=t[fg],o=t[pg],i=t[gg],c=t[vg],d=t[hg],l=t[Pg];return Ne(function(e,t){var s=new a.XMLHttpRequest;(s=Sr(s=Or(s,e,t),t)).open(r,n,l),s=Dr(s=Vr(s,c),o),l&&(s=Lr(s,d,t)),s.send(i)})}function Fr(e){return Mr(dl,e)}function Nr(e,t,s){var a={};return a[mg]=ug,a[fg]=Tr(e,t),a[hg]=s,a}function Br(e){return 200<=e&&e<300||304===e}function Ur(e){if(!Br(e.status))return null;var t=e.response;if(O(t))return null;var s={};return s.type=Tu,s.content=t,s}function qr(e){return Fr(Nr(e.content,{},at()[hg])).then(Ur)["catch"](function(){return null})}function Gr(e){var t=e[Zl];if(O(t))return"";var s=Cg.exec(t);return k(s)||2!==s.length?"":s[1]}function Hr(e,t){var s=document.createElement(Bu);s.innerHTML=t;var a=s.firstElementChild;return f(a)?t:(a.id=e,a.outerHTML)}function Kr(e){var t=e[Ul],s=Gr(e);if(O(s)||O(t))return e;var a=e[Zl];return e[Zl]=a.replace(jg,""),e[Ul]=Hr(s,t),e}function zr(e){return!f(e.selector)}function Wr(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function Yr(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function Zr(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function Jr(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function $r(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function Qr(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function Xr(e){if(!zr(e))return null;var t=Kr(e);return R(t[Ul])?t:(_e(nb,t),null)}function en(e){return zr(e)?R(e[Ul])?e:(_e(nb,e),null):null}function tn(e){return zr(e)?u(e[Ul])?e:(_e(ob,e),null):null}function sn(e){return zr(e)?R(e[Ul])?e:(_e(bb,e),null):null}function an(e){return zr(e)?u(e[Ul])?e:(_e(ib,e),null):null}function rn(e){return zr(e)?u(e[Ul])?e:(_e(cb,e),null):null}function nn(e){return zr(e)?u(e[Ul])?e:(_e(db,e),null):null}function on(e){return zr(e)?e:null}function cn(e){return zr(e)?u(e[Ul])?e:(_e(lb,e),null):null}function dn(e){var t=e.content;return O(t)?(_e(ub,e),null):(e.content=_r(t,{}),e)}function ln(e){var t=e[Bl];if(O(t))return null;switch(t){case $l:return Wr(e);case Xl:return Yr(e);case fu:return Zr(e);case gu:return Jr(e);case hu:return $r(e);case bu:return Qr(e);case mu:return Xr(e);case cu:return en(e);case tu:return tn(e);case su:return sn(e);case au:return an(e);case nu:return rn(e);case ou:return nn(e);case iu:return on(e);case ru:return cn(e);case du:return dn(e);default:return null}}function un(e){var t=e[Ul];if(!gl(t))return null;if(k(t))return null;var s=g(Rg,F(ln,t));if(k(s))return null;var a=ul({},e);return a.content=s,a}function bn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).options;return gl(t)?k(t)?[]:Zp(F(Qp,t)):[]}function mn(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},s=t.execute,a=void 0===s?{}:s,r=t.prefetch,n=void 0===r?{}:r,o=a.pageLoad,i=void 0===o?{}:o,c=a.mboxes,d=void 0===c?[]:c,l=n.mboxes,u=void 0===l?[]:l,b=n.views,m=void 0===b?[]:b;return h([bn(i),h(F(bn,d)),h(F(bn,u)),h(F(bn,m))])}function fn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).execute,s=void 0===t?{}:t,a=s.pageLoad,r=void 0===a?{}:a,n=s.mboxes,o=void 0===n?[]:n,i=h([Jp(r)||[],h(Zp(F(Jp,o)))]),c=h(F($p,g(Wp,i))),d=g(Yp,i),l=g(Yp,c),u=d.concat(l),b={};if(k(u))return b;var m=u[0].content;return O(m)||(b.url=m),b}function pn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).analytics;return k(t)?[]:[t]}function gn(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},s=t.execute,a=void 0===s?{}:s,r=t.prefetch,n=void 0===r?{}:r,o=a.pageLoad,i=void 0===o?{}:o,c=a.mboxes,d=void 0===c?[]:c,l=n.mboxes,u=void 0===l?[]:l,b=n.views,m=void 0===b?[]:b;return h([pn(i),h(F(pn,d)),h(F(pn,u)),h(F(pn,m))])}function vn(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function hn(e,t){var s=t[0],a=t[1],r=!k(s),n=!k(a);return(r||n)&&(r&&(e.options=s),n&&(e.metrics=a)),e}function Pn(e){switch(e.type){case du:return Be(Ar(e));case Au:return qr(e);case Ob:return Be(un(e));default:return Be(e)}}function Cn(e,t){if(!gl(e))return Be([]);if(k(e))return Be([]);var s=g(t,e);return k(s)?Be([]):Ge(F(function(e){return Pn(e)},s)).then(Zp)}function jn(e,t){return gl(e)?k(e)?Be([]):Be(g(t,e)):Be([])}function Rn(e){var t=e.response.execute;if(!u(t))return Be(null);var s=t.pageLoad;if(!u(s))return Be(null);var a=s.analytics,r=s.options,n=s.metrics,o={analytics:a};return Ge([Cn(r,pr),jn(n,hr)]).then(function(e){return hn(o,e)})}function yn(e){var t=e.name,s=e.analytics,a=e.options,r=e.metrics,n={name:t,analytics:s};return Ge([Cn(a,pr),jn(r,vr)]).then(function(e){return hn(n,e)})}function wn(e){var t=e.response.execute;if(!u(t))return Be([]);var s=t.mboxes;return!gl(s)||k(s)?Be([]):Ge(F(yn,g(tg,s))).then(Zp)}function En(e,t,s){return e.index===t&&e.name===s}function In(e,t,s){var a=e.prefetch,r=(void 0===a?{}:a).mboxes,n=void 0===r?[]:r;return k(n)?null:v(g(function(e){return En(e,t,s)},n))}function _n(e,t){var s=t.index,a=t.name,r=t.state,n=t.analytics,o=t.options,i=t.metrics,c=In(e,s,a),d={name:a,state:r,analytics:n};return f(c)||vn(d,c),Ge([Cn(o,gr),jn(i,vr)]).then(function(e){return hn(d,e)})}function Tn(e){var t=e.request,s=e.response.prefetch;if(!u(s))return Be([]);var a=s.mboxes;if(!gl(a)||k(a))return Be([]);var r=g(sg,a),n=function n(e){return _n(t,e)};return Ge(F(n,r)).then(Zp)}function An(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;return k(a)?null:a[0]}function kn(e,t){var s=t.name,a=t.state,r=t.analytics,n=t.options,o=t.metrics,i=An(e),c={name:s.toLowerCase(),state:a,analytics:r};return f(i)||vn(c,i),Ge([Cn(n,gr),jn(o,hr)]).then(function(e){return hn(c,e)})}function xn(e){var t=e.request,s=e.response.prefetch;if(!u(s))return Be([]);var a=s.views;if(!gl(a)||k(a))return Be([]);var r=g(ag,a),n=function n(e){return kn(t,e)};return Ge(F(n,r)).then(Zp)}function On(e){var t=e.response.prefetch;return u(t)?jn(t.metrics,hr):Be([])}function Sn(e){var t=e[0],s=e[1],a=e[2],r=e[3],n=e[4],o={},i={};u(t)&&(i.pageLoad=t),k(s)||(i.mboxes=s);var c={};return k(a)||(c.mboxes=a),k(r)||(c.views=r),k(n)||(c.metrics=n),k(i)||(o.execute=i),k(c)||(o.prefetch=c),o}function Ln(e){var t=P([yr,Cr,jr])(e);return Ge([Rn(t),wn(t),Tn(t),xn(t),On(t)]).then(Sn)}function Vn(e){return!k(fn(e))}function Dn(e){var t=mn(e),s={};return k(t)||(s.responseTokens=t),s}function Mn(e){var t=Dn(e),s=gn(e);return k(s)||(t.analyticsDetails=s),_e(sb,e),pt(t,Vn(e)),Be(e)}function Fn(e,t){var s=Dn(t);return s.mbox=e,_e(sb,t),pt(s,Vn(t)),Be(t)}function Nn(e){return Ie(tb,e),gt({error:e}),Ue(e)}function Bn(e,t){return Ie(tb,t),gt({mbox:e,error:t}),Ue(t)}function Un(e){var t=at()[Wb],s=e.mbox,a=e.timeout,r=u(e.params)?e.params:{},n=function n(e){return Fn(s,e)},o=function o(e){return Bn(s,e)},i={},c={};s===t?c.pageLoad={}:c.mboxes=[{index:0,name:s}],i.execute=c;var d=rr(s,i);if(!k(d)){var l={};l.analytics=d,i.experienceCloud=l}return ft({mbox:s}),ir(i,r).then(function(e){return br(e,a)}).then(Ln).then(n)["catch"](o)}function qn(e){var t=at()[Wb],s=e.consumerId,a=void 0===s?t:s,r=e.request,n=e.timeout,o=rr(a,r),i=function i(e){return Mn(e)},c=function c(e){return Nn(e)};if(!k(o)){var d=r.experienceCloud||{};d.analytics=o,r.experienceCloud=d}return ft({}),ir(r,{}).then(function(e){return br(e,n)}).then(Ln).then(i)["catch"](c)}function Gn(e,t){return Et(t).addClass(e)}function Hn(e,t){return Et(t).css(e)}function Kn(e,t){return Et(t).attr(e)}function zn(e,t,s){return Et(s).attr(e,t)}function Wn(e,t){return Et(t).removeAttr(e)}function Yn(e,t,s){var a=Kn(e,s);Ll(a)&&(Wn(e,s),zn(t,a,s))}function Zn(e,t){return Ll(Kn(e,t))}function Jn(e){return new Error("Could not find: "+e)}function $n(a,r,n){return Ne(function(t,e){var s=Ve(function(){var e=n(a);k(e)||(s.disconnect(),t(e))});o(function(){s.disconnect(),e(Jn(a))},r),s.observe(ll,{childList:!0,subtree:!0})})}function Qn(){return ll[yg]===wg}function Xn(a,r,n){return Ne(function(t,e){function s(){var e=n(a);k(e)?dl.requestAnimationFrame(s):t(e)}s(),o(function(){e(Jn(a))},r)})}function eo(a,r,n){return Ne(function(t,e){function s(){var e=n(a);k(e)?o(s,Eg):t(e)}s(),o(function(){e(Jn(a))},r)})}function to(e,t,s){var a=1<arguments.length&&t!==undefined?arguments[1]:at()[tm],r=2<arguments.length&&s!==undefined?arguments[2]:Et,n=r(e);return k(n)?Le()?$n(e,a,r):Qn()?Xn(e,a,r):eo(e,a,r):Be(n)}function so(e){return Kn(Iu,e)}function ao(e){return Zn(Iu,e)}function ro(e){return C(function(e){return Yn(xu,Iu,e)},A(St(Nu,e))),e}function no(e){return C(function(e){return Yn(Iu,xu,e)},A(St(Nu,e))),e}function oo(e){return _e(fb,e),Kn(xu,zn(xu,e,Tt("<"+Nu+"/>")))}function io(e){var t=g(ao,A(St(Nu,e)));return k(t)||C(oo,F(so,t)),e}function co(e){return P([ro,io,no])(e)}function lo(e){var t=Kn(xu,e);return Ll(t)?t:null}function uo(e){return g(Ll,F(lo,A(St(ku,e))))}function bo(e){return U(function(e,t){return e.then(function(){return _e(Pb,t),Se({remoteScript:t}),pl(t)})},Be(),e)}function mo(e){return e}function fo(e,t){return Ie(eb,t),Se({action:e,error:t}),e}function po(e,t){var s,a=Et(t[Zl]),r=co(_t(t[Ul])),n=uo(r);try{s=Be(e(a,r))}catch(o){return Ue(fo(t,o))}return k(n)?s.then(function(){return mo(t)})["catch"](function(e){return fo(t,e)}):s.then(function(){return bo(n)}).then(function(){return mo(t)})["catch"](function(e){return fo(t,e)})}function go(e){var t=_t(e);return M("",U(function(e,t){return e.push(es(_t(t))),e},[],A(St(Ig,t))))}function vo(e){var t=ul({},e),s=t[Ul];if(O(s))return t;var a=Et(t[Zl]);return Ot(Vu,a)&&(t[Bl]=fu,t[Ul]=go(s)),t}function ho(e){return e.indexOf("px")===e.length-2?e:e+"px"}function Po(e,t){return Xt(es(t),e)}function Co(e){return _e(rb,e),po(Po,e)}function jo(e){var t=Et(e[Zl]),s=e[Ul];return _e(rb,e),Se({action:e}),ts(s,t),Be(e)}function Ro(e,t){return $t(es(t),e)}function yo(e){return _e(rb,e),po(Ro,e)}function wo(e,t){return Qt(es(t),e)}function Eo(e){return _e(rb,e),po(wo,e)}function Io(e,t){var s=xt(e);return Yt(Jt(es(t),e)),s}function _o(e){return _e(rb,e),po(Io,e)}function To(e,t){return At(Jt(es(t),e))}function Ao(e){return _e(rb,e),po(To,e)}function ko(e,t){return kt(Zt(es(t),e))}function xo(e){return _e(rb,e),po(ko,e)}function Oo(e,t){return xt(Jt(es(t),e))}function So(e){return _e(rb,e),po(Oo,e)}function Lo(e){var t=e[Ul],s=Et(e[Zl]);return _e(rb,e),Se({action:e}),Wn(xu,s),zn(xu,oo(t),s),Be(e)}function Vo(e){var t=e[Ul],s=Et(e[Zl]);return _e(rb,e),Se({action:e}),C(function(e,t){return zn(t,e,s)},t),Be(e)}function Do(e,t,a){C(function(s){C(function(e,t){return s.style.setProperty(t,e,a)},t)},A(e))}function Mo(e){var t=Et(e[Zl]),s=e[Ul],a=s[Yl];return _e(rb,e),Se({action:e}),O(a)?Hn(s,t):Do(t,s,a),Be(e)}function Fo(e){var t=Et(e[Zl]),s=e[Ul];return s[Gl]=ho(s[Gl]),s[ql]=ho(s[ql]),_e(rb,e),Se({action:e}),Hn(s,t),Be(e)}function No(e){var t=Et(e[Zl]),s=e[Ul];return s[Hl]=ho(s[Hl]),s[Kl]=ho(s[Kl]),_e(rb,e),Se({action:e}),Hn(s,t),Be(e)}function Bo(e){var t=Et(e[Zl]);return _e(rb,e),Se({action:e}),Yt(t),Be(e)}function Uo(e){var t=Et(e[Zl]),s=e[Ul],a=s[zl],r=s[Wl],n=A(Lt(t)),o=n[a],i=n[r];return It(o)&&It(i)?(_e(rb,e),Se({action:e}),a<r?Zt(o,i):Jt(o,i),Be(e)):(_e(mb,e),Ue(e))}function qo(e){var t=vo(e);switch(t[Bl]){case $l:return Co(t);case Xl:return jo(t);case fu:return yo(t);case gu:return Eo(t);case hu:return _o(t);case bu:return Ao(t);case mu:return xo(t);case cu:return So(t);case tu:return Vo(t);case su:return Lo(t);case au:return Mo(t);case nu:return Fo(t);case ou:return No(t);case iu:return Bo(t);case ru:return Uo(t);default:return Be(t)}}function Go(e){return e[Bl]===lu||e[Bl]===uu}function Ho(e){var t=e[Zl];return Ll(t)||V(t)}function Ko(e){var t=e.key;if(!O(t)&&Ho(e)){var s=e[Zl];zn(_g,t,s)}}function zo(e){var t=e[Jl];O(t)||ms(t)}function Wo(e){if(Ho(e)){var t=e[Zl];Go(e)?Gn(Ub,t):(Gn(Bb,t),zo(e))}else zo(e)}function Yo(e){C(Wo,e)}function Zo(e){var t=e.key;if(O(t))return!0;if(e[Bl]===cu)return e[xm];var s=e[Zl],a=Kn(_g,s);return a!==t||a===t&&!e[xm]}function Jo(s){return Zo(s)?qo(s).then(function(){return _e(ab,s),Se({action:s}),Ko(s),Wo(s),s})["catch"](function(e){Ie(eb,e),Se({action:s,error:e}),Wo(s);var t=ul({},s);return t[Cb]=!0,t}):(Wo(s),s)}function $o(e){var t=g(function(e){return!0===e[Cb]},e);return k(t)?Be():(Yo(t),Ue(e))}function Qo(t){return to(t[Zl]).then(function(){return t})["catch"](function(){var e=ul({},t);return e[Cb]=!0,e})}function Xo(e){return Qo(e).then(Jo)}function ei(e){return Ge(F(Xo,e)).then($o)}function ti(e,t,s){return Et(s).on(e,t)}function si(e,t,s){return Et(s).off(e,t)}function ai(e){return to(e[Zl]).then(function(){return Se({metric:e}),ul({found:!0},e)})["catch"](function(){return Ie(Tg,e),Se({metric:e,message:Tg}),e})}function ri(e,t,s){return e[Ag][kg](t,s)}function ni(e,t,s){var a={};a[Fm]=[Nm];var r={};r[mg]=bg,r[fg]=t,r[gg]=s,r[vg]=!0,r[Pg]=!1,r[pg]=a;try{e(r)}catch(n){return!1}return!0}function oi(e){return Ag in e&&kg in e[Ag]}function ii(e,t){return oi(dl)?ri(dl,e,t):ni(Fr,e,t)}function ci(e){var t=e.name,s=Vs(Sm)||{};s[t]=e,Ls(Sm,s)}function di(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:{},a=s.page,r=void 0===a||a,n=(Vs(Sm)||{})[e];if(f(n))return n;var o=s.impressionId;return f(o)?n:ul({page:r,impressionId:o},n)}function li(e){C(ci,e)}function ui(e){var t=rr(e,{}),s={context:{beacon:!0}};if(!k(t)){var a={};a.analytics=t,s.experienceCloud=a}return s}function bi(e,t,s){var a=cr(ui(e),t);return a.notifications=s,a}function mi(e,t,s){return ir(ui(e),t).then(function(e){return e.notifications=s,e})}function fi(e,t,s){var a={id:K(),type:t,timestamp:B(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return k(s)||(a.tokens=s),a}function pi(e,t,s){var a=e.name,r=e.state,n=fi(e,t,s);return n.mbox={name:a,state:r},n}function gi(e,t,s){var a=e.name,r=e.state,n=fi(e,t,s);return n.view={name:a,state:r},n}function vi(e){var t=ur(at());return ii(t,JSON.stringify(e))?(_e(xg,t,e),!0):(Ie(Og,t,e),!1)}function hi(e,t,s){var a=ra(at()[Wb]),r=fi(Xa({},a),t,[s]),n=bi(K(),a,[r]);_e(Dg,e,r),Se({source:e,event:t,request:n}),vi(n)}function Pi(e,t,s){var a=ra(e),r=fi(Xa({},a),t,[s]);r.mbox={name:e};var n=bi(K(),a,[r]);_e(Mg,e,r),Se({mbox:e,event:t,request:n}),vi(n)}function Ci(e){var t=at()[Wb],n=[],o=Mm;if(C(function(e){var t=e.mbox,s=e.data;if(!f(s)){var a=s.eventTokens,r=void 0===a?[]:a;k(r)||n.push(pi(t,o,r))}},e),!k(n)){var s=bi(t,{},n);_e(Vg,n),Se({source:Ng,event:Bg,request:s}),vi(s)}}function ji(e,t,s){var a=ra(at()[Wb]),r=fi(Xa({},a),t,[s]);r.view={name:e};var n=bi(K(),a,[r]);_e(Fg,e,r),Se({view:e,event:t,request:n}),vi(n)}function Ri(e){var t=e.viewName,s=e.impressionId,a=ra(at()[Wb]),r=fi(Xa({},a),Mm,[]);r.view={name:t},_e(Sg,t),mi(t,a,[r]).then(function(e){e.impressionId=s,Se({view:t,event:Ug,request:e}),vi(e)})}function yi(e){if(!f(e)){var t=e.view,s=e.data,a=(void 0===s?{}:s).eventTokens,r=void 0===a?[]:a;if(!k(r)){var n=t.name,o=t.impressionId,i=di(n);if(!f(i)){var c=bi(n,{},[gi(i,Mm,r)]);c.impressionId=o,_e(Lg,n,r),Se({view:n,event:Bg,request:c}),vi(c)}}}}function wi(e,t){e===Lu&&Gn(Ub,t)}function Ei(e,t){return!f(qg[e])&&!f(qg[e][t])}function Ii(e,a,r){if(f(qg[e])){var t=p(qg);k(t)||C(function(s){C(function(e){var t=qg[s][e];si(a,t,r)},p(qg[s])),delete qg[s]},t)}}function _i(e,t,s){qg[e]=qg[e]||{},qg[e][t]=s}function Ti(e,t,s,a){var r=s.type,n=s.selector,o=s.eventToken,i=y(r+":"+n+":"+o),c=function c(){return a(e,r,o)};wi(r,n),t?Ei(e,i)||(Ii(e,r,n),_i(e,i,c),ti(r,c,n)):ti(r,c,n)}function Ai(t,s,e,a){return Ge(F(ai,e)).then(function(e){return C(function(e){return Ti(t,s,e,a)},g(function(e){return e.found},e)),zg()})["catch"](Wg)}function ki(e){return Ai(e.name,!1,Kg(e),Pi)}function xi(e){return Ai(e.name,!0,Kg(e),ji)}function Oi(e){return Ai(Gg,!1,Kg(e),hi)}function Si(e){return Ai(Hg,!1,Kg(e),hi)}function Li(e){var t=F(Zg,e);us(Zp(t))}function Vi(e){var t=F(Zg,e);bs(Zp(t))}function Di(e){var t=g(Wp,Jp(e));return h(F(Yg,t))}function Mi(e){return u(e)&&e.type!==eu}function Fi(e,t,s){return F(function(e){return ul({key:t,page:s},e)},g(Mi,e))}function Ni(e,t,s){var a=e.eventToken;return ei(Fi(e.content,t,s)).then(function(){return Jg(a)})["catch"]($g)}function Bi(e){return u(e)&&e.type!==_u}function Ui(e,t){return F(e,g(Bi,Jp(t)))}function qi(e,t,s){var a=d({status:wb},e,t),r=F(ng,g(zp,s)),n={};return k(r)||(a.status=Cb,n.errors=r),k(n)||(a.data=n),a}function Gi(e,t,s){var a=d({status:wb},e,t),r=F(ng,g(zp,s)),n=F(ng,g(Qg,s)),o={};return k(r)||(a.status=Cb,o.errors=r),k(n)||(o.eventTokens=n),k(o)||(a.data=o),a}function Hi(t,e,s){var a=function a(e){return Ni(e,!0)};return Ge(Ui(a,t)).then(e).then(function(e){return s(t),e})}function Ki(t,s,a,r){var n=s.name,o=function o(e){return Ni(e,n,a)};return Ge(Ui(o,s)).then(function(e){return Gi(t,s,e)}).then(function(e){return r(s),e})}function zi(t){var s=function s(e){return qi(_b,t,e)};return Hi(t,s,ki)}function Wi(e){return Ki(_b,e,!0,ki)}function Yi(e){Li(Di(e))}function Zi(e,t){if(!(1<arguments.length&&t!==undefined&&arguments[1])){var s=e.execute,a=(void 0===s?{}:s).pageLoad,r=void 0===a?{}:a;k(r)||Yi(r)}}function Ji(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;k(a)||Vi(h(F(Di,a)))}function $i(e){Li(Di(e)),fs()}function Qi(t){var s=function s(e){return qi(Fb,t,e)};return Hi(t,s,Oi)}function Xi(e){return Ge(F(zi,e))}function ec(e){return Ge(F(Wi,e))}function tc(e){return Ge([Si(e)]).then(qi)}function sc(e){var t=e.page;return Ki(Om,e,t,xi)}function ac(){}function rc(){return new Xg}function nc(e,t,s){e.emit(t,s)}function oc(e,t,s){e.on(t,s)}function ic(e,t){nc(tv,e,t)}function cc(e,t){oc(tv,e,t)}function dc(e){return{type:du,content:e.url}}function lc(e){var t={};return t.type=$l,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function uc(e){var t={};return t.type=Xl,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bc(e){var t={};return t.type=fu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function mc(e){var t={};return t.type=gu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fc(e){var t={};return t.type=hu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pc(e){var t={};return t.type=bu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gc(e){var t={};return t.type=mu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vc(e){var t={};return t.type=cu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hc(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===xu)return t.type=su,t.content=e.value,t;t.type=tu;var s={};return s[e.attribute]=e.value,t.content=s,t}function Pc(e){var t=e.style,s=void 0===t?{}:t,a={};return a.selector=e.selector,a.cssSelector=e.cssSelector,f(s.left)||f(s.top)?f(s.width)||f(s.height)?a.type=au:a.type=nu:a.type=ou,a.content=s,a}function Cc(e){var t={};return t.type=iu,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function jc(e){var t={};t.from=e.from,t.to=e.to;var s={};return s.type=ru,s.selector=e.selector,s.cssSelector=e.cssSelector,s.content=t,s}function Rc(e){return Ll(e.selector)&&Ll(e.cssSelector)}function yc(e){var t={};if(k(e))return t;var s=[],a=[],r=[];C(function(e){switch(e.action){case Ql:Rc(e)?r.push(lc(e)):s.push({type:Tu,content:e.content});break;case eu:k(e.content)||C(function(e){return s.push({type:_u,content:e})},e.content);break;case Xl:r.push(uc(e));break;case pu:r.push(bc(e));break;case vu:r.push(mc(e));break;case Pu:r.push(fc(e));break;case bu:r.push(pc(e));break;case mu:r.push(gc(e));break;case cu:r.push(vc(e));break;case tu:r.push(hc(e));break;case au:r.push(Pc(e));break;case iu:r.push(Cc(e));break;case ru:r.push(jc(e));break;case du:s.push(dc(e));break;case lu:a.push({type:Lu,selector:e.selector,eventToken:e.clickTrackId})}},e);var n={};if(!k(r)&&s.push({type:Ob,content:r}),!k(s)&&(n.options=s),!k(a)&&(n.metrics=a),k(n))return t;var o={};return o.pageLoad=n,t.execute=o,t}function wc(e,t){var s={};if(k(t))return s;var a=[],r=[];C(function(e){switch(e.action){case Ql:a.push({type:Tu,content:e.content});break;case eu:k(e.content)||C(function(e){return a.push({type:_u,content:e})},e.content);break;case du:a.push(dc(e));break;case uu:r.push({type:Lu,eventToken:e.clickTrackId})}},t);var n={name:e};if(!k(a)&&(n.options=a),!k(r)&&(n.metrics=r),k(n))return s;var o={},i=[n];return o.mboxes=i,s.execute=o,s}function Ec(e,t,s){return s?yc(t):wc(e,t)}function Ic(e){var t=e.status,s=e.data,a={status:t,pageLoad:!0};return f(s)||(a.data=s),a}function _c(e){var t=e.status,s=e.mbox,a=e.data,r={status:t,mbox:s.name};return f(a)||(r.data=a),r}function Tc(e){var t=e.status,s=e.view,a=e.data,r={status:t,view:s.name};return f(a)||(r.data=a),r}function Ac(e){var t=e.status,s=e.data,a={status:t,prefetchMetrics:!0};return f(s)||(a.data=s),a}function kc(e){if(f(e))return[null];var t=F(Ic,[e]);return ov(t)&&Ie(sv,e),t}function xc(e){if(f(e))return[null];var t=F(_c,e);return ov(t)&&Ie(av,e),t}function Oc(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:Ci;if(f(e))return[null];var a=F(_c,e);return ov(a)&&Ie(av,e),s(e),a}function Sc(e,t){var s=1<arguments.length&&t!==undefined?arguments[1]:yi;if(f(e))return[null];var a=F(Tc,[e]);return ov(a)&&Ie(rv,e),e.view.page&&s(e),a}function Lc(e){if(f(e))return[null];var t=F(Ac,[e]);return ov(t)&&Ie(nv,e),t}function Vc(e){var t=h([kc(e[0]),xc(e[1]),Oc(e[2]),Lc(e[3])]),s=g(Hp,t),a=g(zp,s);return k(a)?Be(s):Ue(a)}function Dc(e){return Ue(e)}function Mc(a,e){if(!k(e)){var t=e.options;k(t)||C(function(e){if(e.type===Tu){var t=$l,s=e.content;e.type=Ob,e.content=[{type:t,selector:a,content:s}]}},t)}}function Fc(t,e){var s=e.metrics;if(!k(s)){var a=e.name;C(function(e){e.name=a,e.selector=e.selector||t},s)}}function Nc(t,e){var s=ul({},e),a=s.execute,r=void 0===a?{}:a,n=s.prefetch,o=void 0===n?{}:n,i=r.pageLoad,c=void 0===i?{}:i,d=r.mboxes,l=void 0===d?[]:d,u=o.mboxes,b=void 0===u?[]:u;return Mc(t,c),C(function(e){return Mc(t,e)},l),C(function(e){return Fc(t,e)},l),C(function(e){return Mc(t,e)},b),C(function(e){return Fc(t,e)},b),s}function Bc(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;k(a)||li(a)}function Uc(e){var t=[],s=e.execute,a=void 0===s?{}:s,r=a.pageLoad,n=void 0===r?{}:r,o=a.mboxes,i=void 0===o?[]:o;k(n)?t.push(Be(null)):t.push(Qi(n)),k(i)?t.push(Be(null)):t.push(Xi(i));var c=e.prefetch,d=void 0===c?{}:c,l=d.mboxes,u=void 0===l?[]:l,b=d.metrics,m=void 0===b?[]:b;return k(u)?t.push(Be(null)):t.push(ec(u)),gl(m)&&!k(m)?t.push(tc(d)):t.push(Be(null)),ls(),Ge(t).then(Vc)["catch"](Dc)}function qc(e,t){o(function(){return e.location.replace(t)})}function Gc(e){return Ll(e)?e:V(e)?e:Vu}function Hc(e){Gn(Bb,e)}function Kc(e){var t=e.mbox,s=e.selector,a=e.offer,r=at(),n=t===r[Wb];if(k(a))return _e(vb),Hc(s),ls(),void Ct({mbox:t});var o=Nc(s,Ec(t,a,n)),i=fn(o);if(!k(i)){var c=i.url;return _e(hb,i),jt({url:c}),void qc(dl,c)}vt({mbox:t}),Zi(o),Uc(o).then(function(e){k(e)||ht({mbox:t,execution:e})})["catch"](function(e){return Pt({error:e})})}function zc(e,t){var s=1<arguments.length&&t!==undefined&&arguments[1],a=e.selector,r=e.response;if(k(r))return _e(vb),Hc(a),ls(),Ct({}),ic(nf),Be();var n=Nc(a,r),o=fn(n);if(k(o))return vt({}),Bc(n),ic(rf),Zi(n,s),Uc(n).then(function(e){k(e)||ht({execution:e})})["catch"](function(e){return Pt({error:e})});var i=o.url;return _e(hb,o),jt({url:i}),ic(of),qc(dl,i),Be()}function Wc(e){var t=e[tf];if(k(t))return!1;var s=t.request,a=t.response;return!k(s)&&!k(a)}function Yc(e){return e[tf]}function Zc(e){Ie(iv,Um,e),Se({source:iv,error:e}),ls()}function Jc(e,t){var s=1<arguments.length&&t!==undefined&&arguments[1],a={selector:Vu,response:e};_e(iv,Vb,e),Se({source:iv,response:e}),zc(a,s)["catch"](Zc)}function $c(e,t){var s=ul({},t),a=s.execute,r=s.prefetch,n=e[_m],o=e[Im];return a&&(s.execute.mboxes=null),a&&!n&&(s.execute.pageLoad=null),r&&(s.prefetch.mboxes=null),r&&!o&&(s.prefetch.views=null),s}function Qc(e){var t=Yc(e),s=t.request,a=t.response,r=!0;_e(iv,Hm),Se({source:iv,serverState:t});var n=$c(e,a);Zi(n),Ji(n),Ln({request:s,response:n}).then(function(e){return Jc(e,r)})["catch"](Zc)}function Xc(){if(!Ce())return Ie(iv,Uu),void Se({source:iv,error:Uu});var e=at();if(Wc(e))Qc(e);else{var t=e[_m],s=e[Im];if(!t&&!s)return _e(iv,Gm),void Se({source:iv,error:Gm});ds();var a={};if(t){var r={pageLoad:{}};a.execute=r}if(s){var n={views:[{}]};a.prefetch=n}var o=e[zb];_e(iv,Db,a),Se({source:iv,request:a});var i={request:a,timeout:o};Ze()&&!Je()?Qe().then(function(){qn(i).then(Jc)["catch"](Zc)})["catch"](Zc):qn(i).then(Jc)["catch"](Zc)}}function ed(){var e={};return e[yb]=!0,e}function td(e){var t={};return t[yb]=!1,t[Cb]=e,t}function sd(e){return O(e)?td(Zu):e.length>Eu?td(Ju):ed()}function ad(e){if(!u(e))return td(Gu);var t=sd(e[_b]);return t[yb]?l(e[wb])?l(e[Cb])?ed():td(Qu):td($u):t}function rd(e){if(!u(e))return td(Gu);var t=e.request;if(!u(t))return td(Hu);var s=t.execute,a=t.prefetch;return u(s)||u(a)?ed():td(zu)}function nd(e){if(!u(e))return td(Gu);var t=e.request;if(!u(t))return td(Hu);var s=t.execute,a=t.prefetch,r=t.notifications;return u(s)||u(a)?td(Wu):gl(r)?ed():td(Yu)}function od(e){if(!u(e))return td(Gu);var t=sd(e[_b]);if(!t[yb])return t;var s=e[Tb];return gl(s)?ed():td(Xu)}function id(e){return u(e)?u(e.response)?ed():td(Ku):td(Gu)}function cd(e){if(!u(e))return td(Gu);var t=sd(e[_b]);return t[yb]?ed():t}function dd(e){return{action:du,url:e.content}}function ld(e){var t={};return t.action=Ql,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ud(e){var t={};return t.action=Xl,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bd(e){var t={};return t.action=pu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function md(e){var t={};return t.action=vu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fd(e){var t={};return t.action=Pu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pd(e){var t={};return t.action=bu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gd(e){var t={};return t.action=mu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vd(e){var t={};return t.action=cu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hd(e){var t=p(e.content)[0],s={};return s.action=tu,s.attribute=t,s.value=e.content[t],s.selector=e.selector,s.cssSelector=e.cssSelector,s}function Pd(e){var t={};return t.action=tu,t.attribute=xu,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Cd(e){var t={};return t.action=au,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function jd(e){var t={};return t.action=au,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Rd(e){var t={};return t.action=au,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function yd(e){var t={};return t.action=iu,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function wd(e){var t={};return t.action=ru,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ed(e){var t=[];return C(function(e){switch(e.type){case $l:t.push(ld(e));break;case Xl:t.push(ud(e));break;case fu:t.push(bd(e));break;case gu:t.push(md(e));break;case hu:t.push(fd(e));break;case bu:t.push(pd(e));break;case mu:t.push(gd(e));break;case cu:t.push(vd(e));break;case tu:t.push(hd(e));break;case su:t.push(Pd(e));break;case au:t.push(Cd(e));break;case nu:t.push(jd(e));break;case ou:t.push(Rd(e));break;case iu:t.push(yd(e));break;case ru:t.push(wd(e));break;case du:t.push(dd(e))}},e),t}function Id(e){if(k(e))return[];var t=[];return C(function(e){e.type===Lu&&(rg(e)?t.push({action:lu,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:uu,clickTrackId:e.eventToken}))},e),t}function _d(e){if(k(e))return[];var t=[],s=[],a=[],r=e.options,n=void 0===r?[]:r,o=e.metrics,i=void 0===o?[]:o;C(function(e){switch(e.type){case Tu:t.push(e.content);break;case _u:s.push(e.content);break;case du:a.push(dd(e));break;case Ob:a.push.apply(a,Ed(e.content))}},n),k(t)||a.push({action:Ql,content:t.join("")}),k(s)||a.push({action:eu,content:s});var c=Id(i);return k(c)||a.push.apply(a,c),a}function Td(e){var t=e.execute,s=void 0===t?{}:t,a=s.pageLoad,r=void 0===a?{}:a,n=s.mboxes,o=void 0===n?[]:n,i=[];return i.push.apply(i,_d(r)),i.push.apply(i,h(F(_d,o))),i}function Ad(e,t){var s=Td(t);e[wb](s)}function kd(e,t){var s=t[kb]||Rb;e[Cb](s,t)}function xd(t){var e=ad(t),s=e[Cb];if(!e[yb])return Ie(cv,s),void Se({source:cv,options:t,error:s});if(!Ce())return o(t[Cb](jb,Uu)),Ie(cv,Uu),void Se({source:cv,options:t,error:Uu});var a=function a(e){return Ad(t,e)},r=function r(e){return kd(t,e)};_e(cv,t),Se({source:cv,options:t}),Ze()&&!Je()?Qe().then(function(){Un(t).then(a)["catch"](r)}):Un(t).then(a)["catch"](r)}function Od(e){var t=rd(e),s=t[Cb];return t[yb]?Ce()?(_e(dv,e),Se({source:dv,options:e}),!Ze()||Je()?qn(e):Qe().then(function(){return qn(e)})):(Ie(dv,Uu),Se({source:dv,options:e,error:Uu}),Ue(new Error(Uu))):(Ie(dv,s),Se({source:dv,options:e,error:s}),Ue(t))}function Sd(e){var t=Gc(e.selector),s=od(e),a=s[Cb];return s[yb]?Ce()?(e.selector=t,_e(lv,e),Se({source:lv,options:e}),void Kc(e)):(Ie(lv,Uu),Se({source:lv,options:e,error:Uu}),void Hc(t)):(Ie(lv,e,a),Se({source:lv,options:e,error:a}),void Hc(t))}function Ld(e){var t=Gc(e.selector),s=id(e),a=s[Cb];return s[yb]?Ce()?(e.selector=t,_e(uv,e),Se({source:uv,options:e}),zc(e)):(Ie(uv,Uu),Se({source:uv,options:e,error:Uu}),Hc(t),Ue(new Error(Uu))):(Ie(uv,e,a),Se({source:uv,options:e,error:a}),Hc(t),Ue(s))}function Vd(e){var t=at()[Wb],s=e.consumerId,a=void 0===s?t:s,r=e.request,n=nd(e),o=n[Cb];if(!n[yb])return Ie(bv,o),void Se({source:bv,options:e,error:o});if(!Ce())return Ie(bv,Uu),void Se({source:bv,options:e,error:Uu});_e(bv,e),Se({source:bv,options:e});var i=bi(a,{},r.notifications);!Ze()||Je()?vi(i):Ie(bv,Xm)}function Dd(e,t){var s=t[_b],a=ul({},t),r=u(t.params)?t.params:{};return a[xb]=ul({},ra(s),r),a[zb]=dr(e,t[zb]),a[wb]=l(t[wb])?t[wb]:N,a[Cb]=l(t[Cb])?t[Cb]:N,a}function Md(e){var t=e[Bl],s=e[Zl];return Ll(t)&&(Ll(s)||V(s))}function Fd(e){var t=e.mbox,s=u(e.params)?e.params:{},a=ul({},ra(t),s),r=Mm,n=fi(Xa({},a),r,[]);if(n.mbox={name:t},vi(bi(t,a,[n])))return _e(pb,e),void e[wb]();Ie(gb,e),e[Cb](Rb,gb)}function Nd(e){if(Ze()&&!Je())return Ie(gb,Xm),void e[Cb](Cb,Xm);Fd(e)}function Bd(e){return Nd(e),!e.preventDefault}function Ud(e){var t=e[Zl],s=e[Bl],a=A(Et(t)),r=function r(){return Bd(e)};C(function(e){return ti(s,r,e)},a)}function qd(e){var t=cd(e),s=t[Cb];if(!t[yb])return Ie(mv,s),void Se({source:mv,options:e,error:s});var a=Dd(at(),e);if(!Ce())return Ie(mv,Uu),o(a[Cb](jb,Uu)),void Se({source:mv,options:e,error:Uu});_e(mv,a),Se({source:mv,options:a}),Md(a)?Ud(a):Nd(a)}function Gd(e){return $i(e),sc(e).then(Sc).then(function(e){k(e)||ht({execution:e})})["catch"](function(e){Ie(Bm,e),Pt({error:e})})}function Hd(){for(;0<pv.length;){var e=pv.pop(),t=di(e.viewName,e);f(t)||Gd(t)}}function Kd(){vv=gv,Hd()}function zd(){cc(rf,Kd),cc(nf,Kd),cc(of,Kd)}function Wd(e,t){var s={};return s.viewName=e,s.impressionId=K(),s.page=!0,k(t)||(s.page=!!t.page),s}function Yd(e){Dt(e),f(di(e.viewName,e))&&e.page&&Ri(e),pv.push(e),vv===gv&&Hd()}function Zd(e,t){if(!R(e)||O(e))return Ie(fv,qm,e),void Se({source:fv,view:e,error:qm});var s=e.toLowerCase(),a=Wd(s,t);_e(fv,s,a),Se({source:fv,view:s,options:a}),Yd(a)}function Jd(){Ie(Pv,arguments)}function $d(){Ie(Cv,arguments)}function Qd(){Ie(jv,arguments)}function Xd(){Ie(Rv,arguments)}function el(e){var t=function t(){},s=function s(){return Be()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:s,applyOffer:t,applyOffers:s,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function tl(e,t,s){if(e.adobe&&e.adobe.target&&"undefined"!=typeof e.adobe.target.getOffer)Ie(qu);else{Q(s);var a=at(),r=a[Zb];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=r,e.adobe.target.event={LIBRARY_LOADED:Af,REQUEST_START:kf,REQUEST_SUCCEEDED:xf,REQUEST_FAILED:Of,CONTENT_RENDERING_START:Sf,CONTENT_RENDERING_SUCCEEDED:Lf,CONTENT_RENDERING_FAILED:Vf,CONTENT_RENDERING_NO_OFFERS:Df,CONTENT_RENDERING_REDIRECT:Mf},!a[qb])return el(e),void Ie(Uu);xe(),Ft(),zt(e),e.adobe.target.getOffer=xd,e.adobe.target.getOffers=Od,e.adobe.target.applyOffer=Sd,e.adobe.target.applyOffers=Ld,
e.adobe.target.sendNotifications=Vd,e.adobe.target.trackEvent=qd,e.adobe.target.triggerView=Zd,e.adobe.target.registerExtension=Jd,e.mboxCreate=$d,e.mboxDefine=Qd,e.mboxUpdate=Xd,mt()}}var sl,al,rl,nl,ol,il,cl,dl=a("@adobe/reactor-window"),ll=a("@adobe/reactor-document"),ul=r(a("@adobe/reactor-object-assign")),bl=r(a("@adobe/reactor-cookie")),ml=r(a("@adobe/reactor-query-string")),fl=r(a("@adobe/reactor-promise")),pl=r(a("@adobe/reactor-load-script")),gl=Array.isArray,vl=Object.prototype.toString,hl="[object Function]",Pl=function Pl(e,t){return t.forEach(e)},Cl=function Cl(t,s){Pl(function(e){return t(s[e],e)},p(s))},jl=function jl(e,t){return t.filter(e)},Rl=function Rl(s,e){var a={};return Cl(function(e,t){s(e,t)&&(a[t]=e)},e),a},yl="[object String]",wl=9007199254740991,El=function El(e,t){return t.map(e)},Il=Object.prototype.hasOwnProperty,_l=String.prototype.trim,Tl="[object Object]",Al=Function.prototype,kl=Object.prototype,xl=Al.toString,Ol=kl.hasOwnProperty,Sl=xl.call(Object),Ll=function Ll(e){return!O(e)},Vl="[object Number]",Dl=function Dl(s,e){var a={};return Cl(function(e,t){a[t]=s(e,t)},e),a},Ml=function Ml(e,t,s){return s.reduce(e,t)},Fl=function Fl(s,e,t){var a=e;return Cl(function(e,t){a=s(a,e,t)},t),a},Nl=Array.prototype.reverse,Bl="type",Ul="content",ql="height",Gl="width",Hl="left",Kl="top",zl="from",Wl="to",Yl="priority",Zl="selector",Jl="cssSelector",$l="setHtml",Ql="setContent",Xl="setText",eu="setJson",tu="setAttribute",su="setImageSource",au="setStyle",ru="rearrange",nu="resize",ou="move",iu="remove",cu="customCode",du="redirect",lu="trackClick",uu="signalClick",bu="insertBefore",mu="insertAfter",fu="appendHtml",pu="appendContent",gu="prependHtml",vu="prependContent",hu="replaceHtml",Pu="replaceContent",Cu="mboxDebug",ju="mboxDisable",Ru="mboxEdit",yu="at_check",wu="true",Eu=250,Iu="data-at-src",_u="json",Tu="html",Au="dynamic",ku="script",xu="src",Ou="id",Su="class",Lu="click",Vu="head",Du="script",Mu="style",Fu="link",Nu="img",Bu="div",Uu='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',qu="Adobe Target has already been initialized.",Gu="options argument is required",Hu="request option is required",Ku="response option is required",zu="execute or prefetch is required",Wu="execute or prefetch is not allowed",Yu="notifications are required",Zu="mbox option is required",Ju="mbox option is too long",$u="success option is required",Qu="error option is required",Xu="offer option is required",eb="Unexpected error",tb="request failed",sb="request succeeded",ab="Action rendered successfully",rb="Rendering action",nb="Action has no content",ob="Action has no attributes",ib="Action has no CSS properties",cb="Action has no height or width",db="Action has no left, top or position",lb="Action has no from or to",ub="Action has no url",bb="Action has no image url",mb="Rearrange elements are missing",fb="Loading image",pb="Track event request succeeded",gb="Track event request failed",vb="No actions to be rendered",hb="Redirect action",Pb="Script load",Cb="error",jb="warning",Rb="unknown",yb="valid",wb="success",Eb="render",Ib="metric",_b="mbox",Tb="offer",Ab="name",kb="status",xb="params",Ob="actions",Sb="responseTokens",Lb="data",Vb="response",Db="request",Mb="provider",Fb="pageLoad",Nb="at-flicker-control",Bb="at-element-marker",Ub="at-element-click-tracking",qb="enabled",Gb="clientCode",Hb="imsOrgId",Kb="serverDomain",zb="timeout",Wb="globalMboxName",Yb="globalMboxAutoCreate",Zb="version",Jb="defaultContentHiddenStyle",$b="bodyHiddenStyle",Qb="bodyHidingEnabled",Xb="deviceIdLifetime",em="sessionIdLifetime",tm="selectorsPollingTimeout",sm="visitorApiTimeout",am="overrideMboxEdgeServer",rm="overrideMboxEdgeServerTimeout",nm="optoutEnabled",om="secureOnly",im="supplementalDataIdParamTimeout",cm="authoringScriptUrl",dm="scheme",lm="cookieDomain",um="mboxParams",bm="globalMboxParams",mm="mboxSession",fm="PC",pm="mboxEdgeCluster",gm="session",vm="Traces",hm="settings",Pm="client"+vm,Cm="server"+vm,jm="___target_traces",Rm="targetGlobalSettings",ym="dataProvider",wm=ym+"s",Em="endpoint",Im="viewsEnabled",_m="pageLoadEnabled",Tm="authState",Am="authenticatedState",km="integrationCode",xm="page",Om="view",Sm="views",Lm="options",Vm="metrics",Dm="viewName",Mm="display",Fm="Content-Type",Nm="text/plain",Bm="View rendering failed",Um="View delivery error",qm="View name should be a non-empty string",Gm="Page load disabled",Hm="Using server state",Km="adobe",zm="optIn",Wm="isApproved",Ym="fetchPermissions",Zm="Categories",Jm="TARGET",$m="ANALYTICS",Qm="optinEnabled",Xm="Adobe Target is not opted in",ef="analyticsLogging",tf="serverState",sf="cspScriptNonce",af="cspStyleNonce",rf="cache-updated-event",nf="no-offers-event",of="redirect-offer-event",cf="file:",df=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,lf=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,uf={},bf=[qb,Gb,Hb,Kb,lm,zb,um,bm,Jb,"defaultContentVisibleStyle",Xb,$b,Qb,tm,sm,am,rm,nm,Qm,om,im,cm,"urlSizeLimit",Em,_m,Im,ef,tf,sf,af,Wb],mf=function wv(e,t){t=t||{};for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},s=a.parser[t.strictMode?"strict":"loose"].exec(e),r={},n=14;n--;)r[a.key[n]]=s[n]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,function(e,t,s){t&&(r[a.q.name][t]=s)}),r},ff=ml.parse,pf=ml.stringify,gf=ll.createElement("a"),vf={},hf=bl.get,Pf=bl.set,Cf=bl.remove,jf="mbox",Rf="AT:",yf="1",wf=(sl=window,function(u){function b(e){return e._zid||(e._zid=t++)}function o(e,t,s,a){if((t=m(t)).ns)var r=n(t.ns);return(y[b(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!s||b(e.fn)===b(s))&&(!a||e.sel==a)})}function m(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function f(e,t){return e.del&&!s&&e.e in a||!!t}function p(e){return w[e]||s&&a[e]||e}function g(n,e,t,o,i,c,d){var s=b(n),l=y[s]||(y[s]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return u(document).ready(t);var s=m(e);s.fn=t,s.sel=i,s.e in w&&(t=function r(e){var t=e.relatedTarget;if(!t||t!==this&&!u.contains(this,t))return s.fn.apply(this,arguments)});var a=(s.del=c)||t;s.proxy=function(e){if(!(e=h(e)).isImmediatePropagationStopped()){e.data=o;var t=a.apply(n,e._args==C?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},s.i=l.length,l.push(s),"addEventListener"in n&&n.addEventListener(p(s.e),s.proxy,f(s,d))})}function v(t,e,s,a,r){var n=b(t);(e||"").split(/\s/).forEach(function(e){o(t,e,s,a).forEach(function(e){delete y[n][e.i],"removeEventListener"in t&&t.removeEventListener(p(e.e),e.proxy,f(e,r))})})}function h(a,r){if(r||!a.isDefaultPrevented){r||(r=a),u.each(l,function(e,t){var s=r[e];a[e]=function(){return this[t]=c,s&&s.apply(r,arguments)},a[t]=E});try{a.timeStamp||(a.timeStamp=(new Date).getTime())}catch(e){}(r.defaultPrevented!==C?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(a.isDefaultPrevented=c)}return a}function P(e){var t,s={originalEvent:e};for(t in e)d.test(t)||e[t]===C||(s[t]=e[t]);return h(s,e)}var C,t=1,j=Array.prototype.slice,r=u.isFunction,R=function R(e){return"string"==typeof e},y={},i={},s="onfocusin"in sl,a={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",u.event={add:g,remove:v},u.proxy=function(e,t){var s=2 in arguments&&j.call(arguments,2);if(r(e)){var a=function a(){return e.apply(t,s?s.concat(j.call(arguments)):arguments)};return a._zid=b(e),a}if(R(t))return s?(s.unshift(e[t],e),u.proxy.apply(null,s)):u.proxy(e[t],e);throw new TypeError("expected function")},u.fn.bind=function(e,t,s){return this.on(e,t,s)},u.fn.unbind=function(e,t){return this.off(e,t)},u.fn.one=function(e,t,s,a){return this.on(e,t,s,a,1)};var c=function c(){return!0},E=function E(){return!1},d=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,l={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};u.fn.delegate=function(e,t,s){return this.on(t,e,s)},u.fn.undelegate=function(e,t,s){return this.off(t,e,s)},u.fn.live=function(e,t){return u(document.body).delegate(this.selector,e,t),this},u.fn.die=function(e,t){return u(document.body).undelegate(this.selector,e,t),this},u.fn.on=function(s,n,o,i,c){var d,l,a=this;return s&&!R(s)?(u.each(s,function(e,t){a.on(e,n,o,t,c)}),a):(R(n)||r(i)||!1===i||(i=o,o=n,n=C),i!==C&&!1!==o||(i=o,o=C),!1===i&&(i=E),a.each(function(e,a){c&&(d=function t(e){return v(a,e.type,i),i.apply(this,arguments)}),n&&(l=function r(e){var t,s=u(e.target).closest(n,a).get(0);if(s&&s!==a)return t=u.extend(P(e),{currentTarget:s,liveFired:a}),(d||i).apply(s,[t].concat(j.call(arguments,1)))}),g(a,s,i,o,n,l||d)}))},u.fn.off=function(e,s,t){var a=this;return e&&!R(e)?(u.each(e,function(e,t){a.off(e,s,t)}),a):(R(s)||r(t)||!1===t||(t=s,s=C),!1===t&&(t=E),a.each(function(){v(this,e,t,s)}))},u.fn.trigger=function(e,t){return(e=R(e)||u.isPlainObject(e)?u.Event(e):h(e))._args=t,this.each(function(){e.type in a&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):u(this).triggerHandler(e,t)})},u.fn.triggerHandler=function(s,a){var r,n;return this.each(function(e,t){(r=P(R(s)?u.Event(s):s))._args=a,r.target=t,u.each(o(t,s.type||s),function(e,t){if(n=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),n},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){u.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),u.Event=function(e,t){R(e)||(e=(t=e).type);var s=document.createEvent(i[e]||"Events"),a=!0;if(t)for(var r in t)"bubbles"==r?a=!!t[r]:s[r]=t[r];return s.initEvent(e,a,!0),h(s)}}(cl=function(){function o(e){return null==e?String(e):J[$.call(e)]||"object"}function i(e){return"function"==o(e)}function n(e){return null!=e&&e==e.window}function c(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function a(e){return"object"==o(e)}function d(e){return a(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function l(e){var t=!!e&&"length"in e&&e.length,s=I.type(e);return"function"!=s&&!n(e)&&("array"==s||0===t||"number"==typeof t&&0<t&&t-1 in e)}function r(e){return O.call(e,function(e){return null!=e})}function u(e){return 0<e.length?I.fn.concat.apply([],e):e}function b(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function s(e){return e in D?D[e]:D[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function m(e,t){return"number"!=typeof t||M[b(e)]?t:t+"px"}function t(e){var t,s;return V[e]||(t=L.createElement(e),L.body.appendChild(t),s=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==s&&(s="block"),V[e]=s),V[e]}function f(e){return"children"in e?S.call(e.children):I.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function p(e,t){var s,a=e?e.length:0;for(s=0;s<a;s++)this[s]=e[s];this.length=a,this.selector=t||""}function g(e,t,s){for(E in t)s&&(d(t[E])||te(t[E]))?(d(t[E])&&!d(e[E])&&(e[E]={}),te(t[E])&&!te(e[E])&&(e[E]=[]),g(e[E],t[E],s)):t[E]!==w&&(e[E]=t[E])}function v(e,t){return null==t?I(e):I(e).filter(t)}function h(e,t,s,a){return i(t)?t.call(e,s,a):t}function P(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function C(e,t){var s=e.className||"",a=s&&s.baseVal!==w;if(t===w)return a?s.baseVal:s;a?s.baseVal=t:e.className=t}function j(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?I.parseJSON(t):t):t}catch(e){return t}}function R(e,t){t(e);for(var s=0,a=e.childNodes.length;s<a;s++)R(e.childNodes[s],t)}function y(e,t,s){var a=e.getElementsByTagName("script")[0];if(a){var r=a.parentNode;if(r){var n=e.createElement("script");n.innerHTML=t,Ll(s)&&n.setAttribute("nonce",s),r.appendChild(n),r.removeChild(n)}}}var w,E,I,_,T,A,k=[],x=k.concat,O=k.filter,S=k.slice,L=sl.document,V={},D={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},F=/^\s*<(\w+|!)[^>]*>/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,q=/([A-Z])/g,G=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],K=L.createElement("table"),z=L.createElement("tr"),W={tr:L.createElement("tbody"),tbody:K,thead:K,tfoot:K,td:z,th:z,"*":L.createElement("div")},Y=/complete|loaded|interactive/,Z=/^[\w-]*$/,J={},$=J.toString,Q={},X=L.createElement("div"),ee={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},te=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(s)return s.call(e,t);var a,r=e.parentNode,n=!r;return n&&(r=X).appendChild(e),a=~Q.qsa(r,t).indexOf(e),n&&X.removeChild(e),a},T=function T(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},A=function A(s){return O.call(s,function(e,t){return s.indexOf(e)==t})},Q.fragment=function(e,t,s){var a,r,n;return N.test(e)&&(a=I(L.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(B,"<$1></$2>")),t===w&&(t=F.test(e)&&RegExp.$1),t in W||(t="*"),(n=W[t]).innerHTML=""+e,a=I.each(S.call(n.childNodes),function(){n.removeChild(this)})),d(s)&&(r=I(a),I.each(s,function(e,t){-1<G.indexOf(e)?r[e](t):r.attr(e,t)})),a},Q.Z=function(e,t){return new p(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,t){var s;if(!e)return Q.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&F.test(e))s=Q.fragment(e,RegExp.$1,t),e=null;else{if(t!==w)return I(t).find(e);s=Q.qsa(L,e)}else{if(i(e))return I(L).ready(e);if(Q.isZ(e))return e;if(te(e))s=r(e);else if(a(e))s=[e],e=null;else if(F.test(e))s=Q.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==w)return I(t).find(e);s=Q.qsa(L,e)}}return Q.Z(s,e)},(I=function I(e,t){return Q.init(e,t)}).extend=function(t){var s,e=S.call(arguments,1);return"boolean"==typeof t&&(s=t,t=e.shift()),e.forEach(function(e){g(t,e,s)}),t},Q.qsa=function(e,t){var s,a="#"==t[0],r=!a&&"."==t[0],n=a||r?t.slice(1):t,o=Z.test(n);return e.getElementById&&o&&a?(s=e.getElementById(n))?[s]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:S.call(o&&!a&&e.getElementsByClassName?r?e.getElementsByClassName(n):e.getElementsByTagName(t):e.querySelectorAll(t))},I.contains=L.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},I.type=o,I.isFunction=i,I.isWindow=n,I.isArray=te,I.isPlainObject=d,I.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},I.isNumeric=function(e){var t=Number(e),s=st(e);return null!=e&&"boolean"!=s&&("string"!=s||e.length)&&!isNaN(t)&&isFinite(t)||!1},I.inArray=function(e,t,s){return k.indexOf.call(t,e,s)},I.camelCase=T,I.trim=function(e){return null==e?"":String.prototype.trim.call(e)},I.uuid=0,I.support={},I.expr={},I.noop=function(){},I.map=function(e,t){var s,a,r,n=[];if(l(e))for(a=0;a<e.length;a++)null!=(s=t(e[a],a))&&n.push(s);else for(r in e)null!=(s=t(e[r],r))&&n.push(s);return u(n)},I.each=function(e,t){var s,a;if(l(e)){for(s=0;s<e.length;s++)if(!1===t.call(e[s],s,e[s]))return e}else for(a in e)if(!1===t.call(e[a],a,e[a]))return e;return e},I.grep=function(e,t){return O.call(e,t)},sl.JSON&&(I.parseJSON=JSON.parse),I.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),I.fn={constructor:Q.Z,length:0,forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,splice:k.splice,indexOf:k.indexOf,concat:function se(){var e,t,s=[];for(e=0;e<arguments.length;e++)t=arguments[e],s[e]=Q.isZ(t)?t.toArray():t;return x.apply(Q.isZ(this)?this.toArray():this,s)},map:function ae(s){return I(I.map(this,function(e,t){return s.call(e,t,e)}))},slice:function re(){return I(S.apply(this,arguments))},ready:function ne(e){return Y.test(L.readyState)&&L.body?e(I):L.addEventListener("DOMContentLoaded",function(){e(I)},!1),this},get:function oe(e){return e===w?S.call(this):this[0<=e?e:e+this.length]},toArray:function ie(){return this.get()},size:function ce(){return this.length},remove:function de(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function le(e){for(var t,s=this.length,a=0;a<s&&(t=this[a],!1!==e.call(t,a,t));)a++;return this},filter:function ue(t){return i(t)?this.not(this.not(t)):I(O.call(this,function(e){return Q.matches(e,t)}))},add:function be(e,t){return I(A(this.concat(I(e,t))))},is:function me(e){return 0<this.length&&Q.matches(this[0],e)},not:function fe(t){var s=[];if(i(t)&&t.call!==w)this.each(function(e){t.call(this,e)||s.push(this)});else{var a="string"==typeof t?this.filter(t):l(t)&&i(t.item)?S.call(t):I(t);this.forEach(function(e){a.indexOf(e)<0&&s.push(e)})}return I(s)},has:function pe(e){return this.filter(function(){return a(e)?I.contains(this,e):I(this).find(e).size()})},eq:function ge(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function ve(){var e=this[0];return e&&!a(e)?e:I(e)},last:function he(){var e=this[this.length-1];return e&&!a(e)?e:I(e)},find:function Pe(e){var s=this;return e?"object"==st(e)?I(e).filter(function(){var t=this;return k.some.call(s,function(e){return I.contains(e,t)})}):1==this.length?I(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):I()},closest:function Ce(s,a){var r=[],n="object"==st(s)&&I(s);return this.each(function(e,t){for(;t&&!(n?0<=n.indexOf(t):Q.matches(t,s));)t=t!==a&&!c(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),I(r)},parents:function je(e){for(var t=[],s=this;0<s.length;)s=I.map(s,function(e){if((e=e.parentNode)&&!c(e)&&t.indexOf(e)<0)return t.push(e),e});return v(t,e)},parent:function Re(e){return v(A(this.pluck("parentNode")),e)},children:function ye(e){return v(this.map(function(){return f(this)}),e)},contents:function we(){return this.map(function(){return this.contentDocument||S.call(this.childNodes)})},siblings:function Ee(e){return v(this.map(function(e,t){return O.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function Ie(){return this.each(function(){this.innerHTML=""})},pluck:function _e(t){return I.map(this,function(e){return e[t]})},show:function Te(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=t(this.nodeName))})},replaceWith:function Ae(e){return this.before(e).remove()},wrap:function ke(t){var s=i(t);if(this[0]&&!s)var a=I(t).get(0),r=a.parentNode||1<this.length;return this.each(function(e){I(this).wrapAll(s?t.call(this,e):r?a.cloneNode(!0):a)})},wrapAll:function xe(e){if(this[0]){var t;for(I(this[0]).before(e=I(e));(t=e.children()).length;)e=t.first();I(e).append(this)}return this},wrapInner:function Oe(r){var n=i(r);return this.each(function(e){var t=I(this),s=t.contents(),a=n?r.call(this,e):r;s.length?s.wrapAll(a):t.append(a)})},unwrap:function Se(){return this.parent().each(function(){I(this).replaceWith(I(this).children())}),this},clone:function Le(){return this.map(function(){return this.cloneNode(!0)})},hide:function Ve(){return this.css("display","none")},toggle:function De(t){return this.each(function(){var e=I(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function Me(e){return I(this.pluck("previousElementSibling")).filter(e||"*")},next:function Fe(e){return I(this.pluck("nextElementSibling")).filter(e||"*")},html:function Ne(s){return 0 in arguments?this.each(function(e){var t=this.innerHTML;I(this).empty().append(h(this,s,e,t))}):0 in this?this[0].innerHTML:null},text:function Be(s){return 0 in arguments?this.each(function(e){var t=h(this,s,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function Ue(t,s){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(a(t))for(E in t)P(this,E,t[E]);else P(this,t,h(this,s,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:w},removeAttr:function qe(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){P(this,e)},this)})},prop:function Ge(t,s){return t=ee[t]||t,1 in arguments?this.each(function(e){this[t]=h(this,s,e,this[t])}):this[0]&&this[0][t]},removeProp:function He(e){return e=ee[e]||e,this.each(function(){delete this[e]})},data:function e(t,s){var a="data-"+t.replace(q,"-$1").toLowerCase(),e=1 in arguments?this.attr(a,s):this.attr(a);return null!==e?j(e):w},val:function Ke(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=h(this,t,e,this.value)})):this[0]&&(this[0].multiple?I(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function ze(n){if(n)return this.each(function(e){var t=I(this),s=h(this,n,e,t.offset()),a=t.offsetParent().offset(),r={top:s.top-a.top,left:s.left-a.left};"static"==t.css("position")&&(r.position="relative"),t.css(r)});if(!this.length)return null;if(L.documentElement!==this[0]&&!I.contains(L.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+sl.pageXOffset,top:e.top+sl.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function e(t,s){if(arguments.length<2){var a=this[0];if("string"==typeof t){if(!a)return;return a.style[T(t)]||getComputedStyle(a,"").getPropertyValue(t)}if(te(t)){if(!a)return;var r={},n=getComputedStyle(a,"");return I.each(t,function(e,t){r[t]=a.style[T(t)]||n.getPropertyValue(t)}),r}}var e="";if("string"==o(t))s||0===s?e=b(t)+":"+m(t,s):this.each(function(){this.style.removeProperty(b(t))});else for(E in t)t[E]||0===t[E]?e+=b(E)+":"+m(E,t[E])+";":this.each(function(){this.style.removeProperty(b(E))});return this.each(function(){this.style.cssText+=";"+e})},index:function We(e){return e?this.indexOf(I(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function Ye(e){return!!e&&k.some.call(this,function(e){return this.test(C(e))},s(e))},addClass:function Ze(s){return s?this.each(function(e){if("className"in this){_=[];var t=C(this);h(this,s,e,t).split(/\s+/g).forEach(function(e){I(this).hasClass(e)||_.push(e)},this),_.length&&C(this,t+(t?" ":"")+_.join(" "))}}):this},removeClass:function Je(t){return this.each(function(e){if("className"in this){if(t===w)return C(this,"");_=C(this),h(this,t,e,_).split(/\s+/g).forEach(function(e){_=_.replace(s(e)," ")}),C(this,_.trim())}})},toggleClass:function $e(s,a){return s?this.each(function(e){var t=I(this);h(this,s,e,C(this)).split(/\s+/g).forEach(function(e){(a===w?!t.hasClass(e):a)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function Qe(e){if(this.length){var t="scrollTop"in this[0];return e===w?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function Xe(e){if(this.length){var t="scrollLeft"in this[0];return e===w?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function et(){if(this.length){var e=this[0],t=this.offsetParent(),s=this.offset(),a=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return s.top-=parseFloat(I(e).css("margin-top"))||0,s.left-=parseFloat(I(e).css("margin-left"))||0,a.top+=parseFloat(I(t[0]).css("border-top-width"))||0,a.left+=parseFloat(I(t[0]).css("border-left-width"))||0,{top:s.top-a.top,left:s.left-a.left}}},offsetParent:function tt(){return this.map(function(){for(var e=this.offsetParent||L.body;e&&!U.test(e.nodeName)&&"static"==I(e).css("position");)e=e.offsetParent;return e})}},I.fn.detach=I.fn.remove,["width","height"].forEach(function(a){var r=a.replace(/./,function(e){return e[0].toUpperCase()});I.fn[a]=function(t){var e,s=this[0];return t===w?n(s)?s["inner"+r]:c(s)?s.documentElement["scroll"+r]:(e=this.offset())&&e[a]:this.each(function(e){(s=I(this)).css(a,h(this,t,e,s[a]()))})}}),H.forEach(function(t,l){var u=l%2;I.fn[t]=function(){var s,i,c=I.map(arguments,function(e){var t=[];return"array"==(s=o(e))?(e.forEach(function(e){return e.nodeType!==w?t.push(e):I.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(Q.fragment(e)))}),t):"object"==s||null==e?e:Q.fragment(e)}),d=1<this.length;return c.length<1?this:this.each(function(e,t){i=u?t:t.parentNode,t=0==l?t.nextSibling:1==l?t.firstChild:2==l?t:null;var s=I.contains(L.documentElement,i),a=/^(text|application)\/(javascript|ecmascript)$/,r=at(),n=r[sf],o=r[af];c.forEach(function(e){if(d)e=e.cloneNode(!0);else if(!i)return I(e).remove();Ll(n)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",n),Ll(o)&&"STYLE"===e.tagName&&e.setAttribute("nonce",o),i.insertBefore(e,t),s&&R(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!a.test(e.type.toLowerCase())||e.src||y(L,e.innerHTML,e.nonce)})})})},I.fn[u?t+"To":"insert"+(l?"Before":"After")]=function(e){return I(e)[t](this),this}}),Q.Z.prototype=p.prototype=I.fn,Q.uniq=A,Q.deserializeValue=j,I.zepto=Q,I}()),function(){try{getComputedStyle(undefined)}catch(e){var s=getComputedStyle;sl.getComputedStyle=function(e,t){try{return s(e,t)}catch(Eda){return null}}}}(),rl=(al=cl).zepto,nl=rl.qsa,ol=/^\s*>/,il="Zepto"+ +new Date,rl.qsa=function(t,s){var a,r,n=s;try{n?ol.test(n)&&(r=al(t).addClass(il),n="."+il+" "+n):n="*",a=nl(t,n)}catch(e){throw e}finally{r&&r.removeClass(il)}return a},cl),Ef=dl.MutationObserver||dl.WebkitMutationObserver,If="Expected an array of promises";fl._setImmediateFn&&Fe();var _f=K(),Tf=/.*\.(\d+)_\d+/;dt(dl,ll);var Af="at-library-loaded",kf="at-request-start",xf="at-request-succeeded",Of="at-request-failed",Sf="at-content-rendering-start",Lf="at-content-rendering-succeeded",Vf="at-content-rendering-failed",Df="at-content-rendering-no-offers",Mf="at-content-rendering-redirect",Ff=":eq(",Nf=")",Bf=Ff.length,Uf=/((\.|#)(-)?\d{1})/g,qf="Unable to load target-vec.js",Gf="Loading target-vec.js",Hf="_AT",Kf="clickHandlerForExperienceEditor",zf="currentView",Wf="at_qa_mode",Yf="at_preview_token",Zf="at_preview_index",Jf="at_preview_listed_activities_only",$f="at_preview_evaluate_as_true_audience_ids",Qf="at_preview_evaluate_as_false_audience_ids",Xf="_",ep=function ep(e){return!f(e)},tp="at-",sp="at-body-style",ap="#"+sp,rp=tp+"views",np="Disabled due to optout",op="MCAAMB",ip="MCAAMLH",cp="MCMID",dp="MCOPTOUT",lp="getSupplementalDataID",up="getCustomerIDs",bp="trackingServer",mp=bp+"Secure",fp="Visitor",pp="getInstance",gp="isAllowed",vp="Visitor API requests timed out",hp="Visitor API requests error",Pp={},Cp="Data provider",jp="timed out",Rp=2e3,yp="authorization",wp="mboxDebugTools",Ep=na(),Ip="profile.",_p="mbox3rdPartyId",Tp="at_property",Ap="orderId",kp="orderTotal",xp="productPurchasedId",Op="productId",Sp="categoryId",Lp="POST",Vp="Network request failed",Dp="Request timed out",Mp="Malformed response JSON",Fp="web",Np="mboxedge",Bp=".tt.omtrdc.net",Up=function Up(e){return!k(e)},qp=function qp(t){return function(e){return e[t]}},Gp=function Gp(t){return function(e){return!t(e)}},Hp=Gp(f),Kp=function Kp(t){return function(e){return g(t,e)}},zp=function zp(e){return e.status===Cb},Wp=function Wp(e){return e.type===Ob},Yp=function Yp(e){return e.type===du},Zp=Kp(Hp),Jp=qp(Lm),$p=qp(Ul),Qp=qp(Sb),Xp=function Xp(e){return Ll(e.name)},eg=function eg(e){return!f(e.index)},tg=function tg(e){return u(e)&&Xp(e)},sg=function sg(e){return u(e)&&Xp(e)&&eg(e)},ag=function ag(e){return u(e)&&Xp(e)},rg=function rg(e){return Ll(e.selector)},ng=qp(Lb),og=P([ng,Hp]),ig="adobe_mc_sdid",cg="Network request failed",dg="Request timed out",lg="URL is required",ug="GET",bg="POST",mg="method",fg="url",pg="headers",gg="data",vg="credentials",hg="timeout",Pg="async",Cg=/CLKTRK#(\S+)/,jg=/CLKTRK#(\S+)\s/,Rg=function ep(e){return!f(e)},yg="visibilityState",wg="visible",Eg=100,Ig=Du+","+Fu+","+Mu,_g="at-action-key",Tg="metric element not found",Ag="navigator",kg="sendBeacon",xg="Beacon data sent",Og="Beacon data sent failed",Sg="View triggered notification",Lg="View rendered notification",Vg="Mboxes rendered notification",Dg="Event handler notification",Mg="Mbox event handler notification",Fg="View event handler notification",Ng="prefetchMboxes",Bg="rendered",Ug="triggered",qg={},Gg="pageLoadMetrics",Hg="prefetchMetrics",Kg=qp(Vm),zg=function zg(){return mr(Ib)},Wg=function Wg(e){return fr(Ib,e)},Yg=qp(Ul),Zg=qp(Jl),Jg=function Jg(e){return mr(Eb,e)},$g=function $g(e){return fr(Eb,e)},Qg=function Qg(e){return Gp(zp)(e)&&og(e)};ac.prototype={on:function(e,t,s){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:s}),this},once:function(e,t,s){function a(){r.off(e,a),t.apply(s,arguments)}var r=this;return a._=t,this.on(e,a,s)},emit:function(e){for(var t=[].slice.call(arguments,1),s=((this.e||(this.e={}))[e]||[]).slice(),a=0,r=s.length;a<r;a++)s[a].fn.apply(s[a].ctx,t);return this},off:function(e,t){var s=this.e||(this.e={}),a=s[e],r=[];if(a&&t)for(var n=0,o=a.length;n<o;n++)a[n].fn!==t&&a[n].fn._!==t&&r.push(a[n]);return r.length?s[e]=r:delete s[e],this}};var Xg=ac,ev=ac;Xg.TinyEmitter=ev;var tv=rc(),sv="Page load rendering failed",av="Mboxes rendering failed",rv="View rendering failed",nv="Prefetch rendering failed",ov=function ov(e){return!k(g(zp,e))},iv="[page-init]",cv="[getOffer()]",dv="[getOffers()]",lv="[applyOffer()]",uv="[applyOffers()]",bv="[sendNotifications()]",mv="[trackEvent()]",fv="[triggerView()]",pv=[],gv=1,vv=0;zd();var hv="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Pv="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Cv="mboxCreate() "+hv,jv="mboxDefine() "+hv,Rv="mboxUpdate() "+hv,yv={init:tl,initConfig:Q,initDelivery:Xc};t.exports=yv}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,s){"use strict";function o(e){return null!=e.value&&null!=e.checked}function a(r){var n={};return Object.keys(r).forEach(function(e){var t=r[e];if(o(t)){var s=t.checked,a=t.value;s&&""===a||(n[e]=a)}else n[e]=t}),n}function r(e){var t=a(e);d(l,t)}function n(e){var t=a(e);d(u,t)}function i(){return l}function c(){return u}var d=s("./object-override"),l={},u={};e.exports={mergeParams:r,mergePageLoadParams:n,getParams:i,getPageLoadParams:c}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function a(e,t,s,a){t[s]!==a&&(e[s]=t[s])}function r(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(t,s,e){Object.keys(s).filter(r,{subset:e}).forEach(function(e){a(t,s,e)})}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.3.3"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,s){"use strict";var a=s("../librarySettings"),r=s("@adobe/reactor-window"),n=s("./object-override"),o=s("./params-store"),i=o.getParams,c=o.getPageLoadParams,d=s("../targetSettings").targetSettings;e.exports=function(e){return d.mboxParams=i(),d.globalMboxParams=c(),n(d,e,["bodyHidingEnabled","bodyHiddenStyle"]),n(d,r.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),n(d,a.TARGET_DEFAULT_SETTINGS||{},["version"]),d}}
}}},"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP627a25c51967405590ccc51bba101d07/",modules:{"common-analytics-plugins/src/lib/actions/initializeGetDaysSinceLastVisit.js":{name:"initialize-getdayssincelastvisit",displayName:"Initialize getDaysSinceLastVisit",script:function(e,t,s,a){"use strict";a.getSharedModule("adobe-analytics","augment-tracker")(function(e){e.getDaysSinceLastVisit=function(){var e=new Date,t=e.getTime(),s=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),s){if(18e5<(e=t-s)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592e6+1&&6048e5<e)return"More than 7 days";if(e<6048e5+1&&864e5<e)return"Less than 7 days";if(e<864e5+1)return"Less than 1 day"}return""}return"New Visitor"}}),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js":{name:"initialize-gettimeparting",displayName:"Initialize getTimeParting",script:function(e){"use strict";window.getTimeParting=function(e){return e=document.documentMode?void 0:e||"Etc/GMT",e=(new Date).toLocaleDateString("en-US",{timeZone:e,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(e=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(e))[4]+" | month="+e[2]+" | date="+e[3]+" | day="+e[1]+" | time="+(e[6]+e[7])},e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,s,a){"use strict";a.getSharedModule("adobe-analytics","augment-tracker")(function(e){e.inList=function(e,t,s,a){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;s=0;for(var r=e.length;s<r;s++)if(1==a&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1},e.apl=function(e,t,s,a,r){if(!e||"string"==typeof e){if("undefined"==typeof this.inList||"string"!=typeof t||""===t)return e;s=s||",",1==(a=a||s)&&(a=s,r||(r=1)),2==a&&1!=r&&(a=s);for(var n=(t=t.split(",")).length,o=0;o<n;o++)this.inList(e,t[o],s,r)||(e=e?e+a+t[o]:t[o])}return e}}),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,s,a){"use strict";a.getSharedModule("adobe-analytics","augment-tracker")(function(e){e.getPreviousValue=function(e,t,s){var a=this,r="",n=!0;if(t=t||"s_gpv",s){n=!1,s=s.split(",");for(var o=a.events?a.events.split(","):"",i=0,c=s.length;i<c;i++){for(var d=0,l=o.length;d<l;d++)if(s[i]===o[d]){n=!0;break}if(!0===n)break}}return!0===n&&((n=new Date).setTime(n.getTime()+18e5),a.c_r(t)&&(r=a.c_r(t)),e?a.c_w(t,e,n):a.c_w(t,"no previous value",n)),r},e.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)}}),e.exports=function(){}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbde2f7ca14e540399dcc1f8208860b7b/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",customSetup:{source:function(r){try{var R=function(){try{var t=_satellite.getVar("AAM-initConfig"),s=function(e){r.contextData["cm.ssf"]=e,r.linkTrackVars=r.apl(r.linkTrackVars,"contextData.cm.ssf",",")};t?(r.AudienceManagement.setup(t),s("true"===_satellite.getVar("isAAMAllowed")?"0":"1")):s("1")}catch(e){var a={from:"AA",type:"DE",name:"Customize Page Code - doAAMConfig"};_satellite.logger.error(e,a)}},y=function(){var e,t,s=this,a=/eVar|prop|pageName|channel|hier/,r=_satellite.getVar("AA-Exclusionlist");for(e in s)t=s[e],Object.prototype.hasOwnProperty.call(s,e)&&"string"==typeof t&&a.test(e)&&-1===r.indexOf(e)&&(s[e]=t.toLowerCase());return s},w=_satellite.getVar("removePII");r.usePlugins=!0,r.doPlugins=function(t){try{R(),t=y.call(t),(t=w(t)).pageURL=t.pageURL?w(t.pageURL):w(window.location.href),t.referrer=t.referrer?w(t.referrer):w(document.referrer),t.getPercentPageViewed();var s=_satellite.getVar("snapshotDL");t.prop3=_satellite.getVar("pa_cat_primaryCategory"),t.eVar131=_satellite.getVar("lastTwoDigitsOfMID")(),t.eVar133=_satellite.getVar("hashingMID"),t.linkTrackVars+=",eVar131,eVar133","bmw.de"===_satellite.getVar("topLevelDomain")&&(t.prop35=_satellite.getVar("final_score"),t.events=t.apl(t.events,"event140="+_satellite.getVar("final_score"),","),t.linkTrackVars=t.apl(t.linkTrackVars,"prop35",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event140",","),t.prop70=_satellite.getVar("final_newscore"),t.events=t.apl(t.events,"event141="+_satellite.getVar("final_newscore"),","),t.linkTrackVars=t.apl(t.linkTrackVars,"prop70",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event141",",")),"bmw.de"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.ru"!==_satellite.getVar("topLevelDomain")||(t.prop34=_satellite.getVar("AA-contextData")(t),t.linkTrackVars=t.apl(t.linkTrackVars,"prop34",",")),t.eVar34&&-1<t.eVar34.indexOf("impression")&&(t.events=t.apl(t.events,"event925,event926"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event926")),t.eVar34&&-1<t.eVar34.indexOf("download")&&(t.events=t.apl(t.events,"event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903,event904")),t.prop56&&"error"==t.prop56&&t.prop54&&"js error"!=t.prop54&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.prop56&&t.prop53&&"interaction"==t.prop56&&("success"==t.prop53||"ux"==t.prop53)&&(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")),-1==s.get("pageInstanceId").indexOf("error-pool/")&&(t.pageName=t.prop1);var a=document.referrer,r=_satellite.getVar("smartPreviousValueManager");if("bmw.de"===_satellite.getVar("topLevelDomain")&&r.get("pathName")&&-1===r.get("pathName").indexOf("?")&&-1===a.indexOf("configure.bmw.de")&&-1===a.indexOf("neuwagensuche.html")){t.eVar22=r.get("pathName"),t.events=t.apl(t.events,"event125="+t._ppvInitialPercentViewed,",",1),t.events=t.apl(t.events,"event126="+t._ppvHighestPercentViewed,",",1),t.events=t.apl(t.events,"event127="+t._ppvHighestPixelsSeen,",",1),t.events=t.apl(t.events,"event129="+t._ppvFoldsAvailable,",",1),t.events=t.apl(t.events,"event130="+t._ppvFoldsSeen,",",1);var n=100/t._ppvHighestPercentViewed*t._ppvHighestPixelsSeen;n=n?n.toFixed(0):"na",t.events=t.apl(t.events,"event128="+n,",",1)}t.prop12=Date.now();var o={development:"dev",staging:"staging",production:"prod"};t.eVar135=o[_satellite.buildInfo.environment||"development"],t.linkTrackVars=t.apl(t.linkTrackVars,"prop12,eVar135",",");var c=_satellite.getVar("pa_pag_pageTitle"),d=document.title;if(c=-1<c.indexOf("datalayer")?d.toLowerCase():c.toLowerCase(),(t.eVar18==c&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"!=t.prop74||"datalayer field missing"==t.prop50||"datalayer field empty"==t.prop50)&&(t.prop50="page title"),t.eVar8||(t.eVar8=s.get("page.pageInfo.geoRegion"),_satellite.getVar("AA-marketCodes").indexOf(t.eVar8)<0&&(t.account="bmwgroup.group.global.test",t.eVar138="wrong market code",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar138",","))),!t.products){var l=_satellite.getVar("setDefaultProductVariables");t.products=l.toString()}if(_satellite.getVar("AA-setFallbackValues"),"bmw.pt"==_satellite.getVar("topLevelDomain")&&t&&t.products){var u=s.get("product.-1.attributes.mmdr"),b=u;if(b){var m=/[a-z]{1}[0-9]{2}/i,f=b.match(m);b=f&&f.length?f[0].toUpperCase():"datalayer field empty"}if(b!=u){var p=(t.products.match(/[/]/g)||[]).length;for(i=0;i<p/2;i++)t.products=t.products.replace(u,b)}}if(("o"==t.linkType||"d"==t.linkType||"e"==t.linkType||"undefined"==typeof t.linkType||"bmw .next - nsc|plr - all - nsc - aa - page bottom adobe analytics beacon"==t.prop74)&&"bmw.de"==_satellite.getVar("topLevelDomain")){null!=_satellite.cookie.get("visitor_aa_hits")&&-1==_satellite.cookie.get("visitor_aa_hits").indexOf("user_type")&&epaas.api.deletePersistence("visitor_aa_hits");var g=_satellite.getVar("getIsPaidCampaign"),v=_satellite.getVar("getIsPaidSearch");if(null==_satellite.cookie.get("visitor_aa_hits"))var h=1;else{h=JSON.parse(_satellite.cookie.get("visitor_aa_hits")).aa_value,h=parseInt(h),h+=1;var P={user_type:JSON.parse(_satellite.cookie.get("visitor_aa_hits")).user_type,aa_value:h};_satellite.cookie.set("visitor_aa_hits",JSON.stringify(P))}g||v?v?h<=48?t.eVar195="Researcher":48<h&&(t.eVar195="Loyalist"):t.eVar195="Fast Movers":t.eVar195=h<=27?"Explorers":"Loyalist",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar195",",")}-1!=_satellite.getVar("topLevelDomain").indexOf("bmw")?t.prop13="bmw":-1!=_satellite.getVar("topLevelDomain").indexOf("mini")?t.prop13="mini":(t.account="bmwgroup.group.global.test","undefined"==typeof t.eVar138?t.eVar138="wrong brand":t.eVar138=t.eVar138+"~wrong brand",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar138",","));var C=(s=_satellite.getVar("snapshotDL")).get("page.category.subCategory03");t.prop30=C,t.linkTrackVars=t.apl(t.linkTrackVars,"prop30",","),"Cookie drawer impression"==t.linkName&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"==t.prop74&&(t.abort=!0),"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")||(null!=window.localStorage.getItem("hashedid")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:window.localStorage.getItem("hashedid"),authState:1}}),""!=_satellite.getVar("AAM-hashedemail")&&_satellite.getVar("AAM-hashedemail")!=undefined&&null!=_satellite.getVar("AAM-hashedemail")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedemail"),authState:1}}),""!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVar("AAM-hasheducid")!=undefined&&null!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVisitorId().setCustomerIDs({bmwcrmdata:{id:_satellite.getVar("AAM-hasheducid"),authState:1}}),""!=_satellite.getVar("AAM-hashedid_cookie")&&typeof _satellite.getVar("AAM-hashedid_cookie")!=undefined&&null!=_satellite.getVar("AAM-hashedid_cookie")&&"undefined"!=_satellite.getVar("AAM-hashedid_cookie")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedid_cookie"),authState:1}}))}catch(e){var j={from:"AA",type:"Config",name:"Customize Page Code - Do Plugin"};_satellite.logger.error(e,j)}},r.registerPostTrackCallback(function(){try{var t=_satellite.getVar("snapshotDL"),s=t.get("event.-1.eventInfo.eventName"),a=t.get("event.-1.attributes.consentItemName"),r=_satellite.getVar("KIT-helpers").cache,n=r.get("analyticsConsentRejected")||"false";("reject consent"==s&&"analytics"==a||"true"==n)&&(r.set("analyticsConsentRejected","false"),adobe.optIn.deny(adobe.OptInCategories.ECID),adobe.optIn.deny(adobe.OptInCategories.ANALYTICS))}catch(e){var o={from:"AA",type:"AA-Extension",name:"Customize Page Code - registerPostTrackCallback"};_satellite.logger.error(e,o)}})}catch(e){var t={from:"AA",type:"Config",name:"Customize Page Code"};_satellite.logger.error(e,t)}}},libraryCode:{type:"managed",accounts:{staging:["%AA-reportSuite%"],production:["%AA-reportSuite%"],development:["%AA-reportSuite%"]},useActivityMap:!0,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"%AAM-dummyPartnerID%"}}},trackerProperties:{charSet:"UTF-8",currencyCode:"%AA-currencyCode%",cookieLifetime:"63072000",trackingServer:"bmwag.d3.sc.omtrdc.net",trackInlineStats:!1,trackDownloadLinks:!1,trackExternalLinks:!1,cookieDomainPeriods:"%cookieDomainPeriods%",trackingServerSecure:"bmwag.d3.sc.omtrdc.net",dynamicVariablePrefix:"d=",fpCookieDomainPeriods:"%cookieDomainPeriods%"}},modules:{"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,s,a){"use strict";var r=s("../sharedModules/getTracker");e.exports=function(){return r().then(function(e){e.clearVars&&(a.logger.info("Clear variables."),e.clearVars())},function(e){a.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,s,r){"use strict";var a=s("../sharedModules/getTracker"),n=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e){return n(e)?e.innerHTML:"link clicked"},i=function(e,t,s){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var a={linkType:t.linkType||"o",linkName:t.linkName||o(s)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(a)+"."),e.tl(n(s)?s:"true",a.linkType,a.linkName)}};e.exports=function(t,s){return a().then(function(e){i(e,t,s.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,s,a){"use strict";var r=s("../sharedModules/getTracker"),n=s("../helpers/applyTrackerVariables");e.exports=function(t,s){return r().then(function(e){a.logger.info("Set variables on the tracker."),n(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(s.element,s,e)},function(e){a.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(t,s,a,r){"use strict";var n,o=a("@adobe/reactor-cookie"),i=a("@adobe/reactor-promise"),c=a("@adobe/reactor-window"),d=a("../helpers/settingsHelper"),l=a("../helpers/augmenters"),u=a("../helpers/applyTrackerVariables"),b=a("../helpers/loadLibrary"),m=a("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),f="beforeSettings",p=r.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===o.get(e)},v=function(a){return i.all(l.map(function(t){var s;try{s=t(a)}catch(e){setTimeout(function(){throw e})}return i.resolve(s)})).then(function(){return a})},h=function(e){return p&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=p),e},P=function(e){return r.logger.info('Setting version on tracker: "'+m+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=m:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+m&&(e.version+="-"+m),e},C=function(e,t,s){return t.loadPhase===f&&t.source&&(r.logger.info("Calling custom script before settings."),t.source.call(c,s)),u(s,e||{}),t.loadPhase!==f&&t.source&&(r.logger.info("Calling custom script after settings."),t.source.call(c,s)),s},j=function(e,t){return d.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},R=(n=r.getExtensionSettings(),g(n.trackingCookieName)?b(n).then(v).then(h).then(P).then(C.bind(null,n.trackerProperties,n.customSetup||{})).then(j.bind(null,n)):i.reject("EU compliance was not acknowledged by the user."));t.exports=function(){return R}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,s){"use strict";var a=s("../helpers/augmenters");e.exports=function(e){a.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,s,a){"use strict";var r=s("@adobe/reactor-window"),n={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[a.buildInfo.environment]&&(t=e[a.buildInfo.environment]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&r&&r._satellite&&r._satellite.company&&r._satellite.company.orgId&&(t=!0),t}};e.exports=n}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,s,o){"use strict";var r=s("@adobe/reactor-query-string"),n=s("@adobe/reactor-window"),i=/eVar([0-9]+)/,c=/prop([0-9]+)/,d=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),l=function(e,t,s){return s.indexOf(e)===t},u=function(e,t,s){var a=Object.keys(t).filter(d.test.bind(d));return s&&a.push("events"),(a=a.concat((e.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&l(e,t,a)}).join(",")},b=function(e,t){var s=t.map(function(e){return e.name});return(s=s.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&l(e,t,s)}).join(",")},a=function(e,t,s){e[t]=s[t].join(",")},m=function(r,e,t){var n=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var s=i.exec(e.value);if(s)t=n+"v"+s[1];else{var a=c.exec(e.value);a&&(t=n+"c"+a[1])}}r[e.name]=t})},f={linkDownloadFileTypes:a,linkExternalFilters:a,linkInternalFilters:a,hierarchies:function(t,e,s){s[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:m,eVars:m,campaign:function(e,t,s){if("queryParam"===s[t].type){var a=r.parse(n.location.search);e[t]=a[s[t].value]}else e[t]=s[t].value},events:function(e,t,s){var a=s[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t});e[t]=a.join(",")}};e.exports=function(t,a){var r={};a=a||{},Object.keys(a).forEach(function(e){var t=f[e],s=a[e];t?t(r,e,a):r[e]=s}),r.events&&t.events&&0<t.events.length&&(r.events=t.events+","+r.events);var e=a&&a.events&&0<a.events.length,s=u(t,r,e);s&&(r.linkTrackVars=s);var n=b(t,a.events||[]);n&&(r.linkTrackEvents=n),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(r)+'".'),Object.keys(r).forEach(function(e){t[e]=r[e]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,s,a){"use strict";var r=s("@adobe/reactor-load-script"),n=s("@adobe/reactor-window"),o=s("@adobe/reactor-promise"),i=s("./settingsHelper"),c=s("./pollHelper"),d=function(e,t){if(!n.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+n.AppMeasurement);a.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var s=n.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(a.logger.info("Setting the tracker as window.s"),n.s=s),s},l=function(e){var t=[];switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.APP_MEASUREMENT)),i.isActivityMapEnabled(e)&&t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case i.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case i.LIB_TYPES.REMOTE:t.push("https:"===n.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(i.isAudienceManagementEnabled(e)){var s={namespace:n._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=s,t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(l(e).map(function(e){return a.logger.info("Loading script: "+e),r(e)}))},b=function(e,t){if(e.libraryCode.accounts)if(t.sa){var s=i.getReportSuites(e.libraryCode.accounts);a.logger.info('Setting the following report suites on the tracker: "'+s+'"'),t.sa(s)}else a.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},m=function(e){if(n[e])return a.logger.info('Found tracker located at: "'+e+'".'),n[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:var s=i.getReportSuites(e.libraryCode.accounts);return t.then(d.bind(null,e,s));case i.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,n,e.libraryCode.trackerVariableName)).then(b.bind(null,e));case i.LIB_TYPES.CUSTOM:case i.LIB_TYPES.REMOTE:return t.then(m.bind(null,e.libraryCode.trackerVariableName)).then(b.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,s=function(e){return e.getUTCDate().toString(36)},a=function(e){return e.substr(e.length-1)},r=function(e){return Math.floor(e.getUTCHours()/t)},n=function(e){var t=(e.getUTCMonth()+1+12*r(e)).toString(36);return a(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+n(t)+s(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-promise"),i=40,c=250,d=function(e,t,s){a.logger.info('Found property located at: "'+t+'"].'),e(s)},r=function(r,n){return new o(function(e,t){if(r[n])return d(e,n,r[n]);var s=1,a=setInterval(function(){r[n]&&(d(e,n,r[n]),clearInterval(a)),i<=s&&(clearInterval(a),t(new Error('Bailing out. Cannot find the variable name: "'+n+'"].'))),s++},c)})};e.exports={poll:function(e,t){return a.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),r(e,t)}}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbba09bba93284cafa07ef329983e2c69/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",variables:[{name:"trackingServer",value:"bmwag.d3.sc.omtrdc.net"},{name:"trackingServerSecure",value:"bmwag.d3.sc.omtrdc.net"},{name:"cookieDomain",value:"%topLevelDomain%"},{name:"idSyncContainerID",value:"%AAM-containerID%"}],isIabContext:!1,doesOptInApply:!0,previousPermissions:"%ECID-previousPermissions%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,s,f){"use strict";var a=s("@adobe/reactor-document"),r=s("../codeLibrary/VisitorAPI"),p=s("../../view/utils/timeUnits"),g=function(e){return e.reduce(function(e,t){var s=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=s,e},{})},n=function(e){var t=f.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var s=g(t.variables||[]),a=t.doesOptInApply;a&&("boolean"==typeof a?s.doesOptInApply=a:t.optInCallback&&(s.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(s.isOptInStorageEnabled=r);var n=t.optInCookieDomain;n&&(s.optInCookieDomain=n);var o=t.optInStorageExpiry;if(o){var i=t.timeUnit;if(i&&p[i]){var c=o*p[i];s.optInStorageExpiry=c}}else!0===r&&(s.optInStorageExpiry=33696e3);var d=t.previousPermissions;d&&(s.previousPermissions=d);var l=t.preOptInApprovals;if(l)s.preOptInApprovals=l;else{var u=t.preOptInApprovalInput;u&&(s.preOptInApprovals=u)}var b=t.isIabContext;b&&(s.isIabContext=b);var m=e.getInstance(t.orgId,s);return f.logger.info('Created instance using orgId: "'+t.orgId+'"'),f.logger.info("Set variables: "+JSON.stringify(s)),m.getMarketingCloudVisitorID(function(e){f.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),m},o=function(t){return(f.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(t):e.value===t})},i=null;_satellite.getVisitorId=function(){return i},o(a.location.pathname)?f.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):i=n(r),e.exports=i},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function t(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var s=this.callbacks[e].push(t)-1,a=this;return function(){a.callbacks[e].splice(s,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var s=this.callbacks[e].shift();"function"==typeof s?s.apply(null,t):s instanceof Array&&s[1].apply(s[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(s,e){(e||s&&!z.isObjectEmpty(s))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==s[e]?s[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function b(e,t,s){var a=null==e?void 0:e[t];return void 0===a?s:a}function r(e){for(var t=/^\d+$/,s=0,a=e.length;s<a;s++)if(!t.test(e[s]))return!1;return!0}function n(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var s=0;s<e.length;s++){var a=parseInt(e[s],10),r=parseInt(t[s],10);if(r<a)return 1;if(a<r)return-1}return 0}function s(e,t){if(e===t)return 0;var s=e.toString().split("."),a=t.toString().split(".");return r(s.concat(a))?(n(s,a),o(s,a)):NaN}function i(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function a(e,t){var s=0<arguments.length&&void 0!==e?arguments[0]:"",a=1<arguments.length&&void 0!==t?arguments[1]:function(){return!0};this.log=be("log",s,a),this.warn=be("warn",s,a),this.error=be("error",s,a)}function S(e,t){var r=(0<arguments.length&&void 0!==e?arguments[0]:{}).cookieName,n=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies;if(!r||!n)return{get:_e,set:_e,remove:_e};var o={remove:function(){n.remove(r)},get:function(){var e=n.get(r),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{};var s=o.get(),a=Object.assign(s,e);n.set(r,JSON.stringify(a),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}};return o}function d(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function l(e,t){function s(e,t){var s=ve(e);return s.length?s.every(function(e){return!!t[e]}):he(t)}function a(){O(k),x(q.COMPLETE),R(j.status,j.permissions),d&&C.set(j.permissions,{optInCookieDomain:l,optInStorageExpiry:u}),y.execute(Se)}function r(s){return function(e,t){if(!Pe(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return x(q.CHANGED),Object.assign(k,Ce(ve(e),s)),t||a(),j}}var n=0<arguments.length&&void 0!==e?arguments[0]:{},o=n.doesOptInApply,i=n.previousPermissions,c=n.preOptInApprovals,d=n.isOptInStorageEnabled,l=n.optInCookieDomain,u=n.optInStorageExpiry,b=n.isIabContext,m=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies,f=Te(i);Ae(f,"Invalid `previousPermissions`!"),Ae(c,"Invalid `preOptInApprovals`!");var p,g,v,h,P,C=S({cookieName:"adobeujs-optin"},{cookies:m}),j=this,R=U(j),y=de(),w=ye(f),E=ye(c),I=d?C.get():{},_={},T=(P=I,we(w)||P&&we(P)?q.COMPLETE:q.PENDING),A=(p=E,g=w,v=I,h=Ce(ce,!o),o?Object.assign({},h,p,g,v):h),k=je(A),x=function(e){return T=e},O=function(e){return A=e};j.deny=r(!1),j.approve=r(!0),j.denyAll=j.deny.bind(j,ce),j.approveAll=j.approve.bind(j,ce),j.isApproved=function(e){return s(e,j.permissions)},j.isPreApproved=function(e){return s(e,E)},j.fetchPermissions=function(e,t){var s=1<arguments.length&&void 0!==t&&arguments[1],a=s?j.on(q.COMPLETE,e):_e;return!o||o&&j.isComplete||c?e(j.permissions):s||y.add(Se,function(){return e(j.permissions)}),a},j.complete=function(){j.status===q.CHANGED&&a()},j.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Le);_[e.name]||(_[e.name]=e).onRegister.call(e,j)},j.execute=Oe(_),j.memoizeContent=function(e){Ie(e)&&C.set(e,{optInCookieDomain:l,optInStorageExpiry:u})},j.getMemoizedContent=function(e){var t=C.get();if(t)return t[e]},Object.defineProperties(j,{permissions:{get:function(){return A}},status:{get:function(){return T}},Categories:{get:function(){return re}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return j.status===q.PENDING}},isComplete:{get:function(){return j.status===q.COMPLETE}},__plugins:{get:function(){return Object.keys(_)}},isIabContext:{get:function(){return b}}})}function u(e,t){function s(){r=null,e.call(e,new d("The call took longer than you wanted!"))}function a(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(s,t);return a}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var o;!o;){e=e.parent;try{e.frames.__tcfapiLocator&&(o=e)}catch(e){}if(e===window.top)break}if(o){var i={};return window.__tcfapi=function(e,t,s,a){var r=Math.random()+"",n={__tcfapiCall:{command:e,parameter:a,version:t,callId:r}};i[r]=s,o.postMessage(n,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var s=t.__tcfapiReturn;"function"==typeof i[s.callId]&&(i[s.callId](s.returnValue,s.success),delete i[s.callId])}},!1),window.__tcfapi}pe.error("__tcfapi not found")}else pe.error("__tcfapi not found")}function f(t,e,s){var a=2<arguments.length&&void 0!==s?arguments[2]:[],r=!0===t.vendor.consents[e],n=a.every(function(e){return!0===t.purpose.consents[e]});return r&&n}function p(){var s=this;s.name="iabPlugin",s.version="0.0.2";var n,o=de(),i={transparencyAndConsentData:null},c=function(e,t){var s=1<arguments.length&&void 0!==t?arguments[1]:{};return i[e]=s};s.fetchConsentData=function(e){var t=u(e.callback,e.timeout);d({callback:t})},s.isApproved=function(e){var s=e.callback,a=e.category,t=e.timeout;if(i.transparencyAndConsentData)return s(null,f(i.transparencyAndConsentData,ne[a],oe[a]));var r=u(function(e,t){s(e,f(t,ne[a],oe[a]))},t);d({category:a,callback:r})},s.onRegister=function(a){n=a;var t=Object.keys(ne),e=function(e,s){!e&&s&&(t.forEach(function(e){var t=f(s,ne[e],oe[e]);a[t?"approve":"deny"](e,!0)}),a.complete())};s.fetchConsentData({callback:e})};var d=function(e){var t=e.callback;if(i.transparencyAndConsentData)return t(null,i.transparencyAndConsentData);o.add("FETCH_CONSENT_DATA",t),a(function(e,t){if(t){var s=je(e),a=n.getMemoizedContent("iabConsentHash"),r=fe(s.tcString).toString(32);s.consentString=e.tcString,s.hasConsentChangedSinceLastCmpPull=a!==r,c("transparencyAndConsentData",s),n.memoizeContent({iabConsentHash:r})}o.execute("FETCH_CONSENT_DATA",[null,i.transparencyAndConsentData])})},a=function(e){var t=xe(ne),s=m();"function"==typeof s&&s("getTCData",2,e,t)}}var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,s,a=1;a<arguments.length;++a)for(t in s=arguments[a])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e};var g,v,h,P,K={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},C=K.STATE_KEYS_MAP,j=function(n){function a(){}function r(s,a){var r=this;return function(){var e=n(0,s),t={};return t[s]=e,r.setStateAndPublish(t),a(e),e}}this.getMarketingCloudVisitorID=function(e){e=e||a;var t=this.findField(C.MCMID,e),s=r.call(this,C.MCMID,e);return void 0!==t?t:s()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}},R=K.MESSAGES,y=K.ASYNC_API_MAP,w=K.SYNC_API_MAP,E=function(){function r(){}function n(e,t){var s=this;return function(){return s.callbackRegistry.add(e,t),s.messageParent(R.GETSTATE),""}}
function e(a){this[y[a]]=function(e){e=e||r;var t=this.findField(a,e),s=n.call(this,a,e);return void 0!==t?t:s()}}function t(e){this[w[e]]=function(){return this.findField(e,r)||{}}}Object.keys(y).forEach(e,this),Object.keys(w).forEach(t,this)},I=K.ASYNC_API_MAP,_=function(){Object.keys(I).forEach(function(t){this[I[t]]=function(e){this.callbackRegistry.add(t,e)}},this)},z=(function(e,t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)};var s=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")&&0<=t.indexOf("Windows NT 6")};t.getIeVersion=function(){return document.documentMode?document.documentMode:s()?7:null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"===G(e)&&!1===Array.isArray(e)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(s,e){return e.reduce(function(e,t){return s[t]&&(e[t]=s[t]),e},Object.create(null))},t.parseOptOut=function(e,t,s){t||(t=s,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var a=parseInt(e.d_ottl,10);return isNaN(a)&&(a=7200),{optOut:t,d_ottl:a}},t.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}(P={exports:{}},P.exports),P.exports),T=(z.isObjectEmpty,z.isValueEmpty,z.getIeVersion,z.encodeAndBuildRequest,z.isObject,z.defineGlobalNamespace,z.pluck,z.parseOptOut,z.normalizeBoolean,t),A=K.MESSAGES,k={0:"prefix",1:"orgID",2:"state"},W=function(n,o){this.parse=function(e){try{var s={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(s[k[t]]=2!==t?e:JSON.parse(e))}),s}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var s=n!==t.orgID,a=!o||e.origin!==o,r=-1===Object.keys(A).indexOf(t.prefix);return s||a||r},this.send=function(e,t,s){var a=t+"|"+n;s&&s===Object(s)&&(a+="|"+JSON.stringify(s));try{e.postMessage(a,o)}catch(n){}}},x=K.MESSAGES,O=function(e,t,s,a){function r(e){Object.assign(m,e)}function n(e){Object.assign(m.state,e),Object.assign(m.state.ALLFIELDS,e),m.callbackRegistry.executeAll(m.state)}function o(e){if(!g.isInvalid(e)){p=!1;var t=g.parse(e);m.setStateAndPublish(t.state)}}function i(e){!p&&f&&(p=!0,g.send(a,e))}function c(){r(new j(s._generateID)),m.getMarketingCloudVisitorID(),m.callbackRegistry.executeAll(m.state,!0),H.removeEventListener("message",d)}function d(e){if(!g.isInvalid(e)){var t=g.parse(e);p=!1,H.clearTimeout(m._handshakeTimeout),H.removeEventListener("message",d),r(new E(m)),H.addEventListener("message",o),m.setStateAndPublish(t.state),m.callbackRegistry.hasCallbacks()&&i(x.GETSTATE)}}function l(){f&&postMessage?(H.addEventListener("message",d),i(x.HANDSHAKE),m._handshakeTimeout=setTimeout(c,250)):c()}function u(){H.s_c_in||(H.s_c_il=[],H.s_c_in=0),m._c="Visitor",m._il=H.s_c_il,m._in=H.s_c_in,m._il[m._in]=m,H.s_c_in++}function b(){function e(e){0!==e.indexOf("_")&&"function"==typeof s[e]&&(m[e]=function(){})}Object.keys(s).forEach(e),m.getSupplementalDataID=s.getSupplementalDataID,m.isAllowed=function(){return!0}}var m=this,f=t.whitelistParentDomain;m.state={ALLFIELDS:{}},m.version=s.version,m.marketingCloudOrgID=e,m.cookieDomain=s.cookieDomain||"";var p=!(m._instanceType="child"),g=new W(e,f);m.callbackRegistry=T(),m.init=function(){u(),b(),r(new _(m)),l()},m.findField=function(e,t){if(void 0!==m.state[e])return t(m.state[e]),m.state[e]},m.messageParent=i,m.setStateAndPublish=n},L=K.MESSAGES,V=K.ALL_APIS,D=K.ASYNC_API_MAP,M=K.FIELDGROUP_TO_FIELD,Y=function(r,a){function n(){var a={};return Object.keys(V).forEach(function(e){var t=V[e],s=r[t]();z.isValueEmpty(s)||(a[e]=s)}),a}function o(){var s=[];return r._loading&&Object.keys(r._loading).forEach(function(e){if(r._loading[e]){var t=M[e];s.push(t)}}),s.length?s:null}function t(s){return function a(){var e=o();if(e){var t=D[e[0]];r[t](a,!0)}else s()}}function s(e,t){var s=n();a.send(e,t,s)}function i(e){d(e),s(e,L.HANDSHAKE)}function c(e){t(function(){s(e,L.PARENTSTATE)})()}function d(t){function e(e){s.call(r,e),a.send(t,L.PARENTSTATE,{CUSTOMERIDS:r.getCustomerIDs()})}var s=r.setCustomerIDs;r.setCustomerIDs=e}return function(e){a.isInvalid(e)||(a.parse(e).prefix===L.HANDSHAKE?i:c)(e.source)}},Z=function(a,s){function r(t){return function(e){n[t]=e,++o===i&&s(n)}}var n={},o=0,i=Object.keys(a).length;Object.keys(a).forEach(function(e){var t=a[e];if(t.fn){var s=t.args||[];s.unshift(r(e)),t.fn.apply(t.context||null,s)}})},J={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),s=t.indexOf(";"+e+"="),a=s<0?s:t.indexOf(";",s+1);return s<0?"":decodeURIComponent(t.substring(s+2+e.length,a<0?t.length:a))},set:function(e,t,s){var a=b(s,"cookieLifetime"),r=b(s,"expires"),n=b(s,"domain"),o=b(s,"secure"),i=b(s,"sameSite"),c=o?"Secure":"",d=i?"SameSite="+i+";":"";if(r&&"SESSION"!==a&&"NONE"!==a){var l=""!==t?parseInt(a||0,10):-60;if(l)(r=new Date).setTime(r.getTime()+1e3*l);else if(1===r){var u=(r=new Date).getYear();r.setYear(u+2+(u<1900?1900:0))}}else r=0;return e&&"NONE"!==a?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(n?" domain="+n+";":"")+d+c,this.get(e)===t):0},remove:function(e,t){var s=b(t,"domain");s=s?" domain="+s+";":"";var a=b(t,"secure"),r=b(t,"sameSite"),n=a?"Secure":"",o=r?"SameSite="+r+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+s+o+n}},$=function(e,t){!e&&H.location&&(e=H.location.hostname);var s,a=e.split("."),r=t||{};for(s=a.length-2;0<=s;s--)if(r.domain=a.slice(s).join("."),J.set("test","cookie",r))return J.remove("test",r),r.domain;return""},Q={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return 0<s(e,t)},isEqual:function(e,t){return 0===s(e,t)}},F=!!H.postMessage,X={postMessage:function(e,t,s){var a=1;t&&(F?s.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(s.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},receiveMessage:function(t,s){var e;try{F&&(t&&(e=function(e){if("string"==typeof s&&e.origin!==s||"[object Function]"===Object.prototype.toString.call(s)&&!1===s(e.origin))return!1;t(e)}),H.addEventListener?H[t?"addEventListener":"removeEventListener"]("message",e):H[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},ee=function(e){var t,s,a="0123456789",r="",n="",o=8,i=10,c=10;if(1==e){for(a+="ABCDEF",t=0;t<16;t++)s=Math.floor(Math.random()*o),r+=a.substring(s,s+1),s=Math.floor(Math.random()*o),n+=a.substring(s,s+1),o=16;return r+"-"+n}for(t=0;t<19;t++)s=Math.floor(Math.random()*i),r+=a.substring(s,s+1),0===t&&9==s?i=3:(1==t||2==t)&&10!=i&&s<2?i=10:2<t&&(i=10),s=Math.floor(Math.random()*c),n+=a.substring(s,s+1),0===t&&9==s?c=3:(1==t||2==t)&&10!=c&&s<2?c=10:2<t&&(c=10);return r+n},te=function(a){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(H.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new H[this.corsMetadata.corsType]},fireCORS:function(n,e){function t(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void o.handleCORSError(n,null,"Response is not JSON")}catch(e){return void o.handleCORSError(n,e,"Error parsing response as JSON")}try{for(var s=n.callback,a=H,r=0;r<s.length;r++)a=a[s[r]];a(t)}catch(e){o.handleCORSError(n,e,"Error forming callback function")}}var o=this;e&&(n.loadErrorHandler=e);try{var s=this.getCORSInstance();s.open("get",n.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(s.withCredentials=!0,s.timeout=a.loadTimeout,s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)}),s.onerror=function(e){o.handleCORSError(n,e,"onerror")},s.ontimeout=function(e){o.handleCORSError(n,e,"ontimeout")},s.send(),a._log.requests.push(n.corsUrl)}catch(a){this.handleCORSError(n,a,"try-catch")}},handleCORSError:function(e,t,s){a.CORSErrors.push({corsData:e,error:t,description:s}),e.loadErrorHandler&&("ontimeout"===s?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t},se={POST_MESSAGE_ENABLED:!!H.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},ae=function(f,t){var r=H.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",s="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(r.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),f.loadSSL&&(t=f.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+s,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+f.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(r.location.href);"string"==typeof f.dpIframeSrc&&f.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(f._subdomain||this.subdomain||(new Date).getTime())+"_"+f.idSyncContainerID,this.iframeHost=this.getIframeHost(f.dpIframeSrc),this.url=f.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:se.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(f.idSyncDisableSyncs||f.disableIdSyncs||f.idSyncDisable3rdPartySyncing||f.disableThirdPartyCookies||f.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||f._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||f._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(a=r.createElement("iframe")).sandbox="allow-scripts allow-same-origin",a.title="Adobe ID Syncing iFrame",a.id=s.id,a.name=s.id+"_name",a.style.cssText="display: none; width: 0; height: 0;",a.src=s.url,s.newIframeCreated=!0,t(),r.body.appendChild(a)}function t(e){a.addEventListener("load",function(){a.className="aamIframeLoaded",s.iframeHasLoaded=!0,s.fireIframeLoadedCallbacks(e),s.requestToProcess()})}this.startedAttachingIframe=!0;var s=this,a=r.getElementById(this.id);a?"IFRAME"!==a.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==a.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=a,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=a},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){a.jsonForComparison.push(e),a.jsonWaiting.push(e),a.processSyncOnPage(e)}var s,a=this;if(e===Object(e)&&e.ibs)if(s=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var r,n,o,i=!1;for(r=0,n=this.jsonForComparison.length;r<n;r++)if(o=this.jsonForComparison[r],s===JSON.stringify(o.ibs||[])){i=!0;break}i?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!se.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}f.idSyncDisableSyncs||f.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){a.messageSendingInterval=se.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var s=f._getField("MCAAMLH"),a=e.d_region||e.dcs_region;return s?a&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",a),parseInt(s,10)!==a&&(this.regionChanged=!0,this.timesRegionChanged++,f._setField("MCSYNCSOP",""),f._setField("MCSYNCS",""),s=a)):(s=a)&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",s)),s||(s=""),s},processSyncOnPage:function(e){var t,s,a,r;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(a=0;a<s;a++)(r=t[a]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,s,a,r,n,o=encodeURIComponent,i=!1;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(i=!0,a=0;a<s;a++)r=t[a],n=[o("ibs"),o(r.id||""),o(r.tag||""),z.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(n.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,n.join("|")));i&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,s){var a="syncOnPage"===s,r=a?"MCSYNCSOP":"MCSYNCS";f._readVisitor();var n,o,i=f._getField(r),c=!1,d=!1,l=Math.ceil((new Date).getTime()/se.MILLIS_PER_DAY);i?(n=i.split("*"),c=(o=this.pruneSyncData(n,e.id,l)).dataPresent,d=o.dataValid,c&&d||this.fireSync(a,e,t,n,r,l)):(n=[],this.fireSync(a,e,t,n,r,l))},pruneSyncData:function(e,t,s){var a,r,n,o=!1,i=!1;for(r=0;r<e.length;r++)a=e[r],n=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(o=!0,s<n?i=!0:(e.splice(r,1),r--)):n<=s&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:i}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,s,a,l,r){var u=this;if(e){if("img"===t.tag){var n,o,i,c,d=t.url,b=f.loadSSL?"https:":"http:";for(n=0,o=d.length;n<o;n++){i=d[n],c=/^\/\//.test(i);var m=new Image;m.addEventListener("load",function(o,i,c,d){return function(){u.onPagePixels[o]=null,f._readVisitor();var e,t,s,a,r=f._getField(l),n=[];if(r)for(t=0,s=(e=r.split("*")).length;t<s;t++)(a=e[t]).match("^"+i.id+"-")||n.push(a);u.setSyncTrackingData(n,i,c,d)}}(this.onPagePixels.length,t,l,r)),m.src=(c?b:"")+i,this.onPagePixels.push(m)}}}else this.addMessage(s),this.setSyncTrackingData(a,t,l,r)},addMessage:function(e){var t=encodeURIComponent(f._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((se.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,s,a){e.push(t.id+"-"+(a+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),f._setField(s,e.join("*"))},sendMessages:function(){var e,t=this,s="",a=encodeURIComponent;this.regionChanged&&(s=a("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?se.POST_MESSAGE_ENABLED?(e=s+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(s+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){X.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,s=/^---destpub-to-parent---/;"string"==typeof e&&s.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(s,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof f._subdomain&&f._subdomain.length?this.subdomain=f._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(f.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===r.readyState||"loaded"===r.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof f.idSyncIDCallResult?f.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof f.idSyncAfterIDCallResult&&f.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return f._forceSyncIDCall||!e||t-e>se.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(r.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},N={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},B={getConfigNames:function(){return Object.keys(N)},getConfigs:function(){return N},normalizeConfig:function(e,t){return N[e]&&"boolean"===N[e].type?"function"!=typeof t?t:t():t}},U=function(e){var r={};return e.on=function(e,t,s){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");r.hasOwnProperty(e)||(r[e]=[]);var a=r[e].push({callback:t,context:s})-1;return function(){r[e].splice(a,1),r[e].length||delete r[e]}},e.off=function(e,t){r.hasOwnProperty(e)&&(r[e]=r[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(r.hasOwnProperty(e)){var t=[].slice.call(arguments,1);r[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},q={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},re={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ne=(e(g={},re.AAM,565),e(g,re.ECID,565),g),oe=(e(v={},re.AAM,[1,10]),e(v,re.ECID,[1,10]),v),ie=["videoaa","iabConsentHash"],ce=(h=re,Object.keys(h).map(function(e){return h[e]})),de=function(){var a={};return a.callbacks=Object.create(null),a.add=function(e,t){if(!c(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");a.callbacks[e]=a.callbacks[e]||[];var s=a.callbacks[e].push(t)-1;return function(){a.callbacks[e].splice(s,1)}},a.execute=function(e,t){if(a.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;a.callbacks[e].length;){var s=a.callbacks[e].shift();"function"==typeof s?s.apply(null,t):s instanceof Array&&s[1].apply(s[0],t)}delete a.callbacks[e]}catch(a){}}},a.executeAll=function(s,e){(e||s&&!i(s))&&Object.keys(a.callbacks).forEach(function(e){var t=void 0!==s[e]?s[e]:"";a.execute(e,t)},a)},a.hasCallbacks=function(){return Boolean(Object.keys(a.callbacks).length)},a},le=function(){},ue=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},be=function(a,r,e){return e()?function(){if(ue(a)){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];console[a].apply(console,[r].concat(t))}}:le},me=a,fe=function(){for(var r=[],e=0;e<256;e++){for(var t=e,s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;r.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t||(t=0),t^=-1;for(var s=0;s<e.length;s++){var a=255&(t^e.charCodeAt(s));t=t>>>8^r[a]}return(t^=-1)>>>0}}(),pe=new me("[ADOBE OPT-IN]"),ge=function(e,t){return G(e)===t},ve=function(e,t){return e instanceof Array?e:ge(e,"string")?[e]:t||[]},he=function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})},Pe=function(e,t){var s=1<arguments.length&&void 0!==t&&arguments[1];return!(!e||Re(e))&&ve(e).every(function(e){return-1<ce.indexOf(e)||s&&-1<ie.indexOf(e)})},Ce=function(e,s){return e.reduce(function(e,t){return e[t]=s,e},{})},je=function(e){return JSON.parse(JSON.stringify(e))},Re=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ye=function(e){if(Ie(e))return e;try{return JSON.parse(e)}catch(e){return{}}},we=function(e){return void 0===e||(Ie(e)?Pe(Object.keys(e),!0):Ee(e))},Ee=function(e){try{var t=JSON.parse(e);return!!e&&ge(e,"string")&&Pe(Object.keys(t),!0)}catch(e){return!1}},Ie=function(e){return null!==e&&ge(e,"object")&&!1===Array.isArray(e)},_e=function(){},Te=function(e){return ge(e,"function")?e():e},Ae=function(e,t){we(e)||pe.error("".concat(t))},ke=function(t){return Object.keys(t).map(function(e){return t[e]})},xe=function(e){return ke(e).filter(function(e,t,s){return s.indexOf(e)===t})},Oe=function(u){return function(e){var t=0<arguments.length&&void 0!==e?arguments[0]:{},s=t.command,a=t.params,r=void 0===a?{}:a,n=t.callback,o=void 0===n?_e:n;if(!s||-1===s.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var i=s.split("."),c=u[i[0]],d=i[1];if(!c||"function"!=typeof c[d])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(r,{callback:o});c[d].call(c,l)}catch(u){pe.error("[execute] Something went wrong: "+u.message)}}};d.prototype=Object.create(Error.prototype),d.prototype.constructor=d;var Se="fetchPermissions",Le="[OptIn#registerPlugin] Plugin is invalid.";l.Categories=re,l.TimeoutError=d;var Ve=Object.freeze({OptIn:l,IabPlugin:p}),De=function(u,b){u.publishDestinations=function(e,t,s){var a=t,r=s;try{r="function"==typeof r?r:e.callback}catch(u){r=function(){}}var n=b;if(n.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void r({error:"subdomain is not a populated string."});if(!(a instanceof Array&&a.length))return void r({error:"messages is not a populated array."});var o=!1;if(a.forEach(function(e){"string"==typeof e&&e.length&&(n.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!z.isObject(e))return void r({error:"Invalid parameters passed."});var i=e;if("string"!=typeof(e=i.subdomain)||!e.length)return void r({error:"config.subdomain is not a populated string."});var c=i.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var d=[];c.forEach(function(e){z.isObject(e)&&(e.hideReferrer?e.message&&n.addMessage(e.message):d.push(e))}),function l(){d.length&&setTimeout(function(){var e=new Image,t=d.shift();e.src=t.url,n.onPageDestinationsFired.push(t),l()},100)}()}n.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),n.requestToProcess()):!u.subdomain&&u._getField("MCMID")?(n.subdomain=e,n.doAttachIframe=!0,n.url=n.getUrl(),n.readyToAttachIframe()?(n.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),n.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):n.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}},Me=function G(e){function t(e,t){return e>>>t|e<<32-t}for(var s,a,r=Math.pow,n=r(2,32),o="",i=[],c=8*e.length,d=G.h=G.h||[],l=G.k=G.k||[],u=l.length,b={},m=2;u<64;m++)if(!b[m]){for(s=0;s<313;s+=m)b[s]=m;d[u]=r(m,.5)*n|0,l[u++]=r(m,1/3)*n|0}for(e+="\x80";e.length%64-56;)e+="\0";for(s=0;s<e.length;s++){if((a=e.charCodeAt(s))>>8)return;i[s>>2]|=a<<(3-s)%4*8}for(i[i.length]=c/n|0,i[i.length]=c,a=0;a<i.length;){var f=i.slice(a,a+=16),p=d;for(d=d.slice(0,8),s=0;s<64;s++){var g=f[s-15],v=f[s-2],h=d[0],P=d[4],C=d[7]+(t(P,6)^t(P,11)^t(P,25))+(P&d[5]^~P&d[6])+l[s]+(f[s]=s<16?f[s]:f[s-16]+(t(g,7)^t(g,18)^g>>>3)+f[s-7]+(t(v,17)^t(v,19)^v>>>10)|0);(d=[C+((t(h,2)^t(h,13)^t(h,22))+(h&d[1]^h&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+C|0}for(s=0;s<8;s++)d[s]=d[s]+p[s]|0}for(s=0;s<8;s++)for(a=3;a+1;a--){var j=d[s]>>8*a&255;o+=(j<16?0:"")+j.toString(16)}return o},Fe=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Me(e)),e},Ne=function(e){return String(e).trim().toLowerCase()},Be=Ve.OptIn;z.defineGlobalNamespace(),window.adobe.OptInCategories=Be.Categories;var Ue=function(a,s,e){function b(){v._customerIDsHashChanged=!1}function t(e){var a=e;return function(e){var t=e||y.location.href;try{var s=v._extractParamFromUri(t,a);if(s)return N.parsePipeDelimetedKeyValues(s)}catch(e){}}}function r(e){function t(e,t,s){e&&e.match(se.VALID_VISITOR_ID_REGEX)&&(s===T&&(R=!0),t(e))}t(e[T],v.setMarketingCloudVisitorID,T),v._setFieldExpire(S,-1),t(e[x],v.setAnalyticsVisitorID)}function n(e){e=e||{},v._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",v._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},v._supplementalDataIDLast=e.supplementalDataIDLast||"",v._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function r(e,t,s){return(s=s?s+="|":s)+(e+"=")+encodeURIComponent(t)}function t(e,t){var s=t[0],a=t[1];return null!=a&&a!==L&&(e=r(s,a,e)),e}var s,a=e.reduce(t,"");return(s=(s=a)?s+="|":s)+"TS="+N.getTimestampInSeconds()}function i(e){var t=e.minutesToLive,s="";return(v.idSyncDisableSyncs||v.disableIdSyncs)&&(s=s||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(s=s||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(s=s||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(s=s||"Error: config.minutesToLive needs to be a positive number")),{error:s,ttl:t}}function c(){return!(!v.configs.doesOptInApply||h.optIn.isComplete&&u())}function u(){return v.configs.doesOptInApply&&v.configs.isIabContext?h.optIn.isApproved(h.optIn.Categories.ECID)&&j:h.optIn.isApproved(h.optIn.Categories.ECID)}function d(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],s=2===e.length?e[1]:"",a=v[t];v[t]=function(e){return u()&&v.isAllowed()?a.apply(v,arguments):("function"==typeof e&&v._callCallback(e,[s]),s)}})}function l(){var e=v._getAudienceManagerURLData(),t=e.url;return v._loadData(_,t,null,e)}function m(e,t){if(j=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(P=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),l(),g()}function f(e,t){if(j=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(P=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),v.init(),g()}function p(){h.optIn.isComplete&&(h.optIn.isApproved(h.optIn.Categories.ECID)?v.configs.isIabContext?h.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(v.init(),g()):v.configs.isIabContext?h.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(d(),g()))}function g(){h.optIn.off("complete",p)}if(!e||e.split("").reverse().join("")!==a)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var v=this,h=window.adobe,P="",C=0,j=!1,R=!1;v.version="5.1.1";var y=H,w=y.Visitor;w.version=v.version,w.AuthState=K.AUTH_STATE,w.OptOut=K.OPT_OUT,y.s_c_in||(y.s_c_il=[],y.s_c_in=0),v._c="Visitor",v._il=y.s_c_il,v._in=y.s_c_in,v._il[v._in]=v,y.s_c_in++,v._instanceType="regular",v._log={requests:[]},v.marketingCloudOrgID=a,v.cookieName="AMCV_"+a,v.sessionCookieName="AMCVS_"+a;var E={};s&&s.secureCookie&&s.sameSiteCookie&&(E={sameSite:s.sameSiteCookie,secure:s.secureCookie}),v.cookieDomain=$(null,E),v.loadSSL=!0,v.loadTimeout=3e4,v.CORSErrors=[],v.marketingCloudServer=v.audienceManagerServer="dpm.demdex.net",v.sdidParamExpiry=30;var I=null,_="MC",T="MCMID",A="MCIDTS",k="A",x="MCAID",O="AAM",S="MCAAMB",L="NONE",V=function(e){return!Object.prototype[e]},D=te(v);v.FIELDS=K.FIELDS,v.cookieRead=function(e){return J.get(e)},v.cookieWrite=function(e,t,s){var a=v.cookieLifetime?(""+v.cookieLifetime).toUpperCase():"",r={expires:s,domain:v.cookieDomain,cookieLifetime:a};return v.configs&&v.configs.secureCookie&&"https:"===location.protocol&&(r.secure=!0),v.configs&&v.configs.sameSiteCookie&&"https:"===location.protocol&&(r.sameSite=K.SAME_SITE_VALUES[v.configs.sameSiteCookie.toUpperCase()]||"Lax"),J.set(e,""+t,r)},v.removeCookie=function(e){var t={domain:v.cookieDomain};return v.configs&&v.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),v.configs&&v.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=K.SAME_SITE_VALUES[v.configs.sameSiteCookie.toUpperCase()]||"Lax"),J.remove(e,t)},v.resetState=function(e){e?v._mergeServerState(e):n()},v._isAllowedDone=!1,v._isAllowedFlag=!1,v.isAllowed=function(){return v._isAllowedDone||(v._isAllowedDone=!0,(v.cookieRead(v.cookieName)||v.cookieWrite(v.cookieName,"T",1))&&(v._isAllowedFlag=!0)),"T"===v.cookieRead(v.cookieName)&&v._helpers.removeCookie(v.cookieName),v._isAllowedFlag},v.setMarketingCloudVisitorID=function(e){v._setMarketingCloudFields(e)},v._use1stPartyMarketingCloudServer=!1,v.getMarketingCloudVisitorID=function(e,t){v.marketingCloudServer&&v.marketingCloudServer.indexOf(".demdex.net")<0&&(v._use1stPartyMarketingCloudServer=!0);var s=v._getAudienceManagerURLData("_setMarketingCloudFields"),a=s.url;return v._getRemoteField(T,a,e,t,s)};var M=function(t,e){var s={};v.getMarketingCloudVisitorID(function(){e.forEach(function(e){s[e]=v._getField(e,!0)}),-1!==e.indexOf("MCOPTOUT")?v.isOptedOut(function(e){s.MCOPTOUT=e,t(s)},null,!0):t(s)},!0)};v.getVisitorValues=function(e,t){var s={MCMID:{fn:v.getMarketingCloudVisitorID,args:[!0],context:v},MCOPTOUT:{fn:v.isOptedOut,args:[void 0,!0],context:v},MCAID:{fn:v.getAnalyticsVisitorID,args:[!0],context:v},MCAAMLH:{fn:v.getAudienceManagerLocationHint,args:[!0],context:v},MCAAMB:{fn:v.getAudienceManagerBlob,args:[!0],context:v}},a=t&&t.length?z.pluck(s,t):s;t&&-1===t.indexOf("MCAID")?M(e,t):Z(a,e)},v._currentCustomerIDs={},v._customerIDsHashChanged=!1,v._newCustomerIDsHash="",v.setCustomerIDs=function(e,t){if(!v.isOptedOut()&&e){if(!z.isObject(e)||z.isObjectEmpty(e))return!1;var s,a,r,n;for(s in v._readVisitor(),e)if(V(s)&&(v._currentCustomerIDs.dataSources=v._currentCustomerIDs.dataSources||{},t=(a=e[s]).hasOwnProperty("hashType")?a.hashType:t,a))if("object"===G(a)){var o={};if(a.id){if(t){if(!(n=Fe(Ne(a.id),t)))return;a.id=n,o.hashType=t}o.id=a.id}null!=a.authState&&(o.authState=a.authState),v._currentCustomerIDs.dataSources[s]=o}else if(t){if(!(n=Fe(Ne(a),t)))return;v._currentCustomerIDs.dataSources[s]={id:n,hashType:t}}else v._currentCustomerIDs.dataSources[s]={id:a};var i=v.getCustomerIDs(!0),c=v._getField("MCCIDH"),d="";for(r in c||(c=0),i){var l=i[r];if(!z.isObjectEmpty(l))for(s in l)V(s)&&(d+=(d?"|":"")+s+"|"+((a=l[s]).id?a.id:"")+(a.authState?a.authState:""))}v._newCustomerIDsHash=String(v._hash(d)),v._newCustomerIDsHash!==c&&(v._customerIDsHashChanged=!0,v._mapCustomerIDs(b))}},v.syncIdentity=function(e,t){if(!v.isOptedOut()&&e){if(!z.isObject(e)||z.isObjectEmpty(e))return!1;var s,a,r,n,o;for(s in v._readVisitor(),e)if(V(s)&&(v._currentCustomerIDs.nameSpaces=v._currentCustomerIDs.nameSpaces||{},t=(a=e[s]).hasOwnProperty(
"hashType")?a.hashType:t,a&&"object"===G(a))){var i={};if(a.id){if(t){if(!(r=Fe(Ne(a.id),t)))return;a.id=r,i.hashType=t}i.id=a.id}null!=a.authState&&(i.authState=a.authState),a.dataSource&&(v._currentCustomerIDs.dataSources=v._currentCustomerIDs.dataSources||{},n=a.dataSource,v._currentCustomerIDs.dataSources[n]=i),v._currentCustomerIDs.nameSpaces[s]=i}var c=v.getCustomerIDs(!0),d=v._getField("MCCIDH"),l="";for(o in d||(d="0"),c){var u=c[o];if(!z.isObjectEmpty(u))for(s in u)V(s)&&(l+=(l?"|":"")+s+"|"+((a=u[s]).id?a.id:"")+(a.authState?a.authState:""))}v._newCustomerIDsHash=String(v._hash(l)),v._newCustomerIDsHash!==d&&(v._customerIDsHashChanged=!0,v._mapCustomerIDs(b))}},v.getCustomerIDs=function(e){v._readVisitor();var t,s,a={dataSources:{},nameSpaces:{}},r=v._currentCustomerIDs.dataSources;for(t in r)V(t)&&(s=r[t]).id&&(a.dataSources[t]||(a.dataSources[t]={}),a.dataSources[t].id=s.id,null!=s.authState?a.dataSources[t].authState=s.authState:a.dataSources[t].authState=w.AuthState.UNKNOWN,s.hashType&&(a.dataSources[t].hashType=s.hashType));var n=v._currentCustomerIDs.nameSpaces;for(t in n)V(t)&&(s=n[t]).id&&(a.nameSpaces[t]||(a.nameSpaces[t]={}),a.nameSpaces[t].id=s.id,null!=s.authState?a.nameSpaces[t].authState=s.authState:a.nameSpaces[t].authState=w.AuthState.UNKNOWN,s.hashType&&(a.nameSpaces[t].hashType=s.hashType));return e?a:a.dataSources},v.setAnalyticsVisitorID=function(e){v._setAnalyticsFields(e)},v.getAnalyticsVisitorID=function(e,t,s){if(!N.isTrackingServerPopulated()&&!s)return v._callCallback(e,[""]),"";var a="";if(s||(a=v.getMarketingCloudVisitorID(function(){v.getAnalyticsVisitorID(e,!0)})),a||s){var r=s?v.marketingCloudServer:v.trackingServer,n="";v.loadSSL&&(s?v.marketingCloudServerSecure&&(r=v.marketingCloudServerSecure):v.trackingServerSecure&&(r=v.trackingServerSecure));var o={};if(r){var i="http"+(v.loadSSL?"s":"")+"://"+r+"/id",c="d_visid_ver="+v.version+"&mcorgid="+encodeURIComponent(v.marketingCloudOrgID)+(a?"&mid="+encodeURIComponent(a):"")+(v.idSyncDisable3rdPartySyncing||v.disableThirdPartyCookies?"&d_coppa=true":""),d=["s_c_il",v._in,"_set"+(s?"MarketingCloud":"Analytics")+"Fields"];n=i+"?"+c+"&callback=s_c_il%5B"+v._in+"%5D._set"+(s?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=i+"?"+c,o.callback=d}return o.url=n,v._getRemoteField(s?T:x,n,e,t,o)}return""},v.getAudienceManagerLocationHint=function(e,t){if(v.getMarketingCloudVisitorID(function(){v.getAudienceManagerLocationHint(e,!0)})){var s=v._getField(x);if(!s&&N.isTrackingServerPopulated()&&(s=v.getAnalyticsVisitorID(function(){v.getAudienceManagerLocationHint(e,!0)})),s||!N.isTrackingServerPopulated()){var a=v._getAudienceManagerURLData(),r=a.url;return v._getRemoteField("MCAAMLH",r,e,t,a)}}return""},v.getLocationHint=v.getAudienceManagerLocationHint,v.getAudienceManagerBlob=function(e,t){if(v.getMarketingCloudVisitorID(function(){v.getAudienceManagerBlob(e,!0)})){var s=v._getField(x);if(!s&&N.isTrackingServerPopulated()&&(s=v.getAnalyticsVisitorID(function(){v.getAudienceManagerBlob(e,!0)})),s||!N.isTrackingServerPopulated()){var a=v._getAudienceManagerURLData(),r=a.url;return v._customerIDsHashChanged&&v._setFieldExpire(S,-1),v._getRemoteField(S,r,e,t,a)}}return""},v._supplementalDataIDCurrent="",v._supplementalDataIDCurrentConsumed={},v._supplementalDataIDLast="",v._supplementalDataIDLastConsumed={};var F=!(v.getSupplementalDataID=function(e,t){v._supplementalDataIDCurrent||t||(v._supplementalDataIDCurrent=v._generateID(1));var s=v._supplementalDataIDCurrent;return v._supplementalDataIDLast&&!v._supplementalDataIDLastConsumed[e]?(s=v._supplementalDataIDLast,v._supplementalDataIDLastConsumed[e]=!0):s&&(v._supplementalDataIDCurrentConsumed[e]&&(v._supplementalDataIDLast=v._supplementalDataIDCurrent,v._supplementalDataIDLastConsumed=v._supplementalDataIDCurrentConsumed,v._supplementalDataIDCurrent=s=t?"":v._generateID(1),v._supplementalDataIDCurrentConsumed={}),s&&(v._supplementalDataIDCurrentConsumed[e]=!0)),s});v._liberatedOptOut=null,v.getOptOut=function(e,t){var s=v._getAudienceManagerURLData("_setMarketingCloudFields"),a=s.url;if(u())return v._getRemoteField("MCOPTOUT",a,e,t,s);if(v._registerCallback("liberatedOptOut",e),null!==v._liberatedOptOut)return v._callAllCallbacks("liberatedOptOut",[v._liberatedOptOut]),F=!1,v._liberatedOptOut;if(F)return null;F=!0;var r="liberatedGetOptOut";return s.corsUrl=s.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),s.callback=[r],H[r]=function(e){if(e===Object(e)){var t,s,a=z.parseOptOut(e,t,L);t=a.optOut,s=1e3*a.d_ottl,v._liberatedOptOut=t,setTimeout(function(){v._liberatedOptOut=null},s)}v._callAllCallbacks("liberatedOptOut",[t]),F=!1},D.fireCORS(s),null},v.isOptedOut=function(s,a,e){a||(a=w.OptOut.GLOBAL);var t=v.getOptOut(function(e){var t=e===w.OptOut.GLOBAL||0<=e.indexOf(a);v._callCallback(s,[t])},e);return t?t===w.OptOut.GLOBAL||0<=t.indexOf(a):null},v._fields=null,v._fieldsExpired=null,v._hash=function(e){var t,s=0;if(e)for(t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s&=s;return s},v._generateID=ee,v._generateLocalMID=function(){var e=v._generateID(0);return q.isClientSideMarketingCloudVisitorID=!0,e},v._callbackList=null,v._callCallback=function(e,t){try{"function"==typeof e?e.apply(y,t):e[1].apply(e[0],t)}catch(e){}},v._registerCallback=function(e,t){t&&(null==v._callbackList&&(v._callbackList={}),null==v._callbackList[e]&&(v._callbackList[e]=[]),v._callbackList[e].push(t))},v._callAllCallbacks=function(e,t){if(null!=v._callbackList){var s=v._callbackList[e];if(s)for(;0<s.length;)v._callCallback(s.shift(),t)}},v._addQuerystringParam=function(e,t,s,a){var r=encodeURIComponent(t)+"="+encodeURIComponent(s),n=N.parseHash(e),o=N.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+n;var i=o.split("?"),c=i[0]+"?",d=i[1];return c+N.addQueryParamAtLocation(d,r,a)+n},v._extractParamFromUri=function(e,t){var s=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(s&&s.length)return decodeURIComponent(s[1])},v._parseAdobeMcFromUrl=t(se.ADOBE_MC),v._parseAdobeMcSdidFromUrl=t(se.ADOBE_MC_SDID),v._attemptToPopulateSdidFromUrl=function(e){var t=v._parseAdobeMcSdidFromUrl(e),s=1e9;t&&t.TS&&(s=N.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===a&&s<v.sdidParamExpiry&&(v._supplementalDataIDCurrent=t.SDID,v._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},v._attemptToPopulateIdsFromUrl=function(){var e=v._parseAdobeMcFromUrl();if(e&&e.TS){var t=N.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>se.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==a)return;r(e)}},v._mergeServerState=function(e){if(e)try{if(a=e,(e=N.isObject(a)?a:JSON.parse(a))[v.marketingCloudOrgID]){var t=e[v.marketingCloudOrgID];s=t.customerIDs,N.isObject(s)&&v.setCustomerIDs(s),n(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var s,a},v._timeout=null,v._loadData=function(e,t,s,a){t=v._addQuerystringParam(t,"d_fieldgroup",e,1),a.url=v._addQuerystringParam(a.url,"d_fieldgroup",e,1),a.corsUrl=v._addQuerystringParam(a.corsUrl,"d_fieldgroup",e,1),q.fieldGroupObj[e]=!0,a===Object(a)&&a.corsUrl&&"XMLHttpRequest"===D.corsMetadata.corsType&&D.fireCORS(a,s,e)},v._clearTimeout=function(e){null!=v._timeout&&v._timeout[e]&&(clearTimeout(v._timeout[e]),v._timeout[e]=0)},v._settingsDigest=0,v._getSettingsDigest=function(){if(!v._settingsDigest){var e=v.version;v.audienceManagerServer&&(e+="|"+v.audienceManagerServer),v.audienceManagerServerSecure&&(e+="|"+v.audienceManagerServerSecure),v._settingsDigest=v._hash(e)}return v._settingsDigest},v._readVisitorDone=!1,v._readVisitor=function(){if(!v._readVisitorDone){v._readVisitorDone=!0;var e,t,s,a,r,n,o=v._getSettingsDigest(),i=!1,c=v.cookieRead(v.cookieName),d=new Date;if(c||R||v.discardTrackingServerECID||(c=v.cookieRead(se.FIRST_PARTY_SERVER_COOKIE)),null==v._fields&&(v._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(i=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)s=(t=c[e].split("-"))[0],a=c[e+1],1<t.length?(r=parseInt(t[1],10),n=0<t[1].indexOf("s")):(r=0,n=!1),i&&("MCCIDH"===s&&(a=""),0<r&&(r=d.getTime()/1e3-60)),s&&a&&(v._setField(s,a,1),0<r&&(v._fields["expire"+s]=r+(n?"s":""),(d.getTime()>=1e3*r||n&&!v.cookieRead(v.sessionCookieName))&&(v._fieldsExpired||(v._fieldsExpired={}),v._fieldsExpired[s]=!0)));!v._getField(x)&&N.isTrackingServerPopulated()&&(c=v.cookieRead("s_vi"))&&1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(a=c[1]).indexOf("["))&&(a=a.substring(0,e)),a&&a.match(se.VALID_VISITOR_ID_REGEX)&&v._setField(x,a))}},v._appendVersionTo=function(e){var t="vVersion|"+v.version,s=e?v._getCookieVersion(e):null;return s?Q.areVersionsDifferent(s,v.version)&&(e=e.replace(se.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},v._writeVisitor=function(){var e,t,s=v._getSettingsDigest();for(e in v._fields)V(e)&&v._fields[e]&&"expire"!==e.substring(0,6)&&(t=v._fields[e],s+=(s?"|":"")+e+(v._fields["expire"+e]?"-"+v._fields["expire"+e]:"")+"|"+t);s=v._appendVersionTo(s),v.cookieWrite(v.cookieName,s,1)},v._getField=function(e,t){return null==v._fields||!t&&v._fieldsExpired&&v._fieldsExpired[e]?null:v._fields[e]},v._setField=function(e,t,s){null==v._fields&&(v._fields={}),v._fields[e]=t,s||v._writeVisitor()},v._getFieldList=function(e,t){var s=v._getField(e,t);return s?s.split("*"):null},v._setFieldList=function(e,t,s){v._setField(e,t?t.join("*"):"",s)},v._getFieldMap=function(e,t){var s=v._getFieldList(e,t);if(s){var a,r={};for(a=0;a<s.length;a+=2)r[s[a]]=s[a+1];return r}return null},v._setFieldMap=function(e,t,s){var a,r=null;if(t)for(a in r=[],t)V(a)&&(r.push(a),r.push(t[a]));v._setFieldList(e,r,s)},v._setFieldExpire=function(e,t,s){var a=new Date;a.setTime(a.getTime()+1e3*t),null==v._fields&&(v._fields={}),v._fields["expire"+e]=Math.floor(a.getTime()/1e3)+(s?"s":""),t<0?(v._fieldsExpired||(v._fieldsExpired={}),v._fieldsExpired[e]=!0):v._fieldsExpired&&(v._fieldsExpired[e]=!1),s&&(v.cookieRead(v.sessionCookieName)||v.cookieWrite(v.sessionCookieName,"1"))},v._findVisitorID=function(e){return e&&("object"===G(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=L),e&&(e===L||e.match(se.VALID_VISITOR_ID_REGEX))||(e="")),e},v._setFields=function(e,t){if(v._clearTimeout(e),null!=v._loading&&(v._loading[e]=!1),q.fieldGroupObj[e]&&q.setState(e,!1),e===_){!0!==q.isClientSideMarketingCloudVisitorID&&(q.isClientSideMarketingCloudVisitorID=!1);var s=v._getField(T);if(!s||v.overwriteCrossDomainMCIDAndAID){if(!(s="object"===G(t)&&t.mid?t.mid:v._findVisitorID(t))){if(v._use1stPartyMarketingCloudServer&&!v.tried1stPartyMarketingCloudServer)return v.tried1stPartyMarketingCloudServer=!0,void v.getAnalyticsVisitorID(null,!1,!0);s=v._generateLocalMID()}v._setField(T,s)}s&&s!==L||(s=""),"object"===G(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&v._setFields(O,t),v._use1stPartyMarketingCloudServer&&t.mid&&v._setFields(k,{id:t.id})),v._callAllCallbacks(T,[s])}if(e===O&&"object"===G(t)){var a=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(a=parseInt(t.id_sync_ttl,10));var r=B.getRegionAndCheckIfChanged(t,a);v._callAllCallbacks("MCAAMLH",[r]);var n=v._getField(S);(t.d_blob||t.blob)&&((n=t.d_blob)||(n=t.blob),v._setFieldExpire(S,a),v._setField(S,n)),n||(n=""),v._callAllCallbacks(S,[n]),!t.error_msg&&v._newCustomerIDsHash&&v._setField("MCCIDH",v._newCustomerIDsHash)}if(e===k){var o=v._getField(x);o&&!v.overwriteCrossDomainMCIDAndAID||((o=v._findVisitorID(t))?o!==L&&v._setFieldExpire(S,-1):o=L,v._setField(x,o)),o&&o!==L||(o=""),v._callAllCallbacks(x,[o])}if(v.idSyncDisableSyncs||v.disableIdSyncs)B.idCallNotProcesssed=!0;else{B.idCallNotProcesssed=!1;var i={};i.ibs=t.ibs,i.subdomain=t.subdomain,B.processIDCallData(i)}if(t===Object(t)){var c,d;u()&&v.isAllowed()&&(c=v._getField("MCOPTOUT"));var l=z.parseOptOut(t,c,L);c=l.optOut,d=l.d_ottl,v._setFieldExpire("MCOPTOUT",d,!0),v._setField("MCOPTOUT",c),v._callAllCallbacks("MCOPTOUT",[c])}},v._loading=null,v._getRemoteField=function(s,e,t,a,r){var n,o="",i=N.isFirstPartyAnalyticsVisitorIDCall(s),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&v.isAllowed())if(v._readVisitor(),!(!(o=v._getField(s,!0===c[s]))||v._fieldsExpired&&v._fieldsExpired[s])||v.disableThirdPartyCalls&&!i)o||(s===T?(v._registerCallback(s,t),o=v._generateLocalMID(),v.setMarketingCloudVisitorID(o)):s===x?(v._registerCallback(s,t),o="",v.setAnalyticsVisitorID(o)):a=!(o=""));else if(s===T||"MCOPTOUT"===s?n=_:"MCAAMLH"===s||s===S?n=O:s===x&&(n=k),n)return!e||null!=v._loading&&v._loading[n]||(null==v._loading&&(v._loading={}),v._loading[n]=!0,n===O&&(C=0),v._loadData(n,e,function(e){if(!v._getField(s)){e&&q.setState(n,!0);var t="";s===T?t=v._generateLocalMID():n===O&&(t={error_msg:"timeout"}),v._setFields(n,t)}},r)),v._registerCallback(s,t),o||(e||v._setFields(n,{id:L}),"");return s!==T&&s!==x||o!==L||(a=!(o="")),t&&a&&v._callCallback(t,[o]),o},v._setMarketingCloudFields=function(e){v._readVisitor(),v._setFields(_,e)},v._mapCustomerIDs=function(e){v.getAudienceManagerBlob(e,!0)},v._setAnalyticsFields=function(e){v._readVisitor(),v._setFields(k,e)},v._setAudienceManagerFields=function(e){v._readVisitor(),v._setFields(O,e)},v._getAudienceManagerURLData=function(e){var t=v.audienceManagerServer,s="",a=v._getField(T),r=v._getField(S,!0),n=v._getField(x),o=n&&n!==L?"&d_cid_ic=AVID%01"+encodeURIComponent(n):"";if(v.loadSSL&&v.audienceManagerServerSecure&&(t=v.audienceManagerServerSecure),t){var i,c,d,l=v.getCustomerIDs(!0);if(l)for(c in l){var u=l[c];if(!z.isObjectEmpty(u)){var b="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(i in u)V(i)&&(d=u[i],o+=b+encodeURIComponent(i)+"%01"+encodeURIComponent(d.id?d.id:"")+(d.authState?"%01"+d.authState:""))}}e||(e="_setAudienceManagerFields");var m="http"+(v.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+v.version+(P&&-1!==m.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+P:"")+(C&&-1!==m.indexOf("demdex.net")?"&d_cf="+C:"")+"&d_rtbd=json&d_ver=2"+(!a&&v._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(v.marketingCloudOrgID)+"&d_nsid="+(v.idSyncContainerID||0)+(a?"&d_mid="+encodeURIComponent(a):"")+(v.idSyncDisable3rdPartySyncing||v.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===I?"&d_coop_safe=1":!1===I?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,p=["s_c_il",v._in,e];return{url:s=m+"?"+f+"&d_cb=s_c_il%5B"+v._in+"%5D."+e,corsUrl:m+"?"+f,callback:p}}return{url:s}},v.appendVisitorIDsTo=function(e){try{var t=[[T,v._getField(T)],[x,v._getField(x)],["MCORGID",v.marketingCloudOrgID]];return v._addQuerystringParam(e,se.ADOBE_MC,o(t))}catch(t){return e}},v.appendSupplementalDataIDTo=function(e,t){if(!(t=t||v.getSupplementalDataID(N.generateRandomString(),!0)))return e;try{var s=o([["SDID",t],["MCORGID",v.marketingCloudOrgID]]);return v._addQuerystringParam(e,se.ADOBE_MC_SDID,s)}catch(t){return e}};var N={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,s){var a=e.split("&");return s=null!=s?s:a.length,a.splice(s,0,t),a.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,s){return e===x&&(t||(t=v.trackingServer),s||(s=v.trackingServerSecure),!("string"!=typeof(a=v.loadSSL?s:t)||!a.length)&&a.indexOf("2o7.net")<0&&a.indexOf("omtrdc.net")<0);var a},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){J.remove(e,{domain:v.cookieDomain})},isTrackingServerPopulated:function(){return!!v.trackingServer||!!v.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var s=t.split("=");return e[s[0]]=decodeURIComponent(s[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",s="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=s[Math.floor(Math.random()*s.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var s in e)e.hasOwnProperty(s)&&"function"==typeof e[s]&&(e[s]=t);return e}};v._helpers=N;var B=ae(v,w);v._destinationPublishing=B,v.timeoutMetricsLog=[];var U,q={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case _:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case k:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case O:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};v.isClientSideMarketingCloudVisitorID=function(){return q.isClientSideMarketingCloudVisitorID},v.MCIDCallTimedOut=function(){return q.MCIDCallTimedOut},v.AnalyticsIDCallTimedOut=function(){return q.AnalyticsIDCallTimedOut},v.AAMIDCallTimedOut=function(){return q.AAMIDCallTimedOut},v.idSyncGetOnPageSyncInfo=function(){return v._readVisitor(),v._getField("MCSYNCSOP")},v.idSyncByURL=function(e){if(!v.isOptedOut()){var t=i(e||{});if(t.error)return t.error;var s,a,r=e.url,n=encodeURIComponent,o=B;return r=r.replace(/^https:/,"").replace(/^http:/,""),s=z.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),a=["ibs",n(e.dpid),"img",n(r),t.ttl,"",s],o.addMessage(a.join("|")),o.requestToProcess(),"Successfully queued"}},v.idSyncByDataSource=function(e){if(!v.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,v.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},De(v,B),v._getCookieVersion=function(e){e=e||v.cookieRead(v.cookieName);var t=se.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},v._resetAmcvCookie=function(e){var t=v._getCookieVersion();t&&!Q.isLessThan(t,e)||N.removeCookie(v.cookieName)},v.setAsCoopSafe=function(){I=!0},v.setAsCoopUnsafe=function(){I=!1},function(){if(v.configs=Object.create(null),N.isObject(s))for(var e in s)V(e)&&(v[e]=s[e],v.configs[e]=s[e])}(),d(),v.init=function(){c()&&(h.optIn.fetchPermissions(p,!0),!h.optIn.isApproved(h.optIn.Categories.ECID))||U||(U=!0,function(){if(N.isObject(s)){v.idSyncContainerID=v.idSyncContainerID||0,I="boolean"==typeof v.isCoopSafe?v.isCoopSafe:N.parseBoolean(v.isCoopSafe),v.resetBeforeVersion&&v._resetAmcvCookie(v.resetBeforeVersion),v._attemptToPopulateIdsFromUrl(),v._attemptToPopulateSdidFromUrl(),v._readVisitor();var e=v._getField(A),t=Math.ceil((new Date).getTime()/se.MILLIS_PER_DAY);v.idSyncDisableSyncs||v.disableIdSyncs||!B.canMakeSyncIDCall(e,t)||(v._setFieldExpire(S,-1),v._setField(A,t)),v.getMarketingCloudVisitorID(),v.getAudienceManagerLocationHint(),v.getAudienceManagerBlob(),v._mergeServerState(v.serverState)}else v._attemptToPopulateIdsFromUrl(),v._attemptToPopulateSdidFromUrl()}(),function(){if(!v.idSyncDisableSyncs&&!v.disableIdSyncs){B.checkDPIframeSrc();var e=function(){var e=B;e.readyToAttachIframe()&&e.attachIframe()};y.addEventListener("load",function(){w.windowLoaded=!0,e()});try{X.receiveMessage(function(e){B.receiveMessage(e.data)},B.iframeHost)}catch(e){}}}(),v.whitelistIframeDomains&&se.POST_MESSAGE_ENABLED&&(v.whitelistIframeDomains=v.whitelistIframeDomains instanceof Array?v.whitelistIframeDomains:[v.whitelistIframeDomains],v.whitelistIframeDomains.forEach(function(e){var t=new W(a,e),s=Y(v,t);X.receiveMessage(s,e)})))}};Ue.config=B;var qe=H.Visitor=Ue,Ge=function(r){if(z.isObject(r))return Object.keys(r).filter(function(e){return""!==r[e]&&B.getConfigs()[e]}).reduce(function(e,t){var s=B.normalizeConfig(t,r[t]),a=z.normalizeBoolean(s);return e[t]=a,e},Object.create(null))},He=Ve.OptIn,Ke=Ve.IabPlugin;qe.getInstance=function(a,e){if(!a)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");a.indexOf("@")<0&&(a+="@AdobeOrg");var t=function(){var e=H.s_c_il;if(e)for(var t=0;t<e.length;t++){var s=e[t];if(s&&"Visitor"===s._c&&s.marketingCloudOrgID===a)return s}}();if(t)return t;var r,s=Ge(e)||{};r=s||{},H.adobe.optIn=H.adobe.optIn||function(){var e=z.pluck(r,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=r.optInCookieDomain||r.cookieDomain;t=(t=t||$())===window.location.hostname?"":t,e.optInCookieDomain=t;var s=new He(e,{cookies:J});if(e.isIabContext&&e.doesOptInApply){var a=new Ke;s.registerPlugin(a)}return s}();var n=a.split("").reverse().join(""),o=new qe(a,null,n);s.cookieDomain&&(o.cookieDomain=s.cookieDomain),s.sameSiteCookie&&s.secureCookie&&(o.configs={sameSiteCookie:s.sameSiteCookie,secureCookie:s.secureCookie}),H.s_c_il.splice(--H.s_c_in,1);var i=z.getIeVersion();if("number"==typeof i&&i<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c,d=function(){try{return H.self!==H.parent}catch(a){return!0}}()&&((c=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==c.cookieRead("TEST_AMCV_COOKIE")||(c.removeCookie("TEST_AMCV_COOKIE"),0))&&H.parent?new O(a,s,o,H.parent):new qe(a,s,n);return o=null,d.init(),d},function(){function e(){qe.windowLoaded=!0}H.addEventListener?H.addEventListener("load",e):H.attachEvent&&H.attachEvent("onload",e),qe.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"bmw-group-utility-kit":{displayName:"Utility Kit",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2266a5c5e89a41929de2c44a88e78182/",settings:{webDL:{dataElement:"%webDL%"},privacyManager:{type:{code:function(e){return"true"===_satellite.getVar("splitConsentEnabled")?e.EPAAS_SPLIT:e.EPAAS_NON_SPLIT}},methodSettings:{code:function(){}}}},modules:{"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js":{name:"data-layer-snapshot",displayName:"Data Layer Snapshot",script:function(e,t,s){"use strict";var a=s("../helpers/dataLayerManager");e.exports=function(){return a.getSnapshot()}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js":{name:"snapshot-attribute",displayName:"Snapshot Attribute",script:function(e,t,s){"use strict";var a=s("../helpers/dataLayerManager");e.exports=function(e){var t=e.snapshotAttribute&&e.snapshotAttribute.path;return a.getSnapshot().get(t)}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js":{name:"helper-tools",displayName:"Helper Tools",script:function(e,t,s){"use strict";var a=s("../helpers/external_modules/deepFreeze.js")({cache:s("../helpers/cache.js"),hooks:s("../helpers/hooks.js"),privacyManager:s("../helpers/privacyManager.js")});e.exports=function(){return a}}},"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js":{name:"take-snapshot",displayName:"Take Snapshot",script:function(e,t,s,a){"use strict";var r=s("../helpers/dataLayerManager"),n=a.getSharedModule("adobe-analytics","get-tracker");e.exports=function(e,t){t.detail=t.detail||{},t.detail.snapshotDL=r.takeSnapshot(t.$rule.name,t.detail.webDL),n&&n().then(function(){r.takeSnapshot(t.$rule.name,t.detail.snapshotDL.snapshot)})}}},"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js":{name:"discard-snapshot",displayName:"Discard Snapshot",script:function(e,t,s,a){"use strict";var r=s("../helpers/dataLayerManager"),n=a.getSharedModule("adobe-analytics","get-tracker");e.exports=function(){r.removeSnapshot(),n&&n().then(function(){r.removeSnapshot()})}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js":{script:function(t,s,a,i){"use strict";function r(e,t,s){if(!e)throw new Error("'takenAt' is a required parameter while instantiating the Snapshot class");this.debug={takenAt:e};var a=i.getExtensionSettings().webDL&&i.getExtensionSettings().webDL.dataElement;t||a?(this.snapshot=JSON.parse(JSON.stringify(t||a)),this.debug.type=s||(t?c.PARAMETER:a?c.WEBDL:c.EMPTY)):(i.logger.warn("NOTE: Website datalayer not available while creating the snapshot"),this.snapshot={},this.debug.type=c.EMPTY)}var n,o=a("./external_modules/deepFreeze"),c={FALLBACK:"CURRENT_DATALAYER_STATE",WEBDL:"WEBSITE_DATALAYER",PARAMETER:"CUSTOM_PARAMETER",EMPTY:"EMPTY"};r.prototype.get=function(t,s){try{for(var a=["","na","not set","n/a","not available","not yet available","not selected","unknown"],r=(t=t||"").split("."),n=this.snapshot,o=0;o<r.length&&n!=undefined;o++)n=Array.isArray(n)&&/-[0-9]+/.test(r[o])?n[n.length-Math.abs(parseInt(r[o]))]:n[r[o]];return"string"==typeof n&&-1<a.indexOf(n.toLowerCase())?s||"datalayer field empty":n||s||"datalayer field missing"}catch(e){i.logger.error("Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-",e)}};var d=function(){this.takeSnapshot=function(e,t){return n=new r(e,t),o(n)},this.getSnapshot=function(){return n||(i.logger.info("NOTE: No snapshot available, returning the current web datalayer, if available"),o(new r("NO_SNAPSHOT_AVAILABLE",undefined,c.FALLBACK)))},this.removeSnapshot=function(){n=undefined}};t.exports=new d}},"bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js":{script:function(e){e.exports=function s(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){!t.hasOwnProperty(e)||null===t[e]||"object"!=typeof t[e]&&"function"!=typeof t[e]||Object.isFrozen(t[e])||s(t[e])}),t}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js":{script:function(e,t,s,a){"use strict";function r(e){return i[e]}function n(e,t){void 0!==r(e)&&a.logger.log('Overwriting cache["'+e+'"]'),i[e]=t}function o(e){return delete i[e]}var i={};e.exports={get:r,set:n,remove:o}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js":{script:function(t,s,a,n){function r(e){this.action=e.action,this.type=e.type&&"string"==typeof e.type&&e.type.toLowerCase()}function o(e){this.newReference=undefined,this.reference=e.method,this.hooks=[new r(e)]}function i(){var s=[];this.find=function(e){for(var t=s.length-1;0<=t;t--)if(s[t].reference===e||s[t].newReference===e)return s[t]},this.findIndex=function(e){for(var t=s.length-1;0<=t;t--)if(s[t].reference===e||s[t].newReference===e)return t},this.add=function(e){s.push(e)},this.remove=function(e){var t=this.findIndex(e);if(t)return s.splice(t,1)[0]}}function c(){var a=new i;this.add=function(e){if("object"!=typeof e||!e.method||!e.action||!e.type)throw new Error("'hooks.add' expects an object as parameter with 'method', 'action'and 'type' as required keys");var t=a.find(e.method);return t?t.addHook(e):a.add(new o(e)),a.find(e.method).getNewDefinition()},this.remove=function(e,t){var s=a.find(e);s&&s.removeHook(t)},this.removeAll=function(e){return a.remove(e).reference},this.get=function(e){var t=a.find(e);return t?t.getHooks():[]}}r.prototype.execute=function(t,s){try{return this.action.apply(t,s)}catch(e){n.logger.error("Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-",e)}},o.prototype.removeHook=function(e){for(var t=this.hooks.length-1;0<=t;t--)this.hooks[t].action===e&&this.hooks.splice(t,1)},o.prototype.addHook=function(e){e.type&&"string"==typeof e.type&&"overwrite"===e.type.toLowerCase()?(this.hooks.length&&n.logger.warn("Following hooks will now be removed as a new 'overwrite' hook is added-",this.hooks),this.hooks=[new r(e)]):"overwrite"===this.hooks[0].type?n.logger.warn("Can't add a 'pre' OR 'post' hook type as an overwrite hook is already present- ",this.hooks[0]):this.hooks=this.hooks.concat(new r(e))},o.prototype.getHooks=function(){return this.hooks},o.prototype.executePreHooks=function(e,t){for(var s=this.hooks.filter(function(e){return"pre"===e.type}),a=0;a<s.length;a++)t=s[a].execute(e,JSON.parse(JSON.stringify(t)))||t;return t},o.prototype.executePostHooks=function(e,t){for(var s=this.hooks.filter(function(e){return"post"===e.type}),a=0;a<s.length;a++)t=s[a].execute(e,[JSON.parse(JSON.stringify(t))])||t;return t},o.prototype.getNewDefinition=function(){var r=this;return r.newReference=r.newReference||function(){var t="overwrite"===r.hooks[0].type?r.hooks[0]:undefined;if(t)return t.execute(this,arguments);var s=Array.prototype.slice.call(arguments);s=r.executePreHooks(this,s);try{var a=r.reference.apply(this,s)}catch(e){n.logger.error("Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-",e)}return a=r.executePostHooks(this,a)},r.newReference};var d=new c;t.exports=d}},"bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js":{script:function(t,s,a,r){function n(e){r.logger.error("UTILITY-KIT:"+e),r.logger.debug("UTILITY-KIT:Privacy Manager State-"+this.state),r.logger.debug("UTILITY-KIT:Privacy Manager Type-"+this.type)}function o(e){var t;Object.defineProperty(this,"type",{get:function(){return e}}),Object.defineProperty(this,"state",{get:function(){return t}}),Object.defineProperty(this,"ENUM_TYPE",{get:function(){return d(m)}});var s=this;this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT||this.type==m.CON_TRACKING_API?(t=f.IDENTIFIED,this.onInit(function(){t=f.INITIALIZED,s.type==m.EPAAS_SPLIT&&(c.get=l.add({method:c.get,action:consentcontroller.api.getPersistence,type:"overwrite"}),c.set=l.add({method:c.set,action:function(e,t){return consentcontroller.api.setPersistence(e,t)},type:"overwrite"}))})):t=f.UNKNOWN}var i=a("@adobe/reactor-window"),c=a("@adobe/reactor-cookie"),d=a("./external_modules/deepFreeze.js"),l=a("./hooks"),u=r.getExtensionSettings(),b=u&&u.privacyManager||{},m={EPAAS_SPLIT:"EPAAS_SPLIT",EPAAS_NON_SPLIT:"EPAAS_NON_SPLIT",CON_TRACKING_API:"CON_TRACKING_API",OTHERS:"OTHERS"},f={IDENTIFIED:"WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT",INITIALIZED:"WEBSITE_API_INITIALIZED",UNKNOWN:"WEBSITE_API_NOT_RECOGNIZED"};o.prototype.onInit=function(e){this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?(i.consentcontroller&&i.consentcontroller.api||i).addEventListener("consentcontroller.api.initialized",e):this.type==m.CON_TRACKING_API?i.digital&&i.digital.tracking&&i.digital.tracking.dtmReady!=undefined?e():i.addEventListener("digital:tracking:trackingReady",e):n.call(this,"Privacy Manager can't provide consent status: isTrackingEnabled called without overriding the method")},o.prototype.isTrackingAllowed=function(e){return this.state!=f.INITIALIZED?(r.logger.warn("UTILITY-KIT:"+this.type+" is not initialized, tracking status will be returned as false"),!1):this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?consentcontroller.api.isUsageAllowed(e):this.type==m.CON_TRACKING_API?!i.digital.tracking.isTrackingDisabled():(n.call(this,"Privacy Manager can't provide consent status: isTrackingAllowed called without overriding the method"),!1)},o.prototype.registerOnConsentChange=function(){var e=arguments;this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?this.onInit(function(){consentcontroller.api.registerOnUserConsentChange.apply(null,e)}):this.type==m.CON_TRACKING_API?this.onInit(function(){i.digital.tracking.registerOnConsentChange.apply(i.digital.tracking,e)}):n.call(this,"Privacy Manager can't handle consent change registration: registerOnConsentChange called without overriding the method")},o.prototype.isCookieDrawerShown=function(){return this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?this.state==f.INITIALIZED&&consentcontroller.api.showDisclaimer():this.type==m.CON_TRACKING_API?c.get("cc_ConsentCookie")===undefined:void n.call(this,"Privacy Manager can't get cookie drawer shown status: isCookieDrawerShown called without overriding the method")};try{var p;b.type&&b.type.code&&(p=b.type.code(m))}catch(e){r.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}p!==m.EPAAS_SPLIT&&p!==m.EPAAS_NON_SPLIT&&p!==m.CON_TRACKING_API&&p!==m.OTHERS&&(r.logger.error("Privacy Manager extension settings does not return 'ENUM_TYPE' value"),p=m.OTHERS);var g=new o(p);try{p===m.OTHERS&&b.methodSettings&&b.methodSettings.code&&b.methodSettings.code(g)}catch(e){r.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}t.exports=g}}}}},company:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg"},property:{name:"BMW .Next - NSC",settings:{domains:["bmw.co.za"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PR66f9ca7b31754d7795108262c6004998"},rules:[{id:"RL0f54dad8cf9041eaa1d7eb31eb113394",name:"TPT - AT - AEM - Submit button - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1576e11cfcb5428085199b8c99fcedd6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63646f5743ba4c819c5cd1b78d0a748f",name:"TPT - NZ - AEM - LinkedIn - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC37013e4144944ae3b69bf5b557841b7c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa885d8656042414fa4e33c4e380f0c36",name:"TPT - NL - AEM - Bing - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc74c111df2044a7abff4b61082a3b488-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad67d2ae62604c6a98a37b7c44ebc9b9",name:"TPT - BG - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC176c63fdadc443669fdd1ab7f4ba8965-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaa67ebea12844c24bfa6d0a977e7bc11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL483a0b0b1f5e4d8799ec3f0489674844",name:"TPT - DE - AEM - Psyma User Survey - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m156.bmw-int1.com"},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int\\d+.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC59bf06fe695844c78750a056805ab50c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53b1507a87134617aa54dd196c66783c",name:"TPT - ZA - AEM - Twitter - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC13e60f0a69c0436293c3e8568c500866-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1a1714201fd44a2bd6f0154166b8303",name:"PLR - DE - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0},{value:"/all-models",valueIsRegex:!0},{value:"/index",valueIsRegex:!0},{value:"/home",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdefb2682acca45ff9f7baa2a0bc148ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL984150eb085d49c984dd0f67508cdc93",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli BMW Bus Demo - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_bmw_bus_demo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf20fe5f2ccee45e39b976b388585bd87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76720053673e4087b8171e59427844d3",name:"TPT - AU - AEM - GTagDC - Motorrad Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-motorrad.com.au/en/offers/bmw-motorrad-corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc91a5295eb0743aeb6c0ad993ea36bca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdf4c42cab16844b5b53e3ded33c90024",name:"TPT - IT - AEM - Gtag AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb98dfc73c6124a60a54f34cbc6c49ca0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2104b83031b4499aa7400516becc3dd5",name:"TPT - AT - AEM - Adform - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2e8889e74e604ae8a9c3bce1f9cb2a09-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d41bf125e8e4df9bf07f1133fc827dd",name:"DCR - ALL - NSC - AA - UXN Navigation and Generic Click Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"email"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"call"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_tooltip"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tap_hover"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"salesbar"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);for(var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.effect"),o=a.get("event.-1.attributes.videoLength"),i=r&&"object"!=typeof r?r.split("L").length:0,c="",d=a.get("event.-1.attributes.relatedComponent.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),l=a.get("event.-1.category.primaryCategory"),u="nsc > ",b=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),m=a.get("component"),f=0;f<m.length;f++)if(m[f].componentInfo.componentID===a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"))return void(s.abort="true");if(-1<["line_component","multicontent","new_pre_configuration","offers","new_gallery","uxs-highlight","all-models-list"].indexOf(b))return void(s.abort="true");if(s.linkTrackVars="events,",s.linkTrackEvents="",s.events="",_satellite.getVar("setDefaultVariables",t)(s),("tap_and_hold"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&"datalayer field missing"!=a.get("product")&&"datalayer field empty"!=a.get("product")&&a.get("product")!=[]||"datalayer field empty"!=a.get("product.-1.productInfo.productName")&&"datalayer field missing"!=a.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(s),s.prop42="nsc website",s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,s.eVar175=a.get("component.-1.attributes.variant",a.get("event.-1.attributes.relatedComponent.attributes.variant")),s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop4=a.get("page.category.subCategory01"),s.prop5=a.get("page.category.subCategory02"),s.prop1=a.get("page.pageInfo.pageName"),"digital > new car stock locator"==a.get("component.-1.componentInfo.componentName")?s.prop1.indexOf("sl >")<0?s.prop1="stock > "+s.prop1:s.prop1=s.prop1.replace("sl >","stock > "):s.prop1.indexOf(u)<0&&(s.prop1=u+s.prop1),s.prop28=a.get("page.attributes.virtualPage"),s.prop29=a.get("page.pageInfo.version"),s.prop40=a.get("user.-1.segment.logged"),s.prop56="interaction",s.eVar34=r&&"object"!=typeof r?r:"datalayer field missing",s.eVar34.indexOf(u)<0&&(s.eVar34=u+s.eVar34),s.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop54=a.get("event.-1.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),s.prop55=a.get("event.-1.category.subCategory01"),s.prop50=a.get("event.-1.eventInfo.element"),s.eVar71=a.get("event.-1.eventInfo.target"),d&&"Navigation"==d&&"Navigation"==l?(s.prop52=a.get("event.-1.eventInfo.cause"),s.eVar136="2020 - 06- 15 user_centric_navigation",s.eVar137="AEM6",s.prop53="ux",s.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,eVar175,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,eVar136,eVar137,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"):(s.prop52=a.get("event.-1.eventInfo.eventType",a.get("event.-1.category.eventType")),s.prop53="open_content"==t.identifier||"open_image"==t.identifier||"open_tooltip"==t.identifier||"tap_hover"==t.identifier?"ux":"success",s.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,eVar175,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"),"open_navigation"==t.identifier&&2==i&&"Navigation"==d)c="event917,event918,event919,event920";else if("internal_click"==t.identifier&&2==i&&"Navigation"==d&&"Navigation"==l)c="event917,event918,event919,event920";else switch(c="event917,event918",t.identifier){case"start_video":c+=",event351";break;case"email":c+=",event901,event902";break;case"call":c+=",event913,event914";break;case"tap_hover":if(n&&parseInt(n)&&o&&parseInt(o)){var p=parseInt(n)/parseInt(o);.1<=p&&(c+=",event352"),.25<=p&&(c+=",event353"),.5<=p&&(c+=",event354"),.75<=p&&(c+=",event355"),.95<=p&&(c+=",event356")}c+=",event351,event909,event910";break;case"open_image":if("tap_and_hold"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){c+=",event909,event910";break}}if("user_centric_navigation"==s.prop19&&(c+=",event919,event920"),"close_layer"!=t.identifier&&"open_layer"!=t.identifier&&"open_navigation"!=t.identifier||("visualizer"==a.get("event.-1.attributes.relatedComponentName")?(s.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),s.prop19=s.prop54="visualizer",s.prop42="configuration",s.prop53="ux",s.prop51=a.get("event.-1.eventInfo.eventName"),s.prop52=a.get("event.-1.eventInfo.cause"),s.linkTrackVars+=",prop51",["inactivity","error","buildability conflict"].indexOf(r.toLowerCase())<0&&(c+=",event313,event314")):"model_navigation_hp"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(s.prop56="interaction",s.prop53="ux",s.prop43="navigation",s.eVar34=r+" clicked",s.prop51=a.get("event.-1.eventInfo.eventName"),s.prop52=a.get("event.-1.eventInfo.cause"),s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop42="nsc website",s.prop13="bmw",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),s.eVar134="web",s.prop27=a.get("page.pageInfo.pageID"),"virtual"==s.prop28&&(s.prop28="virtual page"),s.prop3=a.get("component.-1.componentInfo.componentName"),s.eVar135=a.get("page.pageInfo.devEnv"),s.eVar71=a.get("event.-1.eventInfo.target"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),s.eVar136="2020 - 06- 15 model_navigation_hp",s.linkTrackVars+=",prop51")),("Outbound click"!=a.get("event.-1.eventInfo.eventAction")&&"Internal click"!=a.get("event.-1.eventInfo.eventAction")||"salesbar"!=a.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))&&"salesbar"!=t.identifier||(c="event917,event918,event921,event922",s.prop43="navigation",s.prop56="interaction",s.eVar34=r+" clicked",s.prop52="default",s.prop53="ux",s.prop51=a.get("event.-1.eventInfo.eventName"),s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),s.prop13="bmw",s.eVar134="web",s.prop27=a.get("page.pageInfo.pageID"),s.eVar71=a.get("event.-1.eventInfo.target"),s.prop3=a.get("component.-1.componentInfo.componentName"),s.prop2=a.get("page.category.pageType"),"virtual"==s.prop28&&(s.prop28="virtual page"),s.eVar135=a.get("page.pageInfo.devEnv"),"new car"==a.get("product.-1.category.primaryCategory")&&(s.eVar54="build to order"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),"Outbound click"==a.get("event.-1.eventInfo.eventAction")&&-1<r.indexOf("test")&&-1<r.indexOf("drive")&&(s.prop11="tda",s.prop8="form start intention",s.linkTrackVars+=",prop11,prop8",c+=",event1,event2"),s.eVar136="2020 - 06- 15 salesbar",s.eVar175=a.get("event.-1.attributes.relatedComponent.attributes.variant"),s.linkTrackVars+=",prop51,prop2,prop3,prop52,prop19,prop44,prop13,eVar34,eVar134,prop27,eVar135,eVar54,eVar17,eVar136,prop53,eVar175"),"tap_and_hold"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&("tap_hover"==t.identifier||"open_image"==t.identifier)){s.eVar34=s.eVar34+" clicked",s.prop3=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop51=a.get("event.-1.eventInfo.eventName"),s.prop52="default",s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop42="nsc website",s.prop43="content",s.prop13="bmw",s.eVar134="web",s.prop27=a.get("page.pageInfo.pageID"),"virtual"==s.prop28&&(s.prop28="virtual page"),s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),s.eVar135=a.get("page.pageInfo.devEnv"),"new car"==a.get("product.-1.category.primaryCategory")&&(s.eVar54="build to order"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar136="2020 - 06- 15 tap_and_hold","tap_hover"==t.identifier&&(s.prop38="video",s.prop39=a.get("event.-1.attributes.videoLength"));var g=_satellite.getVar("setDefaultProductVariables");g.category="vehicle",g.id=a.get("product.-1.productInfo.productId",a.get("event.-1.category.mmdr"));var v=a.get("event.-1.category.mmdr");g.merchEvars.eVar10=v,g.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),g.merchEvars.eVar52=a.get("product.-1.productInfo.productName"),g.merchEvars.eVar53="new car",s.products=g.toString(),s.linkTrackVars+=",prop51,prop52,prop38,prop39,prop42,prop43,prop44,eVar135,eVar54,eVar55,eVar51,eVar48,eVar17,eVar136,products"}"visualizer"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(s.eVar34=a.get("event.-1.eventInfo.eventName.en")),"visualizer"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(s.eVar34=a.get("event.-1.eventInfo.eventName.en")),s.eVar34.indexOf("nsc >")<0&&(s.eVar34="nsc > "+s.eVar34),s.events=s.apl(s.events,c),s.linkTrackEvents=s.apl(s.linkTrackEvents,c),_satellite.getVar("smartPreviousValueManager").update("pageName",s.prop1),s.prop74="bmw .next - nsc|dcr - all - nsc - aa - uxn navigation and generic click tracking"}catch(e){var h={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,h)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLb23d4384fa784281b57166d9f12804ea",name:"PLR - All - NSC - AA - Initialize Plugins",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetDaysSinceLastVisit.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{s.getPercentPageViewed=function(e,t){var s=this,a=s.c_r("s_ppv");(a=-1<a.indexOf(",")?a.split(","):[])[0]=s.unescape(a[0]),e=e||(s.pageName?s.pageName:document.location.href),s.ppvChange=void 0===t||1==t,"undefined"!=typeof s.linkType&&"o"===s.linkType||(s.ppvID&&s.ppvID===e||(s.ppvID=e,s.c_w("s_ppv",""),s.handlePPVevents()),s.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",s.handlePPVevents,!1),window.addEventListener("click",s.handlePPVevents,!1),window.addEventListener("scroll",s.handlePPVevents,!1)),s._ppvPreviousPage=a[0]?a[0]:"",s._ppvHighestPercentViewed=a[1]?a[1]:"",s._ppvInitialPercentViewed=a[2]?a[2]:"",s._ppvHighestPixelsSeen=a[3]?a[3]:"",s._ppvFoldsSeen=a[4]?a[4]:"",s._ppvFoldsAvailable=a[5]?a[5]:"")},s.handlePPVevents=function(){if("undefined"!=typeof s_c_il&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var s=s_c_il[e];break}if(s&&s.ppvID){var a=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+r,t=Math.min(Math.round(e/a*100),100);var n=Math.floor(e/r);r=Math.floor(a/r);var o="";if(!s.c_r("s_tp")||s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID)||1==s.ppvChange&&s.c_r("s_tp")&&a!=s.c_r("s_tp")){if((s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID+"1"))&&s.c_w("s_ips",e),s.c_r("s_tp")&&s.unescape(s.c_r("s_ppv").split(",")[0])===s.ppvID){s.c_r("s_tp");var i=-1<(o=s.c_r("s_ppv")).indexOf(",")?o.split(","):[];o=i[0]?i[0]:"",i=i[3]?i[3]:"";var c=s.c_r("s_ips");o=o+","+Math.min(Math.round(i/a*100),100)+","+Math.min(Math.round(c/a*100),100)+","+i+","+n}s.c_w("s_tp",a)}else o=s.c_r("s_ppv");var d=o&&-1<o.indexOf(",")?o.split(",",6):[];a=0<d.length?d[0]:escape(s.ppvID),i=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):r,0<t&&(o=a+","+(i<t?t:i)+","+c+","+(document.body.scrollHeight==(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)?e:l<e?e:l)+","+(u<n?n:u)+","+(d<r?r:d)),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&s.c_w("s_ppv",o)}}},s.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)}}catch(e){var a={from:"AA",type:"PLR",name:"Initialize Plugins"};_satellite.logger.error(e,a)}}},trackerProperties:{}}}]},{id:"RL65775e6ccc9d477e8038608c1dd605fd",name:"TPT - KR - AEM - Mathtag - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5867981a1dd54d33bc8dc4ecec0fd5ec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL625a00ab1b26476db61f6b221180f0cf",name:"DCR - All - AEM - AA - Stock Locator Page",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var r=_satellite.getVar("snapshotDL");s.prop27=r.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",r.get("page.pageInfo.pageID")),s.eVar135=r.get("page.pageInfo.sysEnv"),s.prop50="page title",s.prop17=s.prop44=s.eVar71=s.prop54=s.prop11=s.prop7=s.prop8=s.prop6=s.prop55=s.prop51=s.prop24=s.prop52=s.eVar34=s.prop57=s.prop56=s.prop58=s.prop12=s.prop53=s.eVar23=s.eVar24="","undefined"==s.products&&(s.products=""),s.prop1=r.get("page.pageInfo.pageName"),s.prop1.indexOf("sl >")<0?s.prop1="stock > "+s.prop1:s.prop1=s.prop1.replace("sl >","stock > "),s.pageName=s.prop1,a.update("pageName",s.prop1,!0),s.prop42="stock locator",s.prop43=-1!=r.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,"virtual page"===_satellite.getVar("snapshotDL").get("page.pageInfo.variant")?s.prop19="new car stock locator":(s.prop19=-1!=r.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"central new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,a.update("pagePrimaryCategory",s.prop19,!0)),a.update("componentSubcategory1",s.prop43,!0),a.update("url",s.eVar4,!0),a.update("pageSubCategory01",s.prop4,!0),s.eVar14=a.get("url"),s.prop31=a.get("pagePrimaryCategory"),s.prop32=a.get("pageSubCategory01"),s.prop33=a.get("pageName"),s.eVar28=a.get("componentSubcategory1")}catch(e){var n={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Stock Locator Page"};_satellite.logger.error(e,n)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL11e34eee9d2b401784e9bf8daa4319a5",name:"TPT - ES - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4f7ca95a14a749039dec049a0ab7e5c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa3bfe0bfb5a478b888cc807a245dd7f",name:"TPT - UK - AEM - GtagDC - iFrame RFC Forms- DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb016533761f54547b51d2a46778ed4c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc7e9795ae8e4fb4aa1114060340bf13",name:"TPT - ZA - AEM - GTagDC - google_site_tag_ZA_TestDriveSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"google_site_tag_ZA_TestDriveSubmit"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC642e2ec396a241638f04c8a0302db13e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL538c08a6db3c428a8bd8c974e77d3dab",name:"TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8b423192271449e7b49a21a190e97718-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd7d83821e6b4da4b9ab434ac6b0c33a",name:"TPT - SG - AEM - Adform - Download catalogue - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download catalogue",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/accessories-catalogue.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8ff0c119663e41a0a7783f5beda6009a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13f8ea7540cf4e3b915a3dc16c58b38d",name:"TPT - AT - AEM - Facebook - iFrame Campaign Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5777b8cc23554a9a990bb65ba79c88ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35ff0f5d9bc94188aa67d75b52cb4515",name:"TPT - RU - AEM - Netrox - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd92530a2d36a4786a294545f74e4a210-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f2dbee2f2e246ef8cbbe21fed42fcac",name:"TPT - IE - AEM - Gtag_DC - 1 Series Book a Video Consultation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2019/bmw-1-series-inspire.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC561215306d00439aa5fdfd674afa0ada-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6cc15d114c0f4de995ccad5864519958",name:"TPT - NL - AEM - Dotaki - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc22cbbf4de6f4d3cba61ef657cbd57cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9ad6869404db4d06b2c6f0abbe07ee1f",name:"TPT - DE- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0c64f65bbed2491b89dd9f096e446620-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe9e67c9067ce4ec1ba259a1dd1dfaa55",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfigurator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC39c3d6595e594a6880be174616a1ed3e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL75fe74bfe78d4856a376d24b0d0abc96",name:"TPT - BR - AEM - Inbenta Chatbox - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2af60f1738c44a8295dfec44c28bbaf4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b667c5a8f844c748baa84eaea8d53a9",name:"TPT - RU - AEM - MailRU - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3fa9bac8e2034f16a85b56eb4085f12c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd47b39628ee64a7aa5af673906e86cf2",name:"DCR - All - AEM - AA - DCS PV",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var r=_satellite.getVar("snapshotDL");s.prop27=r.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",r.get("page.pageInfo.pageID")),s.eVar135=r.get("page.pageInfo.sysEnv"),s.prop50="page title",s.prop17=s.prop44=s.eVar71=s.prop54=s.prop11=s.prop7=s.prop8=s.prop6=s.prop55=s.prop51=s.prop24=s.prop21=s.prop52=s.eVar34=s.prop57=s.prop56=s.prop58=s.prop12=s.prop53=s.eVar23=s.eVar24="","undefined"==s.products&&(s.products=""),s.prop1=r.get("page.pageInfo.pageName"),s.prop1.indexOf("sales >")<0&&(s.prop1="sales > "+s.prop1),s.pageName=s.prop1,s.prop4=r.get("page.category.subCategory1"),s.linkTrackVars+="prop4",s.eVar151=r.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),s.eVar152=r.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),s.eVar153=r.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),s.eVar154=r.get("component.-1.attributes.referringComponent"),s.eVar155=r.get("cart.attributes.offerID"),s.eVar156=r.get("page.attributes.checkoutID"),a.update("pageName",s.prop1,!0),s.prop42="vehicle sales platforms",s.prop43="indirect sales",s.prop44=r.get("component.-1.componentInfo.componentID"),s.prop19="digital checkout solution",a.update("pagePrimaryCategory",s.prop19,!0),a.update("componentSubcategory1",s.prop43,!0),a.update("url",s.eVar4,!0),s.eVar14=a.get("url"),a.update("pathName",s.eVar12),s.eVar29=a.get("pathName"),s.prop31=a.get("pagePrimaryCategory"),s.prop33=a.get("pageName"),s.eVar28=a.get("componentSubcategory1");var n=_satellite.getVar("topLevelDomain");"mini.de"!=n&&"mini.fr"!=n&&"mini.be"!=n&&"mini.lu"!=n&&"mini.it"!=n&&"mini-int7.com"!=n||(s.prop13="mini")}catch(e){var o={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS PV"};_satellite.logger.error(e,o)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL4907d968798d4b5681cbee120491a126",name:"TPT - UK - AEM - Klick2Contact - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9daf5a692b734bf4aca8c4d39a77b804-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a20ccaecacf4b26a5765b3500c77b5f",name:"TPT - KR - AEM - AddingBoldStyle - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf6fbb14085e34fb7937888ada9e8cdc2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbadc5cce083c49d0b3f4efdc742ccad4",name:"TPT - SK - AEM - Doubleclick - DBM_Tag_Configurator_Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(s){_satellite.logger.error("TPT - SK - DBM Tag Configurator Steps err \n",s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC221d85e32b8f473496d27f373aad5b4d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22040eb0f9ee4b39a42a618896ad8ac9",name:"TPT - NZ - AEM - ContentSquare - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC216abd9ce1c040aeabe7b60c3db00270-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa88059a0133f4de1af7d720833c05377",name:"TPT - CH - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0cc29f638b5e4adeaae2bcfe9b9f57c7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3bdcaea75e5f46bb9ec88939fa6abcf0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b369401cfe946819a068bade9d53934",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Collect - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_collect"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0a3a7aacb7e8400cbededf5f9648105a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7d6ee2c00a94edda6575674c9f71c60",name:"TPT - AT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd6f525195a5c4cacbf1f9ec0492a06e4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC24639f736d63476187f027aa832865eb-source.min.js",language:"html",isExternal:!0}}]},{id:"RLed2daf9c9f2c466c9de39b443697cbe4",name:"TPT - DE - AEM - GTagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd6c2bdf8fab5473b9f27040885926d97-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c6c4b69060046258f0eb69ac3e0f7a5",name:"TPT - DE - AEM - Criteo Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC877fd3548bdc4002921ee8c517cb1244-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL03ea43b9501f4390a818b895fbe931cc",name:"TPT - SG - AEM - Verizon - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC293da801263e41e288fc3d42f6c18bd8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd4f68ed32c54401ebdf362c6efcf9347",name:"TPT - SG - AEM - Lightning  Bolt - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC76ba68e63a1a48e8a013765d99c6d128-source.min.js",language:"html",isExternal:!0}}]},{id:"RL9701d34f862744aebc1b4c88dbfc174d",name:"TPT - PT - AEM - Doubleclick - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6ddd7ea5ac4a487ba73acc62f60700e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b239e4b05cb4da09766373e461ebbf4",name:"TPT - MY - AEM - Sizmek - History Change - EBR",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2fffd0abfe1144349d9fc98d1ae948da-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c929a486b3c4df590143dd8a72cc28c",name:"TPT - GR - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbc63ad240813410b879305e31582a230-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4d49b278cd6419eb25f1336094f30a0",name:"TPT - SG - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfd9d3bf4d5dc4c12bac8e90ac5652b82-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL32f781aa1bf84f61982ca120689b8e68",name:"TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc13796567311483d8991003c4d83d3cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe86ba4d49e6b4249b97e5ceb0402f330",name:"TPT - UK - AEM - Doubleclick - Multiple - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#action-bar div:nth-child(1) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#custom-dealer-container a.location__detail-website",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"title",value:"Book a service"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("URLNoParam");"www.bmw.co.uk/en/all-models"==t?_satellite.setVar("ruleType","floodlight_price_list_item"):"www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html"==t?_satellite.setVar("ruleType","floodlight_dealer_confirmation"):"www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html"==t&&_satellite.setVar("ruleType","floodlight_find_your_bmw")}catch(e){_satellite.logger.error("TPT FloodLight UK",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCff17b723c8c74e71a9a93612649dce30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLacde954314674411b3582022270f8566",name:"TPT - SG - AEM - Adwords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4b6f54ed409d4251b0d09f31c5b99841-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfdcd227668694673b0824b8378f94e5d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4fee95b7e2554da0ade265737d2e7534",name:"TPT - SK - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5ec6c1a068a24adda41ac482dc7c2489-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL667cc859e9f24ceead69266cf35e7116",name:"TPT - MY - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc109bfba94da4d349fbea954f980c8ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa21c8bcfa7d943299fc1d13c6b61f817",name:"TPT - NL - AEM - IgnitionOne - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5a3accf9865d4e81998c1b04c3c07247-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d5c2cc57ed8403c9a2b3f5c8a5dc5c2",name:"TPT - PT - AEM - Doubleclick - iFrame Form TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa7e820b627d642559eef22d0953c3de1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec5d12f289764ba9913ee558e7576979",name:"TPT - NL - AEM - Gtag AW - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb03837d9ac254bb0948f6c9a2f950ef7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d480cfea8b547fc8243249c8fa89f50",name:"TPT - AT - AEM - Facebook - BMW Prime - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://meinprime.bmw.at"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-prime/prime.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd94307b63cd94a1cb9216690307e5cdf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c5510dab2d242ca98980ae0b35db8ff",name:"TPT - ES - AEM - Twitter - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaa6497e6ace14a3f822b0425c9358aaf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL229253bfa0fd44c69aa6850a0538c05f",name:"TPT - IE - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4125f79b96d2492892ae9b8a0a4723b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3570051983d74c3fb3434797e1c487fa",name:"DCR - ALL - NSC - AA - Need Analyzer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_step"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);var a,r,n,o,c,d=_satellite.getVar("snapshotDL"),l=d.get("event.-1.eventInfo.eventName"),u=(d.get("event.-1.eventInfo.effect"),d.get("event.-1.eventInfo.eventAction")),b=(d.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),""),m="nsc > ";s.linkTrackVars="events,",s.linkTrackEvents="",s.events="",_satellite.getVar("setDefaultVariables",t)(s),_satellite.getVar("setProductString")(s);var f=d.get("event.-1.attributes.relatedComponentID");if(1<d.get("event").length)for(i=0;i<d.get("component").length;i++){var p=i.toString();(d.get("component."+p+".componentInfo.componentID")==f||"datalayer field missing"==f&&"need_analyzer"==d.get("component."+p+".componentInfo.componentName"))&&(r=d.get("component."+p+".componentInfo.componentName",d.get("event.-1.attributes.relatedComponentName",d.get("product.-1.attributes.relatedComponentName"))),a=d.get("component."+p+".componentInfo.componentID",d.get("component."+p+".componentInfo.componentId")),n=d.get("component."+p+".category.subCategory01"),d.get("component."+p+".category.componentType",d.get("component."+p+".componentInfo.componentType")),o=d.get("component."+p+".category.primaryCategory"),c=d.get("component."+p+".componentInfo.componentHeadline"))}else{var g=d.get("page.attributes.relatedComponentID");for(i=0;i<d.get("component").length;i++)p=i.toString(),(d.get("component."+p+".componentInfo.componentID")==g||"datalayer field missing"==g&&"need_analyzer"==d.get("component."+p+".componentInfo.componentName"))&&(r=d.get("component."+p+".componentInfo.componentName",d.get("event.-1.attributes.relatedComponentName",d.get("product.-1.attributes.relatedComponentName"))),a=d.get("component."+p+".componentInfo.componentID",d.get("component."+p+".componentInfo.componentId")),n=d.get("component."+p+".category.subCategory01"),d.get("component."+p+".category.componentType",d.get("component."+p+".componentInfo.componentType")),o=d.get("component."+p+".category.primaryCategory"),c=d.get("component."+p+".componentInfo.componentHeadline"))}s.eVar34=l&&"object"!=typeof l?l:"datalayer field missing",s.eVar34.indexOf(m)<0&&(s.eVar34=m+s.eVar34),"error"==u.toLowerCase()?(s.prop56="error",s.prop53=l,s.eVar34=d.get("event.-1.category.primaryCategory"),s.prop52=d.get("event.-1.eventInfo.cause")):"datalayer field missing"!=u.toLowerCase()&&"datalayer field empty"!=u.toLowerCase()&&(s.prop56="interaction",s.prop53="ux",s.eVar34=s.eVar34+" clicked",s.prop52="default"),"datalayer field missing"!=l.toLowerCase()&&"datalayer field empty"!=l.toLowerCase()?(s.prop55=c||"datalayer field empty",s.prop51=d.get("event.-1.eventInfo.cause")):("error"!=l.toLowerCase()&&(s.prop55=l),-1<["share","error"].indexOf(u.toLowerCase())&&"datalayer field missing"!=l.toLowerCase()&&"datalayer field empty"!=l.toLowerCase()&&(s.prop51=d.get("event.-1.eventInfo.effect"))),-1<["call to action","more information"].indexOf(u.toLowerCase())?s.prop57="internal click":s.prop57=u,s.eVar71=d.get("event.-1.eventInfo.target"),s.eVar151=d.get("page.attributes.pageHeadline"),s.eVar152=d.get("page.attributes.currentQuestion"),s.eVar153=d.get("page.attributes.previousQuestion"),s.eVar154=d.get("page.attributes.previousAnswer"),s.eVar155=d.get("page.attributes.previousWildcards"),s.eVar156=d.get("page.attributes.entryType"),s.eVar157=d.get("page.attributes.matchType"),s.prop19=s.prop3=s.prop54=r||"datalayer field empty",s.prop42="nsc website","internal click"==u.toLowerCase()?s.prop43=o||"datalayer field empty":"need_analyzer_step"==t.identifier?s.prop43=n||"datalayer field empty":s.prop43="teaser",s.prop13="bmw",s.prop1=d.get("page.pageInfo.pageName"),s.prop1.indexOf(m)<0&&(s.prop1=m+s.prop1),s.prop4=d.get("page.category.subCategory01",d.get("event.-1.attributes.relatedPageCategory.primaryCategory")),s.prop44=a||"datalayer field empty",s.eVar134="web",s.prop27=d.get("page.pageInfo.pageID"),s.prop5=d.get("page.category.subCategory02",d.get("event.-1.attributes.relatedPageCategory.primaryPurpose")),s.prop2=d.get("page.category.pageType",d.get("event.-1.attributes.relatedPageCategory.pageType")),s.prop28=d.get("page.attributes.virtualPage"),"virtual"==s.prop28&&(s.prop28="virtual page"),s.eVar135=d.get("page.pageInfo.devEnv"),d.get("event.-1.eventInfo.eventPoints")&&parseInt(d.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(d.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(d.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(d.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+d.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=d.get("event.-1.eventInfo.eventPoints"),s.prop12=d.get("event.-1.eventInfo.timeStamp",d.get("event.-1.eventInfo.timestamp")),s.prop50=d.get("event.-1.eventInfo.element"),s.eVar65=d.get("product.-1.attributes.modelName"),s.eVar17=d.get("user.-1.profileInfo.visitorID"),s.eVar136="2020 - 06- 15 need analyzer",s.linkTrackVars+="prop56,prop53,prop52,prop55,prop51,prop57,eVar71,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136",b="event917,event918";var v=d.get("page.pageInfo.pageName"),h=d.get("page.pageInfo.pageTitle");"Need Analyzer: Start Page"==v||h+": "+v=="Need Analyzer: Start Page"?(b+=",event321,event322",s.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"):"Need Analyzer: My Perfect Match"!=v&&h+": "+v!="Need Analyzer: My Perfect Match"||(b+=",event323",s.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"),"start again"==l.toLowerCase()&&"start again"==u.toLowerCase()&&(b+=",event321,event322"),"share"==u.toLowerCase()&&(b+=",event905,event906"),"error"==u.toLowerCase()&&(b="event931,event932"),"datalayer field missing"!=l.toLowerCase()&&"datalayer field empty"!=l.toLowerCase()&&(s.eVar34.indexOf("nsc >")<0&&(s.eVar34="nsc > "+s.eVar34),s.linkTrackVars+=",eVar34"),s.events=s.apl(s.events,b),s.linkTrackEvents=s.apl(s.linkTrackEvents,b),_satellite.getVar("smartPreviousValueManager").update("pageName",s.prop1)}catch(e){var P={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,P)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",
settings:{discardSnapshot:null}}]},{id:"RL38a125735659417f9469b60236019bda",name:"TPT - GR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3158e3bfb2394d9490f76c869fd7eb84-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9ce8bf3607ee4cc4a9c80931cdac7ee0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60ffaecd60d9425b878b506b3b03a34a",name:"TPT - BR - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC32ad15010fcd43aabd3a5f3d5f2f741d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e5b88e98c374a129ef939381397b236",name:"TPT - IT - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC170cae9701b9470db60cda21bc49020c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLecd2a69acbbb460a9119bd5a5da21e3a",name:"TPT - SE - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.se/sv/ssl/sok-aterforsaljare-serviceverkstad.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-hoest-vinter-tillbehoer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbc5c9b25cb5847a4bf66ca3bd2a99503-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41a2cada618b4dec9824421dc820167c",name:"TPT - DE - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5cd0c78550984ac69757dac4a135a7d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad880a72f80447dfbfe26a06114e8914",name:"TPT - RO - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCea7a81049cd049eb9c31b828e0aa3309-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba260c478e9340ddaac8a06d9924bc0c",name:"TPT - RU - AEM - DoubleClick - Need Analyzer Extended - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa055ae93a0ff42869a6d9debb5cf2a85-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb2ea77aca4a45a988b5ec55307adc35",name:"TPT - CZ - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0f2a6478c52f4b27a3536215b6175ab4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5740426c064e49b287f6a7d642d5332d",name:"TPT - SI - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2979145e52c34fac973c4917935f2c24-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL55ef5e2065bd414488e1d3fa04b3f91b",name:"TPT - JP - AEM - Line - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0092f4a33cbe405892601dc78f9b72dc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a5732ab3d384c6bb439ca8e8fc710b9",name:"TPT - AU - AEM - GTagDC - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC637653fcd9894fa8a43a228f5de20802-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL03f5aab494c1406793b3e908647646b4",name:"TPT - AT - AEM - Salesbar - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0},{value:"p152.bmw.com",valueIsRegex:!0},{value:"m152.bmw-int3.com",valueIsRegex:!0},{value:"m152.bmw-int1.com",valueIsRegex:!0},{value:"m152.bmw-int9.com",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc15e29f83cc645409bb9776453c0fb24-source.min.js",language:"html",isExternal:!0}}]},{id:"RL1e449d9a280e4e9a9906390b02724167",name:"TPT - DE- AEM - Adform - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC177a13ea1e97424a9cfedfc9c8493d1b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL929c063aa40c4dfeb0f17cbc1dcfaec6",name:"TPT - NL - AEM - Adwords - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC39056e6ed5c147659209af6de76da8a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc607cca755f843c68325d9db945c3fe4",name:"TPT - SE - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe2b4e0543c1f4895ac108374d0a4a6e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd52d8008872c4268a661753bcefbadab",name:"TPT - IT - AEM - GTagDC - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaeb3c939d9b54757ae581e90e4cc94f3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73fc9ed6c3e04229862521cf824f27ef",name:"TPT - AT - AEM - Doubleclick - Test Drive Appoinment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:".siloIntendedContent , h2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(-1<window.location.pathname.indexOf("test-drive-appointment.html"))return!0}catch(e){_satellite.logger.error("TPT - AT Custom condition floodlight - retriggering",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4ffd6900f49e487d85ecb19490075ac8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38f6ce72c1be45bbae4595236fea399d",name:"TPT - AU - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC28921245e34149c09a98d83489c079c9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL321f19f633da4ec8830b7a94df8129c0",name:"TPT - BG - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8d9bda54351649c289fef90a17675419-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41dc8d02ce05480f805f4e5187484a5f",name:"TPT - ES - AEM - Global chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/prueba",valueIsRegex:!1},{value:"/es/ssl/oferta",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/F40-KMI.html",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/RFC.html",valueIsRegex:!1},{value:"/es/informacion/promociones/ofertas",valueIsRegex:!1},{value:"/es/ssl/formulario",valueIsRegex:!1},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!1},{value:"/es/informacion/financia/financia"},{value:"/es/informacion/financia/faqs"},{value:"/es/informacion/financia/bmwfinancialservices.html"},{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!0},{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/informacion/financia/calculadora-financiera.html",valueIsRegex:!0},{value:"/es/coches-bmw/serie-2/gran-coupe/2019/",valueIsRegex:!0},{value:"/es/campanas/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb4c6f1b5cc8e41c9943771e4e85aac76-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL292a7c4162344998ba76ad43fad852fe",name:"TPT - ZA - AEM - Adform - All Models Buy Now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2a9d6bff9c954a5d875882c42e7b2815-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf44a4da418ad4863bcbe081746692961",name:"TPT - CH - AEM - DoubleClick - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3c716743dc8f4c22a49fc103a337002f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab36f71968984c35ae2a67b36b50ac35",name:"TPT - UK - AEM - GTagDC - Download App Button Click - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//b.mw/mybmwapp",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/owners/bmw-apps/my-bmw-app-overview.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf2fa1e6907f14326be36b4859172bd06-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL293620a9d612423faad0682ed9f42920",name:"TPT - IT - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc878168114e84020b8f21f10bad1e951-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0257886574cc47a78e94851d0feb4d61-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9092290e2464e2787d1535305b8075a",name:"TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC47deb4879fdb4039ba38afc9c6d9e5d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a8cb72a27864a60980252a02e4bf7fc",name:"TPT - ES - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb13b19f83f594e52b92e428ee15ac600-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL75c4fa35618b4b6aad863a654c595723",name:"TPT - NL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC395625f474cd44638fa88bd27c69b32c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL475b4f1014364a4aa44e2e045a75beea",name:"TPT - NL - AEM - Adwords - Dealer Search Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.button-blue",elementProperties:[{name:"title",value:"Zoeken"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC07748d95de5e4ee19fa61a3a70bae15f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb679b676eeab41a4ae5bd8b484c9ce00",name:"TPT - AU - AEM - MathTag - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd780cc0d067649f1bbcb157f24822a0c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01bab7bef765453ba73d7f4392ba425e",name:"TPT - GR - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC025287e6cf29407a99242a6ff57e2f9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL28b6632417fe4facae085990c350e927",name:"DCR - All - NSC - AA - Dealer Locator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_integrated"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_switch_map"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r="nsc > ",n=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));_satellite.getVar("setDefaultVariables",t)(s);var o,c,d,l,u,b,m,f,p,g,v,h,P,C,j=a.get("product.-1.attributes.mmdr"),R=_satellite.getVar("setDefaultProductVariables");R.id=a.get("product.-1.attributes.mmdr"),R.category="vehicle",R.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),R.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),R.merchEvars.eVar10=j,R.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),s.products=R.toString();var y=a.get("event.-1.attributes.relatedComponentID");for(i=0;i<a.get("component").length;i++){var w=i.toString();a.get("component."+w+".componentInfo.componentID")!=y&&a.get("component."+w+".componentInfo.componentId")!=y||(_satellite.logger.log("related component - "+w),c=a.get("component."+w+".componentInfo.componentName",a.get("event.-1.attributes.relatedComponentName",a.get("product.-1.attributes.relatedComponentName"))),o=a.get("component."+w+".componentInfo.componentID",a.get("component."+w+".componentInfo.componentId")),a.get("component."+w+".category.subCategory01"),d=a.get("component."+w+".category.componentType",a.get("component."+w+".componentInfo.componentType")),l=a.get("component."+w+".attributes.errorMessage"),u=a.get("component."+w+".attributes.errorID"),b=a.get("component."+w+".attributes.onsiteSearchBrand",a.get("component."+w+".attributes.onSiteSearchBrand")),m=a.get("component."+w+".attributes.onsiteSearchTerm",a.get("component."+w+".attributes.onSiteSearchTerm")),f=a.get("component."+w+".attributes.onsiteSearchResults"),p=a.get("component."+w+".attributes.onsiteSearchResultsFilters"),g=a.get("component."+w+".attributes.onsiteSearchResultsType"),v=a.get("component."+w+".attributes.distanceFromDealer"),C=a.get("component."+w+".attributes.dealerName"),h=a.get("component."+w+".attributes.outletID"),P=a.get("component."+w+".attributes.dealerID"),variant=a.get("component."+w+".attributes.variant"))}var E,I=a.get("event.-1.eventInfo.eventName"),_=a.get("event.-1.eventInfo.effect"),T=a.get("event.-1.category.subCategory01");if("home dealer locator teaser impression"==I||"home dealer locator teaser click"==I)s.eVar34="home dealer locator teaser click"==I?r+_:r+I,s.eVar136="2020 - 06 - 15  dealer locator teaser",s.prop43="teaser",s.prop51="home dealer locator teaser click"==I?I:_,s.prop55=T;else{var A,k="",x=_satellite.getVar("searchDefaultProduct"),O="DLO Errors"==I?"datalayer field empty":"user selected";x=_satellite.getVar("searchDefaultProduct"),"datalayer field missing"==b&&"datalayer field empty"==b||(A="search;search;;;;"+x+"eVar30=datalayer field missing|eVar31="+O+"|eVar32=brand|eVar33="+b,k=s.apl(k,A)),"datalayer field missing"==p&&"datalayer field empty"==p||"string"==typeof p&&-1<p.indexOf(",")&&(A="search;search;;;;"+x+"eVar30=datalayer field missing|eVar31="+O+"|eVar32="+(p=p.replace(/"/g,"")).replace(/,/g,"~")+"|eVar33="+m.replace(/,/g,"~"),k=s.apl(k,A)),""!=k&&(_satellite.logger.log("dlo search - inside s.Products",k),s.products=s.apl(s.products,k)),s.eVar34="DLO Errors"==I?r+l:r+_,s.eVar40=h,s.eVar41=C,s.eVar42=P,s.eVar136="2020 - 06 - 15 Dealer Locator",s.prop43="search",s.prop50=T,s.prop51=v,s.prop55="DLO Errors"==I?u:f}s.prop1=s.pageName=-1==n.indexOf("nsc >")?"nsc > "+n:n,s.prop3=c,s.prop19=c,s.prop53="dealer",s.prop57=g,s.prop24=f,s.prop41=d,s.prop42="nsc website",s.prop44=o,s.eVar175=variant,s.prop27=a.get("page.pageInfo.pageID"),s.prop4=a.get("page.category.subCategory01"),s.prop5=a.get("page.category.subCategory02"),s.prop2=a.get("page.category.pageType"),s.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop52=a.get("event.-1.eventInfo.cause"),s.prop54=a.get("event.-1.category.primaryCategory"),s.eVar71=a.get("event.-1.eventInfo.target"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),"DLO Errors"==I?(s.prop56="error",s.prop53="backend 3rd party"):(s.prop56=1==("Select Dealer"==I||"Dealer Interaction"==I||"home dealer locator teaser impression"==I)?"interaction":"search",s.prop53=1==("Select Dealer"==I||"Dealer Interaction"==I||"home dealer locator teaser impression"==I)?"ux":"dealer"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar31,prop57,prop22,eVar17,prop58,prop52,prop54,eVar71,prop1,prop2,prop4,prop5,prop27,eVar175,prop41,pageName,products,eVar34,eVar40,eVar41,eVar42,eVar136,prop19,prop24,prop42,prop43,prop50,prop51,prop53,prop56,prop55");var S={"DLO Errors":"event931,event932","Brand Selection":"event917,event918","DLO Start":"event271,event272","Select Dealer":"event277,event278,event917,event918","Select Preferred Dealer":"event285,event286,event917,event918","Delete Preferred Dealer":"event917,event918","Dealer Interaction":"event917,event918","home dealer locator teaser impression":"event925,event926","home dealer locator teaser click":"event907,event908,event917,event918","find dealer":"event271,event272,event275,event276","visit dealer":"event277,event288"};E=s.apl(E,S[I]),E=s.apl(E,S[_]),"DLO Search"==I&&(-1<(p=p.toString()).indexOf("Location")?E=s.apl(E,"event273,event274"):-1<p.indexOf("Dealer")&&(E=s.apl(E,"event275,event276"))),"Dealer Interaction"==I&&("Contact Information Show"==_||-1<_.indexOf("@")||-1<_.indexOf("http")?E=s.apl(E,"event279, event280"):"Plan Route"==_?E=s.apl(E,"event281,event282"):"DLO Online appointment"==_&&(E=s.apl(E,"event283,event284"))),s.events=E,s.linkTrackEvents=s.apl(s.linkTrackEvents,E)}catch(e){var L={from:"Analytics",type:"Rule",name:"DCR - All - NSC - All - AA - DLO"};_satellite.logger.error(e,L)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DLO",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL8a36c255df2e43bbac1a061d9ecc1472",name:"TPT - SG - AEM - Adform - Price list Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".is-sticky.ds2-sticky-sales-bar--uxn.is-visible > ul > li:nth-child(3) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC89258a2265ee48a99ae163973bae1c37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL37c6e47a08c146df974c7d3e80a412f4",name:"TPT - DE - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2e78b332e2cd42bdb5fcee7032dc28b1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf60465c5e85143c4a26c489d21de0b9a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaef0a2f84c6d43d7b094504834c997be",name:"TPT - UK - AEM - Xandr - Explore The Range - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/all-models/m-models.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3c31c5aa1b204ea3be60c6811919ad9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20bba61da86d4ba880d4a23b679fef3f",name:"TPT - TH - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC23287a3f2754445da32a626978a5f3db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a7c655750e9417cbcab5df3b65d6198",name:"TPT - AT - AEM - Facebook - Used Car Btn - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-boerse.at/"].ds2-quickactions-link-js.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdb17582598d4416587b50540bdf9d692-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfcd1baa904ef4342b549718ad277b635",name:"TPT - ZA - AEM - Adform - Buy Now Btn - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},
ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/topics/fascination-bmw/buy-bmw.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcf1575e1a9334f55ad3efbc4b60b1814-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff029a39b62f4149a1bd414e000e08a8",name:"TPT - ES - AEM - Ignition One - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"ES"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/campanas/plan-moves-2020.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe3c25a8d70204197aaffec3e887a4afc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41df7cdeeb754f97b9cdee5722db115d",name:"PLR - IT - hashedemailid - AAM",events:[{modulePath:"core/src/lib/events/change.js",settings:{elementSelector:"#email",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(""!=_satellite.getVar("AAM-emailid")&&_satellite.getVar("AAM-emailid")!=undefined&&null!=_satellite.getVar("AAM-emailid"))return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8bd97d51ec9e4c90a91c896093fb986b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74c72b20255a405899e47b45ac926394",name:"TPT - AT - AEM - DoubleClick - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb0a95cebbe84476bb3612ec6a0220853-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5cceaacefe9e43089ae96d92aeec27a9",name:"TPT - NL - AEM - Bing - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC86a5a5b13f4648b59bb94c3c288447d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL319cf05d4a0c4346b806ce8e3ab48f99",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbf7cffd746c94f088c107df082d24fba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60c84bd2add249a3a32f0997c012cd90",name:"TPT - CA - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Usabilla_vs_IgnitionOne%",rightOperand:"IgnitionOne"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC12b08231568f4714a01f0f2771d7edb6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79176078ee5b4709bd33e6184eacc133",name:"TPT - BR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0599cd003b12493b899f2d6671cd5c56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b928f35335c4f98ba1d8d0b1166917d",name:"TPT - NO - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb1d7d799a3f04731b4e368e50755f963-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a9ceecbf52b4a80944872ca50d0abba",name:"TPT - TH - AEM - GtagAW - RFO Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7a6c4938e3c34dd4991888d4e0329f6d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL89a4c106aed645bca62a56574a89e014",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6a080736e3944cfdaf707237eefae361-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e0d553911aa4cf2abffc36d3c74fa07",name:"TPT - JP - AEM - Adform - iFrame RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe315866baa474e9394e7c068217fefc4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a871398923e4f1d85160c15663d0b88",name:"TPT - FR - AEM - Sizmek - 2019-02-BMW-FilRougeConsideration-Visite1Min-Arrivee-AllModels - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC829283884c8f42549b0eae3483a57956-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bedbed9138247c481c7ee125ea8d662",name:" TPT - IE - AEM - Gtag_DC - PHEV Enquire Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/retailer-enquiry.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2724bb8f656d4e99928e7355eb426258-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd42765f7d10e4c969f5ad9924ac76a51",name:"TPT - UK - AEM - Adwords - Form Submit - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0e0dbf325f4345b6a9654ab191b149c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7abebf24cb8b445584e2cfb9a0e633eb",name:"TPT - ID - AEM - Yellow Messenger Chat - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC128a606d6ddc482b8514c99a7494f14b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL56190438797a4789886ed11c21b9dbf9",name:"TPT - NL - AEM - Facebook - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCad236b8d35f64edeaf58e360eb2c7091-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe96620dba36142d09995726efe6cda0f",name:"TPT - SI - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe1be1fc738f44bbab18ed5dacd1f13eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbe17390dd17439d81d0a76ab8b29085",name:"TPT - NO - AEM - Adform - Dealership Selected - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC56d2abafafcb4862a5ba8016b08b2326-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc0017f94f1d466799ffb6b8e673af92",name:"TPT - AT - AEM - Facebook - Zum ConnectedDrive Store - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.ds2-accessibility > a[href="https://www.bmw-connecteddrive.at/app/index.html#/portal/store"].button.standard.expand.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb60042d1e1314290a607fd10d5cc0298-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35fe0f6a2b9247409b217edcc225d5e1",name:"TPT - BE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3cfd8adee9674c4b8c8cd887fb6b08bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9334ebf908e241d5a1fefa2de8b9b45e",name:"TPT - FI - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC954377bc150b43e8a2ddef49b44ae39b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb397931a16df4b1db2f67d57a9cd69b7",name:"TPT - IT - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9636ab72162049cea8cf4bd4b8707224-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0d02be2a730f468ab001cb9931302af1",name:"TPT - IT - AEM - Usabilla - Adhoc Survey - Stock Locator - RFO Form Finish",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc30039883a234a469c2cd91f937fe348-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea93e6e8c4fd4b7ea241ea02f8e1ba67",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Address - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_address"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCea2b134603854634878f3e565649c200-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23aa8b39b06248d98e68147bb20c2686",name:"TPT - FI - AEM - Doubleclick - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC83c1e2f542f5423eb2514920c4c897b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0379237703f47479c40d5943ffa51f8",name:"TPT - ES - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC56e1c036ef254abe98be681ff9a4c860-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6be444c276e1415b8ca4ef6c82837d2d",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1b085d1a4c45464ba5ec4935874223e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdb63d7c200c74d208456b8b3ae5204ac",name:"TPT - FR - AEM - DLO Search Function - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4c5b679adb4e40448492610f0cf77be2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5df73da3b2284ab8b587fa0ab5f7104f",name:"TPT - ES - AEM - Inlab - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC846c616bdadd4d62a8f24ec74a46b276-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe07c489a7fef4216ac837664616eda43",name:"TPT - ES - AEM - AdWords - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe1ed820116054a81bf9eb94eccd89bc5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8f48273ce36a4374af3de75513624b13",name:"TPT - IE - AEM - Gtag_DC - Get A Quote Click - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/discover-get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1cc464b200f545ddbcc72e586ac8ff61-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53712918689341f898458de65309c309",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS General - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_general"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC496aada38d4b48ae96a6cc0817bc633e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL544aa7efcbaf4ef88da6aa4301ecc022",name:"TPT - HU - AEM - Doubleclick - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3c33f6d216e444b0ac5094c0e3fa4d0c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5354f7aa99964f9da6abee17d1b81740",name:"TPT - SK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6c2fde1e99074eef9098676a5f981dc8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa201c4289df443288a7cf9068921499b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3cc58e3aaec41568c32b1e4f99b7baf",name:"TPT - DE - AEM - GTagDC - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc41bf24b80b347a586b0ad95c86fda50-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL69b9f2c3b2cd4aa4b5cd7982b8799c32",name:"TPT - NL - AEM - Gtag DC/AW - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe60fce1e39484ba48009fd37ba6b51d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLffa2ec754eee421f9cc882fe58ba2aeb",name:"TPT - DE - AEM - Active Agent/Adition (AD) pixel - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+\\.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC375ac64645a344aa89011e2d3e36f84f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea930a56da7841b291370877eb4b28b2",name:"TPT - AT - AEM - Doubleclick - GCDM Forms - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#brochure-submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCffab0d59713840ecabfda0bfe690e25a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1bc5268943654136ba1d418719728474",name:"TPT - GR - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd4e4bf4d138f4565898e3f5dfcecad57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2ef2cd63c94e427ca872f5dd15b2a73b",name:"TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5a38d2cd6e8c4e5899485a65378dbfec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1dbd57bf8c6a44b985bce906c3406767",name:"TPT - NL - AEM - Gtag DC/AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC89cb0a4b235a490dbc07d3b7cd93db30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL806e4fb66e7c4ec9bb15c727125cc9f1",name:"TPT - IE - AEM - Adwords - Enquire Now Submit Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary",elementProperties:[{name:"id",value:"bmw_send_form"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ssl/discover-enquire-now.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcb4b69598e8a4180af02d8f21370acc6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ea346728db549e59b76d2e48d167a58",name:"TPT - AR - AEM - Adwords - Correo Servicios Financieros - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"contacto@bmwfs.com.ar",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/topics/fascination-bmw/bmw-financial-services.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC83b1c1162ddd4cb79bb0f7ca7cc04060-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b504b5657ca491bab89f888009243a2",name:"W - All - AEM - AA - Ignition One",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'#_i1_container div[data-group-parent="MCTA"] input[type="radio"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC40ef2fdd5d39401ca818c815b01133bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL08ef79e8722c46cdbb6a3948f80683e7",name:"TPT - NL - AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8f8b1fc2939c4461860d90b3a17c5ad7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL566a35b845f941dd86d201f9b691cc68",name:"TPT - AU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("TPT: Search Tag ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf42ed27d6106432ba4dd601a197b91fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e2adff566d74f439ce43b62e6646e30",name:"TPT - IT - AEM - Adwords - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".login-box__button-text.login-box__submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfeb9421d72d7490cb101e72cae6789b9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC40f654b81a7b449585b5dfff479b2dd2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc976b7b6ad9e4794a79306a0f07a2edf",
name:"TPT - AT - AEM - Facebook - Make an appointment online - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa26b89dcd40247ef9be2afd260fd5c64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6c6a4a46f848471fbecf4116327bd2b8",name:"TPT - RU - AEM - Facebook - Agile Need Analyzer - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"INPUT",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0bfa7d3df0fc4250860bd9dce502d136-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcefdea9910a743a0a52147235b738a39",name:"TPT - BE - AEM - DoubleClick - Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6d041e0502ff4e1ca290bc1e4f89d33a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9de8146a20374302b9077dfb0ce9865f",name:"TPT - NZ - AEM - Facebook - 2 Series Register Interest - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Register your interest']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7227318616ea4418878579df6a9919c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL663ba7f57d5c42b8a43ebc2c093b072e",name:"TPT - NZ - AEM - ContentSquare - Simulated Page - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5847384854ba4386b74ee4cfe6981882-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41054d1a12c94cb7b728df474fb5675d",name:"TPT - DE - AEM - Outbrain - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC403a1767fa774ba7946cd8b875100ea1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLed77c7e5a51546d69b376ee2013f97be",name:"TPT - AT - AEM - Facebook - 141g CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/corporate-direct-sales/modelle-141g.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3b448072ddc8456e9380ae05a628446b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbea612a55b2c4f1e84e308f883b8550b",name:"TPT - IT - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC459472e346644361a70c8d73665670a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8126ed7f59f440389efcaf9dd2bdbc3e",name:"TPT - PL - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe5c76bb7353548cda08e2d22a76e77da-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8b62e286cf97417aa8df73a486a9a641",name:"TPT - BG - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6da08b3a545e4c5b85d0844c3a145635-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bda1637bdf94cc18d9860e0bdf9388f",name:"PLR - All - AEM - AA - 3rd Party Event Listener",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(s){try{document.addEventListener("tracking: fs offer widget",function(e){e.detail&&(_satellite.setVar("StockLocatorEvent",e.detail),s())}),window.addEventListener("message",function(e){if("undefined"!=typeof e.data&&-1<e.data.toString().indexOf("tracking:recall-search")){var t=JSON.parse(e.data);"tracking:recall-search"==t.methodName&&(_satellite.setVar("StockLocatorEvent",t.detail),s())}})}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("StockLocatorEvent");s.prop44=a.component[0].componentInfo.componentID,s.prop19=a.component[0].componentInfo.componentName,s.prop41=a.component[0].category.componentType,s.prop42=a.component[0].category.primaryCategory,s.prop43=a.component[0].category.subCategory1,s.prop56=a.event[0].eventInfo.eventName,s.prop57=a.event[0].eventInfo.eventAction,s.prop58=a.event[0].eventInfo.eventPoints,s.prop53=a.event[0].eventInfo.type,s.prop12=a.event[0].eventInfo.timeStamp,s.prop52=a.event[0].eventInfo.cause,s.eVar34=a.event[0].eventInfo.effect;var r=_satellite.getVar("setDefaultProductVariables");"undefined"!=typeof a.custom.product&&(r.id=a.custom.product[0].productInfo.productID,r.category=a.custom.product[0].category.productType,r.merchEvars.eVar53=a.custom.product[0].category.primaryCategory,r.merchEvars.eVar54=a.custom.product[0].category.subCategory1,r.merchEvars.eVar52=a.custom.product[0].productInfo.productName,s.products+=","+r.toString()),s.linkTrackVars+="prop41,prop42,prop43,prop19,prop44,prop56,prop57,prop58,prop12,prop52,eVar34,products"}catch(e){var n={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,n)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"3rd party component (3CT)",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe12c29d220ef4c2384dfaa31b06f5dbe",name:"TPT - RO - AEM - DoubleClick - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8ce89a3a152b4047ac38a20f4a70e814-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c1953ed33ef4b219bcb1fbbb9841ae6",name:" TPT - IE - AEM - Gtag_DC - PHEV Dealer Locator Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe8b1a67c2d3a4c77bfbe8504cb722487-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdee033b88e3d44a8bc41500428d7bb75",name:"TPT - BG - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"BG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC21f146927209466aa7d81d8cfdb50eae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdafe7d15d0964f43850df37ed7edf88f",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6139eb4906874319a63fc3d8a48441f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ff09a59b05241e48623c5b6075b9ac6",name:"TPT - AT - AEM - Doubleclick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC76713200b329421999e8b75ab4df7e94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfcfe6ce3f398443f92656e409f196c8e",name:"TPT - PL - AEM - DoubleClick - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC94bcbb2355ee44f49e91bba537f76eee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fae94f2aa134eb4b83b800acccb6c63",name:"TPT - ZA - AEM - VeInteractive - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2015/start.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5329d1fcbfd844a1825fab50fc78739c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83718babd66d4ba283817cdaed9752bf",name:"TPT - FI - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/tarjoukset/kampanjat.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb7b7aacfdb3147fbb382e921126bc957-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6343d9c1be4141689a6a68d3243da664",name:"TPT - NL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC977d11e33a20407f9cb415bb4a38af57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82421849827143d18e262599819bae91",name:"TPT - PL - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfb18ce57b9534015bf85c1e5719752d2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b84fa31eca34bdda1a9444dfe926fbe",name:"TPT - HU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa84367aa83fb4b15a1cbb900ba48050a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9fdf3d8d6b94178ba18592f04789177",name:"TPT - BE - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0b38fb991e35435eaca11ad8f48ed1bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7422cdce4e94d5c9081bec6ad04f69e",name:"TPT - NL - AEM - Inbenta Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/nl/shop/voorraad-nieuw/checkout/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6bc7b4a621864a64a9bed0e4919004ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL361cafd11021451b8531c345ac24bcb9",name:"TPT - MY - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc51a26905f33440b8df5f2a169238565-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a1a1372d70c42eda89b419df4d752bf",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC09c2ec245d374986b8bb14812c49b920-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a5c53bbb6584dbc80eb87fdc156ff56",name:"TPT - AT - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5347c073d3c94c27ab489898c9b18a30-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa0d9ee60b08940339e3f2cde036cbbf6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa03ccdd415fc442c8c60c5d00584b5a3",name:"TPT - AR - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC573367ddc2394425affd0c114797abca-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC14b90ba7ffb4409496395f232ddd9de3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL118caaa3222747229170fb246cb16fcc",name:"TPT - IT - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcd172d3a241e42f5a934922d5374836b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL349e04a8560c4a74abcdc6bcc69f3377",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8bd762ac7cc84dfaa5098b4911e8ce6e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a7bec3d389c4330b687848eed53bb3d",name:"PLR - ALL - NSC - AA - localform2.0 eventlistener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking-localform') > -1){\n        _satellite.logger.log(\"Localform: message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking-localform\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('localform', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"localform2.0 eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"localform2.0 eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RLb954a64a470e4d61b1167935cfdba021",name:"TPT - FR - AEM - Sizmek - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8bf1a8bfce96443a849dc87bd04fcf11-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC72c8f3a085724953a0842935a4945f2e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbc3d4e474f484fd7be61e5b3593153cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2bef26d02c1c4bc38792937ecc74c2e8",name:"EBR - CA - iFrame - AA - ACS Page Load",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(a){try{window.addEventListener("message",function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var s=JSON.parse(t.data);s.detail&&s.detail.custom&&Object.keys(s.detail.custom)&&!Object.keys(s.detail.custom).length&&(_satellite.setVar("acs_event_data",s),a())}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}else _satellite.logger.log("no data in event object",t)})}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("acs_event_data").detail,r=a.event.length?a.event[a.event.length-1].eventInfo.eventAction:"datalayer field empty",n=a.event.length?a.event[a.event.length-1].eventInfo.eventName:"datalayer field empty",o=a.event.length?a.event[a.event.length-1].eventInfo.eventPoints:"datalayer field empty",i=a.event.length?a.event[a.event.length-1].eventInfo.type:"datalayer field empty",c=a.event.length?a.event[a.event.length-1].eventInfo.timeStamp:"datalayer field empty",d=a.event.length?a.event[a.event.length-1].eventInfo.cause:"datalayer field empty",l=a.event.length?a.event[a.event.length-1].eventInfo.effect:"datalayer field empty",u=a.component.length?a.component[a.component.length-1].componentInfo.componentID:"datalayer field empty",b=a.component.length?a.component[a.component.length-1].componentInfo.componentName:"datalayer field empty",m=a.component.length?a.component[a.component.length-1].category.componentType:"datalayer field empty",f=a.component.length?a.component[a.component.length-1].category.primaryCategory:"datalayer field empty",p=a.component.length?a.component[a.component.length-1].category.subCategory1:"datalayer field empty";a.component.length&&a.component[a.component.length-1].category.subCategory2,s.prop44=u,s.prop19=b,s.prop41=m,s.prop42=f,s.prop43=p,s.prop56=n,s.prop57=r,(o="na"==o?"datalayer field empty":o)&&parseInt(o)&&!isNaN(parseInt(o))?(6e4<parseInt(o)?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(o)<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+o,",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=o,s.prop53=i,s.prop12=c,s.prop52=d,s.eVar34=l}catch(e){_satellite.logger.error("Error in EBR - CA - iFrame - AA - ACS Page Load: ",e)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe3a16bc711b34bb09121c9ba84d00708",name:"TPT - RU - AEM - Calltouch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2d71ab1f592e4478b3775c24e82bfaf6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9a0fdb6c3a3649d282033c3b4ce0854c",name:"TPT - IT - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{
subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC00e5009956d84f1a846de67638fa96c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL035ffcceed644199ba8149582e65f574",name:"TPT - IE - AEM - Gtag_DC - PHEV Get a Quote Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8d3a0af97ef14358978baf4a111a91bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8f54d79d5e3a4798a8ee2f71af776e0a",name:"TPT - UK - AEM - GTagDC -iFrame Forms Oli FS Payment - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_payment"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9def8e0eed66427eb7199c832112ceca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2903341b5c548309a6d66ee5f89dacc",name:"TPT - ZA - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC24d44d99063646f985e709775444925c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06386db2d870400cb4cb65bbf4cd3757",name:"TPT - GR - AEM - Doubleclick - History change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5a8401b6b05742a6b37b8ee4132078d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73b017cd33c04daf919b3f1cddaf609a",name:"TPT - RO - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5bf2d243efff4a49aeb9f3954176ddfa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb7e1e3c4af6c4bd0af68cccc5f4366d7",name:"TPT - DK - AEM - Hotjar - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0bc61e19b49243a184b30410b9a61338-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24ddf5a55a2c43d5b50ecfca18745166",name:"TPT - NO - AEM - Adform - DLO State Standalone - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7cca20f7a7c94790866f0eb6b6ffdae2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5cf668b1f324b1797fba4a750e238eb",name:"TPT - IE - AEM - Gtag_DC - 5 Series Dealer Locator Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfa03df8746604ec7bba9486e92812371-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2c41b2bca45450b9a684a935efc21ad",name:"TPT - AT - AEM - Facebook - EV CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/electromobility2020/elektroautos.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC126decccd0954e608822f68bc8aaad64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL850e4d4a91a8479bbca8bcb6009b2e10",name:"TPT - PT - AEM - Adwords - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC85f288e3b85e459e9e90934d0930edbc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL29926ec4088b4340920c78ae61459a13",name:"TPT - JP - AEM - Facebook - All Pages - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd9dbef1262f34d87973d7f4071219df9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL84aa59b9630843d381127d4a62c94c37",name:"TPT - PL - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC61de333c381b491f955beda238f548de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf1d42cc33a541dca820c3ac83eeb285",name:"TPT - IE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCed2949136e3541d4bcff5f68d0ded0b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdfe4508cfe2b4c20b64c405fcba6c8a7",name:"TPT - MX - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC369e28effd894694b700cf92480212b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a741e0e83b147a7b505fe02aa061e58",name:"TPT - TH - AEM - GtagAW - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC741b6a153efd44bf9bc53b531e5f0a9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b929a391bfa4e6191aeab46087f0f5b",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0c7ec36fa4334ca3881a704ecb7bc423-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61f2cc16aff84c4db71ee173b60776f6",name:"TPT - AT - AEM - Facebook - Catalog Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/brochures\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC813fd9841d6f413587dd6d5f1132e18a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2087219fdc0544cca8bc7ced851d98a0",name:"TPT - ZA - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCce9cf8b63b644ec39cbc15f09fb3bdcc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa06fbc8f606e41faa8050de09b227f20",name:"TPT - NO - AEM - Adform - Configurator Section Change - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/ssl/configurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6da7b255f29443e49c5f3c9df4128dba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL68c0ed93ac3b4ab2b37e43798e39a8f3",name:"TPT - IE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaa8993aa4c7448b491bc0857c12b741c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL118c804862574de1baaedb1e436b89bf",name:"TPT - RO - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeef5793d253a4218aeef8c84d88a39cc-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfb6fcb3b49c7493aa9593e8413ec6296-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9136093f3d947a0a2efa74b49bdd0d9",name:"TPT - DK - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"(/DK/da/BMWI|/DK/da/BMW_BMWM)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC96b0c42589bc44a5a2ac63ca429f59a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb30a591d6f6445b8fc3b83a1f92ac74",name:"TPT - CH - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa8594f95e4824ce2864a1f781e4a3e05-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC91412bc7341a470a95d88cf56e901108-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb504689705ae4b25ab2b2cfa32844c4c",name:"TPT - NL - AEM - GTagDC - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC88266117a1904a5c8dd135e12b9b5168-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL100c7ce905c9434194f80375532a4df3",name:"TPT - DE - AEM - ContentSquare - Popup Save configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popup_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9672865ff196409b8b951a5ca8304e92-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf92d4de65df489394cf587534756e90",name:"TPT - IE - AEM - Gtag_DC - Build Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en_IE/configure/G30",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3da2a3173b914db79c20ce6490cb2955-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe24188cc7e7a4f5696be4dd1792b0cb0",name:"TPT - RO - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC68fae038d6f54988a26100573f923419-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e469ee2dbaa430c90ba4a5f2e2eb53c",name:"TPT - AT - AEM - Facebook - BMW Card CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.bmwcard.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/bmw-card.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa230738b82d94ee29cb5e288088bf96c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe43c2857460a42098ed7ea7124621c2b",name:"TPT - LU - AEM - DoubleClick - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC893a3faed66c43c8a1bb447f209fc7e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf850e54fc93843f68048a94519318711",name:"TPT - RU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa9c4a4fbaef841ebabc5d376fa5bb5b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5655a38b3a1b4406b4b859edbc9603be",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Settle - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_settle"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd563f532f1d04855906a834667bc11b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL660b07ed43af46ca816a870cc63ae263",name:"TPT - SK - AEM - RTB - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbfbb529f79e044208afa7f2cf9532647-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfd5b882e0d4b403c85554ba124635811-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabf8a8141bea4dd38f65630e3f32d4bc",name:"TPT - SI - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa89140a17a09484ca31698881c079bac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2890707948c64ac89dc207f88b33d8eb",name:"TPT - ID - AEM - LinkedIn - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC23acbfb4a97147a1b9b43dcc269b3c83-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd112b48e0b544a7be1bcd02b0ad511a",name:"TPT - AT - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC658ab0b76ad74ed5bf58bbab8c0c5211-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7ba84b64be0493380d9ab8f9005ad85",name:"TPT - UK - AEM - Xandr - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1bacb7200cd344a793bf4fd26518494a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15b736c6e94c40d3b8e5394fc2486728",name:"TPT - RU - AEM - DoubleClick - Started TDA - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC39bbc9ae75ae402a9d28976ec518aa48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a2d2b2a0d7b418cb77ee215bff9d472",name:"TPT - NL - AEM - LinkedIn - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC398dd5672e8040c28aa5f21e7b9bf1f4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL789ecd0f822c4d499fc1374e3ccaa35d",name:"TPT - SI - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2e9ac15bc2ac43d2a22d8b0b9f66f8b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14e2df54fdd54369b87d1ce6e63bfdab",name:"TPT - PL - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5271095b71f94750a4d8a8fc1559010f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL94eaea4c07804714a10655e916c3cff8",name:"TPT - JP - AEM - SpeedCurve - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC431dc21fa18443f289b0d0d26c800d68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9361aaa167bb49ba8045f00b626c6ba3",name:"W - All - AEM - AA - BMW Registration Start",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#loginform > div > div > ul > li.small-12.medium-6.columns.s-order-2 > a > span, a.ds2-login-js--to-register > font, a.login-box__button-secondary > span > font > font,a.login-box__button-secondary,a.ds2-login-js--to-register,#loginform > div > div.login-box__container.login-box__bullet-container.column > ul.ds2-buttonlist.row > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",t)(s),s.prop1=s.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r,s.prop11="Registration",s.prop8="form started",s.eVar34="nsc > form started",s.prop19="registration",s.prop6=s.prop53="central form",s.prop7=s.prop55="My BMW Registration",s.prop17=a.get("transaction.-1.transactionID"),s.prop54="registration",s.prop56="form",s.prop10="dedicated forms",0!=a.get("product").length){var n=a.get("event.-1.category.mmdr");if(n){var o=/[a-z]{1}[0-9]{2}/i,i=n.match(o);n=i&&i.length?i[0].toUpperCase():"datalayer field empty"}var c=_satellite.getVar("setDefaultProductVariables");c.id=a.get("event.-1.category.mmdr"),c.category="vehicle",c.merchEvars.eVar10=n,s.products=c.toString()}s.events=s.apl(s.events,"event93,event94,event3,event4"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event93,event94,event3,event4"),s.linkTrackVars=s.apl(s.linkTrackVars,"prop1,eVar34,prop11,prop8,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products")}catch(e){var d={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,d)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"regi_Start",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL976765c86db2447ea1406922c2cf36ff",name:"TPT - AT - AEM - Facebook - iFrame RFO Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb9dd4ead111948db9afc6782a24dbafe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0fb84c085704457592a9dc673bef2d81",name:"TPT - AR - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/solicitud-de-contacto.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3f56bd4fd1a242b380c09e63613f7fc6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeba4567819ed423db16bdca8387160e9",name:"TPT - SE - AEM - Adwords - Accessories and Prices - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/sv/avdelning/service-tjanster-och-tillbehor/bmw-tillbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0dee88c7e8364266a666e6237e45c711-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba246872943c4df4b6bbe01a704e4d3c",name:"TPT - NO - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",
valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC199bdea4f37c4a16b1c796746768b491-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bbae6372c304fbc9ecee86ed62ac4d4",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC69f87dd971624e48831dbd671ac5c624-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL097d206c2a254b2996d4eba97aa75493",name:"TPT - IN - AEM - Lotame - 3 Series Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa2ddb1c3638e44f7879f6edb2969216b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82c737b7c9c1413fb3e3ce507edd6c0b",name:"PLR - All - NSC - All - Custom Code - Set TPT ExecutionFlag",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%splitConsentEnabled%",rightOperand:"false"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCacd4b9b2c2ab4e3a93366f5d5e2a2820-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL54ef19af5b834132a381ca581a443ab8",name:"TPT - NL - AEM - Submit Button Pixel - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7c76a790701f4d5c8b2fdadb40c41be7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ab792aff052479ba0d104ab60111252",name:"TPT - JP - AEM - Pardot - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6457c66315614ede9d76f8e7466b3d3f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ec22ea374144dae9816f5782c3aca92",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0e76c57a7cb94a5b948879455cf9b033-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa1d5d81ee8ed435cbf4c95d763a9f204",name:"HT - All - NSC - All - Custom Code - RegisterOnConsentChange",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var currentRuleName = event.$rule.name;\n    var privacyManager = _satellite.getVar('KIT-helpers').privacyManager;\n    var cache = _satellite.getVar('KIT-helpers').cache;\n    var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n    var ENUM_USER_CONSENT = {\n        \"GIVEN\": \"GIVEN\",\n        \"REVOKED\": \"REVOKED\",\n        \"UNKNOWN\": \"UNKNOWN\"\n    };\n\n    var handleSplitConsentMarkets = function() {\n        var consentMap = _satellite.getVar('consentMap');\n\n        //Register for Adobe Analytics consent change\n        privacyManager.registerOnConsentChange(consentMap.AdobeAnalytics, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AdobeAnalytics);\n                adobe.optIn.approve(adobe.OptInCategories.ECID);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS);\n                smartPreviousValueManager.saveDeferredObject();\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AdobeAnalytics);\n                cache.set('analyticsConsentRejected', 'true');\n                //moved to AA custome code plugin in registerPostTrackCallback function                \n                //adobe.optIn.deny(adobe.OptInCategories.ECID);\n                //adobe.optIn.deny(adobe.OptInCategories.ANALYTICS);\n            }\n        });\n        //Register for Adobe Target consent change\n        privacyManager.registerOnConsentChange(consentMap.Target, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.Target);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.Target);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET);\n            }\n        });\n        //Register for AAM consent change\n        privacyManager.registerOnConsentChange(consentMap.AAM, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AAM);\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AAM);\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n            }\n        });\n        //nothing needs to be done for TPTs on split consent markets as re-triggerring is handled by p15r\n    }\n\n    var handleNonSplitConsentMarkets = function() {\n        var CATEGORY_ENUM = {\n            'ANALYTICS': 'analytics',\n            'ADVERTISING': 'advertising'\n        };\n        privacyManager.registerOnConsentChange(function(consent, category) {\n            if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- ECID, AA and AT');\n                adobe.optIn.approve(adobe.OptInCategories.ECID, true);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET, true);\n                adobe.optIn.complete();\n                smartPreviousValueManager.saveDeferredObject();\n                _satellite.getVar('Trigger-AnalyticsConsentChangeEvent')();\n            } else if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- ECID, AA and AT');\n                adobe.optIn.deny(adobe.OptInCategories.ECID, true);\n                adobe.optIn.deny(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET, true);\n                adobe.optIn.complete();\n            } else if (category === CATEGORY_ENUM.ADVERTISING && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- AAM');\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n                _satellite.getVar('Trigger-pageLoadTPT')(currentRuleName); //the variable 'currentRuleName' is declared at the top of this entire code\n            } else if (category === CATEGORY_ENUM.ADVERTISING && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- AAM');\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n                _satellite.getVar('clearCookies')();\n            }\n        });\n    }\n\n    if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_SPLIT)\n        handleSplitConsentMarkets();\n    else if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_NON_SPLIT)\n        handleNonSplitConsentMarkets();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: currentRuleName\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL2bede609e9144149915aa1979ebe0c4e",name:"PLR - All - AEM - Custom Code - Performance timing",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){function t(){try{var t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;return"unavailable"!=(t||"unavailable")?0<t.getEntriesByType("navigation")[0].duration?"ok":"wait":"unavailable"}catch(e){var s={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,s)}}function s(){try{var t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;_satellite.logger.info(t);var s,a,r,n,o,i,c,d,l,u={};"unavailable"!=(t||"unavailable")&&(s="ok",_satellite.logger.info("SATELLITE : performance tracking : "+s),a=document.location.protocol+"//"+document.location.hostname+document.location.pathname,r=document.location.search,n=document.location.hash,o=t.getEntriesByType("navigation")[0].requestStart,i=t.getEntriesByType("navigation")[0].responseStart,c=t.getEntriesByType("navigation")[0].domInteractive,d=t.getEntriesByName("first-contentful-paint")[0].startTime,(l=t.getEntriesByType("navigation")[0].duration)<0&&(l=0),u={status:s,path:a,query:r,hash:n,timeServer:o,timeServerReact:i,timeDOM:c,timeContent:d,timePageReady:l},(o<0||6e4<o||i<0||6e4<i||c<1||l<0||d<0||1e5<c||1e5<d||2e5<l)&&(u.status="error"),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&window.epaas.api.setPersistence("bmwdtm_hq_perf",JSON.stringify(u)))}catch(e){var b={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,b)}}try{if("hidden"!=document.visibilityState){window.perfTime=window.perfTime||[];var a=t();if("ok"==a||"unavailable"==a)s();else var r=0,n=setInterval(function(){r++,"ok"==(a=t())||"unavailable"==a?(clearInterval(n),s()):100<r&&clearInterval(n)},50)}else"hidden"==document.visibilityState&&_satellite.logger.log("khubruy performance timing hidden!!")}catch(e){var o={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,o)}}},trackerProperties:{}}}]},{id:"RL978c17a4e1df4aee9ee01d07b065e312",name:"PLR - All - AEM - AA - DCS Event Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.de","bmw.it","bmw.be","bmw.fr","bmw.es","bmw.nl","bmw.lu","bmw.ch","bmw.pl","bmw.pt","bmw.at","mini.de","mini.it","mini.fr","mini.at","mini.be","mini.es","mini.nl","mini.lu","mini.ch","mini.pl","mini.pt","bmw-int4.com","bmw-int5.com","mini-int7.com"],s=_satellite.getVar("topLevelDomain");if(-1<t.indexOf(s))return!0}catch(e){_satellite.logger.log("Error in PLR - All - AEM - AA - DCS Event Listener",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n   window.addEventListener('dispatch_event',function(e){\n     _satellite.logger.log(\"Khubruy event fired for event DCS\");\n     _satellite.track('dcs');\n   });\n   window.addEventListener('dispatch_pageload',function(e){\n     _satellite.logger.log(\"Khubruy event fired for pageload DCS\");\n     _satellite.track('dcs_pv');\n   });\n}catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"DCR\",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RLc0d2f8e6e0ee454babdd27251eee883f",name:"TPT - FI - AEM - Adwords - Retailers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".buttonLarge.ds2-tracking-js--event",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t|Retailers",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbe34aae778494ce9bf237df2b28b5ed5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc1fcc95af4124386a469627643471b7b",name:"TPT - NO - AEM - Adform - Used Car Search - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"BMW bruktbils\xf8k",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7c45a79b50f543bba22ff053279fb48a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd175dbef34924007ad31b974f9230c76",name:"TPT - BR - AEM - Facebook - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCddac365a01214bfea97b1d595c921431-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7ea8e3572fe4c578550455fd5b6c534",name:"TPT - HU - AEM - GTagDC - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC792702c943ef4d2188b488a6d7049ddd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL444a7f2b2096425c8b5f1ee17d390a0c",name:"TPT - LU - AEM - Doubleclick - History Change Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("pa_pag_pageName"),s=_satellite.getVar("previousStepName");if(s==undefined||s!==t)return _satellite.setVar("previousStepName",t),!0}catch(e){_satellite.logger.error("TPT - LU - Programmatic - History Change"+e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC92b539f443b649f8933488f02fcb8e1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc7a0eca517a4d43bfee277ba0c68024",name:"TPT - CH - AEM - DoubleClick - Dealer-Partner_Loctor_Selection - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbf7ef35d11b648999eee7abe662c9dde-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8e53c58e98743ef8760dfec00643873",name:"TPT - DE - AEM - Nero - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC39ac278dac6d4dfbba05fc5d43daf0b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b1bd897de094d1993d1dbc14ec91011",name:"TPT - RO - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9abdd58b65fb4e1f922d5b2c11c8d9b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9dcd2d5c23f2416f894caf7b3bd6b722",name:"TPT - BE - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe0b025f23fcb4de6ac336a23e1fbb546-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4030d12bf2dd4bedb6de2ee8192a1d60",name:"TPT - BE - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC85cb6a5de8d7445e955c631de5ac3d88-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaaf4bfa31b6c4be687fb4962a9484369-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5aea7e2badbc4d2ca4f64eb96f0ca986-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9d0f27752990442ea1d9dd580c285316-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe64f7b5c23384dcdae458ea1c9328223-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC814bda8ea576441b8fe9125badbc6c83-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6e181af28efe462da9eb00dcbdee3cbf",name:"TPT - IT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9c87c3f946164ee0b226ecd69ef30635-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca879ac8b9d4432d8f983c45a49fcadf",name:"TPT - UK - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe1c28a51f6f54238b8a6612befa46f7a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcfe101464def4520b316fe9528ead4f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe1000b77e620490eaaee24a9805d8d03",name:"TPT - PL - NSC - AA - preconfiguration interstitial page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return-1<window.location.href.indexOf("icp=pl_precon-entry")}catch(e){var s={from:"Condition",type:"PLR",name:t.$rule.name};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9d8c266f8b524b4e884b7d4ea31c31b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4620539291ce4199b37b319d8e364597",name:"TPT - SG - AEM - Apex - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc1ff44a3602e4150871a03d67de6fe2d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC909d2dc583f848fbbc7e37b634c64998-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL713eebf33d6b42828af7c700c796fee7",name:"TPT - ID - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4a787537a5ac42b186eb3045bdf7929f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8eacba41f2c64e5fab06a2608641c870",name:"TPT - RO - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8ccbf67dff094317b23fa56ff50dafb1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc19cacee4be54f4fb107b1ef42368723",name:"TPT - DK - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2f82ce1b9a8047fe8a831976f43a6f3a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL11f84e3e07234e718fd28eb882df3e90",name:"TPT - RU - AEM - VK Pixel - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe346cad458db46f8b9867e60269ee3e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42fd083635df4d09ae1c7cff7f0c9ede",name:"TPT - RU - AEM - Doubleclick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd8f0f082e02d4d7db2de26ba60a944e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1596a9e8e06541b1a2e418f1c972f52d",name:"TPT - MY - AEM - Adwords - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC10e8f0b4db6343c492656b40f1b260c7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f785f6b569946e195f24fb2c9b130e3",name:"TPT - MY - AEM - Sizmek - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0921264bbc8e4c9aae7103be60410d23-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCff85788dd19348eb9db9dfafb804f40b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0e84f611bdb143c0999de9f5a7406f5a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC181d6df9ecc0475d9141519be18489cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7fa22afc4caa47e98d8e6d5f4f60eb2b",name:"TPT - IT - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5b3c3134dc834bb8b55f1f4a6e40a7a8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5ed6e75f8ab4be9b700f688d548cfc9",name:"TPT - UK - AEM - Xandr - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaa44450e5d424630ad194f6d5fd66f5e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20bdc9cb8a8845189ed043954c77621a",name:"EBR - DE - AEM - AA - Finance Calculator",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("tracking:fs showroom",function(e){e.detail&&(_satellite.setVar("financeEvent",e.detail),t())})}catch(e){_satellite.logger.error("EBR: Finance Calculator",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("financeEvent"),r=a.event[0].eventInfo.eventAction,
n=a.event[0].eventInfo.eventName,o=a.event[0].eventInfo.type,i=a.event[0].eventInfo.timeStamp,c=a.event[0].eventInfo.cause,d=a.event[0].eventInfo.effect,l=a.event[0].eventInfo.eventPoints,u=a.component[0].componentInfo.componentName||"fs showroom",b=a.component[0].componentInfo.componentID||"fin > finance > fs showroom",m=a.component[0].componentInfo.componentType||"native in-page",f=a.component[0].componentInfo.primaryCategory||"finance",p=a.component[0].componentInfo.subCategory1||"offers",g=a.custom[0].product.productInfo.productName,v=_satellite.getVar("snapshotDL");s.prop1="nsc > "+v.get("page.pageInfo.pageName"),s.prop2=v.get("page.category.pageType"),s.prop19=u,s.prop41=m,s.prop42=f,s.prop43=p,s.prop44=b,s.prop56=n,s.prop57=r,(l="na"==l?"datalayer field empty":l)&&parseInt(l)&&!isNaN(parseInt(l))?(6e4<parseInt(l)?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(l)<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+l,",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=l,s.prop53=o,s.prop12=i,s.prop52=c,s.eVar34=d,s.eVar17=v.get("user.-1.profileInfo.visitorID"),s.prop74=_satellite.property.name+"|EBR - DE - AEM - AA - Finance Calculator";var h=v.get("product.-1.attributes.mmdr");if(h&&-1==h.indexOf("/")){var P=/[a-z]{1}[0-9]{2}/i,C=h.match(P);h=C&&C.length?C[0].toUpperCase():"datalayer field empty"}var j=_satellite.getVar("setDefaultProductVariables");j.id=v.get("product.-1.attributes.mmdr"),j.category="vehicle",j.merchEvars.eVar52=g,j.merchEvars.eVar60=v.get("product.-1.productInfo.manufacturer"),j.merchEvars.eVar10=h,j.merchEvars.eVar51=v.get("product.-1.attributes.bodyType"),j.merchEvars.eVar48=v.get("product.-1.attributes.modelCode"),j.merchEvars.eVar65=v.get("product.-1.attributes.modelName"),s.products=j.toString(),s.linkTrackVars+="prop1,prop2,prop41,prop42,prop43,prop44,prop19,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products,prop74,eVar17"}catch(e){_satellite.logger.error(e),s.abort=!0}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"finance_calculator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL4bb8b6c096874597a86ccb255dfdf761",name:"DCR - ALL - NSC - AA - Visualizer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_interactions"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.effect"),o=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),i="",c="nsc > ";s.linkTrackVars="events,",s.linkTrackEvents="",s.events="",_satellite.getVar("setDefaultVariables",t)(s),("datalayer field missing"!=a.get("product")&&"datalayer field empty"!=a.get("product")&&a.get("product")!=[]||"datalayer field empty"!=a.get("product.-1.productInfo.productName")&&"datalayer field missing"!=a.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(s),s.prop42="configuration",s.prop19=s.prop54="visualizer",s.prop56="interaction",s.prop53="ux","visualizer start"==r.toLowerCase()||"visualizer finish"==r.toLowerCase()?s.prop53="success":"inactivity"==r.toLowerCase()||"error"==r.toLowerCase()?s.prop53="3rd party backend":"buildability conflict"==r.toLowerCase()&&(s.prop53="automatic"),s.eVar134="web",s.eVar34=r&&"object"!=typeof r?r:"datalayer field missing",s.eVar34.indexOf(c)<0&&(s.eVar34=c+s.eVar34),-1<["change roof top color","change interior trims","change interior upholstery","change exterior mirror caps","change exterior wheels","change exterior color","change view","visualizer finish","visualizer start"].indexOf(r.toLowerCase())?s.eVar34=a.get("event.-1.eventInfo.effect"):-1<["inactivity","error","buildability conflict"].indexOf(r.toLowerCase())&&(s.eVar34=a.get("event.-1.eventInfo.cause")),s.prop55=a.get("event.-1.category.subCategory01"),s.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),s.prop52=a.get("event.-1.eventInfo.cause"),s.prop55=a.get("event.-1.category.subCategory01"),"360 rotate"==r.toLowerCase()||"roof top close"==r.toLowerCase()||"roof top open"==r.toLowerCase()?s.prop51=a.get("event.-1.eventInfo.effect"):s.prop51=a.get("event.-1.eventInfo.eventName"),s.prop50=a.get("event.-1.eventInfo.element"),s.eVar71=a.get("event.-1.eventInfo.target"),s.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop4=a.get("page.category.subCategory01"),s.prop5=a.get("page.category.subCategory02"),s.prop1=a.get("page.pageInfo.pageName"),s.prop1.indexOf(c)<0&&(s.prop1=c+s.prop1),s.prop28=a.get("page.attributes.virtualPage"),s.prop29=a.get("page.pageInfo.version"),s.linkTrackVars+="prop42,prop19,prop54,prop56,prop53,eVar134,eVar34,prop55,prop51,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar10,prop43,prop2,prop3,prop4,prop5,prop1,prop28,prop29",i="event917,event918","visualizer"==o&&(i+=",event313,event314"),"visualizer finish"==r&&(i+=",event315,event316"),"visualizer start"==r.toLowerCase()&&(i+=",event311,event312"),["inactivity","error","buildability conflict"].indexOf(r.toLowerCase())<0&&(i+=",event313,event314"),-1<["Inactivity","Error"].indexOf(r)&&-1<["Page","Popup","Inline message"].indexOf(n)&&(i="event931,event932"),s.eVar34.indexOf("nsc >")<0&&(s.eVar34="nsc > "+s.eVar34),s.events="",s.events=s.apl(s.events,i),s.linkTrackEvents=s.apl(s.linkTrackEvents,i),_satellite.getVar("smartPreviousValueManager").update("pageName",s.prop1)}catch(e){var d={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,d)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd645ca7b87d14537b80800a465cfee04",name:"TPT - NL - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeb810fce9d6d43c7bf6c3e78ca72d719-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3e4df511adb4b50b5af5b6f7e81ff30",name:"TPT - ZA - AEM - Adform - i8 Model Buy Now - EBR - P15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/forms/buy-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/bmw-i/i8-coupe/2017/at-a-glance.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC98a053503edc462890888d2b39728ad4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6e63ce3c54d4f51b61dd4a2ab3f89f1",name:"PLR - ALL - NSC - AA - share MID with IUCP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    function checkMID() {\n        if (typeof s != "undefined") {\n            if (s && s.visitor) {\n                var mid = s.visitor.getMarketingCloudVisitorID();\n                _satellite.logger.log("**INCOMING CALL TO IUCP, over**");\n                var iframeContent = document.querySelector("#iframepar__iframeadaptive");\n                if(!iframeContent){\n                  _satellite.logger.log("**sending to iframe**");\n                  iframeContent = document.querySelector("#externalContentIFrame-iframeintegrationadaptive");\n                }\n                _satellite.logger.log("**sending to iframe**", mid);\n                iframeContent.contentWindow.postMessage(mid, \'*\');\n            }\n        }\n    }\n\n    //&& self.location.href.indexOf(\'usedcar\') > -1 && (_satellite.getVar(\'topLevelDomain\') == "bmw.co.kr" || _satellite.getVar(\'topLevelDomain\') == "bmw.de")\n    if (self == top) {\n        self.addEventListener("message", function (event) {\n            //if (event.origin != "https://bps.bmw.com" && event.data != "IncomingCall") {\n            if (((event.origin.indexOf(\'bps.bmw.com\') < 0) && (event.origin.indexOf(\'mn.mini.com\') < 0)) && (event.data != "IncomingCall")) {\n                return;\n            }\n            _satellite.logger.log("**MESSAGE RECEIVED**");\n            checkMID();\n        })\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "TPT",\n        type: "Rule",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}}]},{id:"RL7032664de4094e5c9d542910f77fd8f0",name:"TPT - MX - AEM - Applink - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC24212995116b4357a798a42707154400-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL480f10319e864027bfbf3baa1b85952a",name:"TPT - AT - AEM - Facebook - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC461452f5928f42848ffa6264dfc8f1ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74a6464d93f74bb5808c35b5b21f446d",name:"TPT - NO - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc93947e822d442c5b03f5e99cbb9ad55-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8f61b1da0854eb28b5a0631e521ea30",name:"TPT - FI - AEM - Adwords - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb8a34a435a2c4bf7a34ac0cc4e4e7d3a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfeb54312a4804220a98cc37889033c8c",name:"PLR - ALL - NSC - AA - ActivityMap for link and region",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0b0e9cd0e92f43dc95d4082578d7b4aa-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){function n(e){var t=["vin","token"];for(var s in t)-1<e.indexOf(t[s])&&(e=e.split(t[s])[0]);return e}try{_satellite.logger.log("ActivityMap: Initialized"),s.ActivityMap.superLink=s.ActivityMap.superLink||s.ActivityMap.link,s.ActivityMap.link=function(e,t){if("false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1;if("object"!=typeof e)return!1;if(t)return _satellite.logger.log("ActivityMap: linkID from linkName:"+t),t;var s="";e||(e="");try{e&&(s=e.getAttribute("data-tracking-linkid")||e.getAttribute("data-name")||(e.getAttribute("href")&&e.innerText?e.innerText.replace(/[:>\s\/\n]+/g," ").trim()+":"+e.getAttribute("href"):null))||(s=this.superLink(e,t)),s&&(s=s.toLowerCase().replace(/[\s\/\n]/g," "),_satellite.logger.log("ActivityMap: Custom linkID: "+s)),s&&(s=n(s))}catch(a){_satellite.logger.error(a),s=""}return s},s.ActivityMap.superRegion=s.ActivityMap.superRegion||s.ActivityMap.region,s.ActivityMap.region=function(e){if("object"!=typeof e)return!1;var t;try{_satellite.logger.log("ActivityMap: getting RegionID");for(var s=e;s&&(s=s.parentNode);){var a=s.getAttribute("data-tracking-regionid")&&s.getAttribute("data-tracking-regionid")||s.nodeName.match(/HEADER|MAIN|FOOTER|/i).join();if(":"!=a&&""!=a||(a=""),a&&":"!==a&&(t=a+(t?">"+t:"")),"BODY"==s.nodeName){t!=undefined&&t.match(/^(HEADER|MAIN|FOOTER)/i)||(t="main"+(t?">"+t:""));break}}}catch(r){(console.error||console.log).call(console,r.stack||r)}return t&&(t=n(t)),t=t?(t||"").toLowerCase().replace(/[\s\/\n]/g," "):this.superRegion(e),_satellite.logger.log("ActivityMap: Custom regionID: "+t),t}}catch(e){var a={from:"PLR",type:"ActivityMap",name:t.$rule.name};_satellite.logger.error(e,a)}}},trackerProperties:{}}}]},{id:"RLe700de3f66b84addae70a53d76b06825",name:"TPT - ES - AEM - Yahoo - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd15cc68f6c454c24a4b744859bf833c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL988e2800d7be4c52b781d5eb7c9df46a",name:"PLR - All - AA - Custom Code - JS error event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.ch"],s=_satellite.getVar("topLevelDomain");return-1<t.indexOf(s)}catch(e){var a={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.addEventListener('error', function(event) {\n  _satellite.logger.log(event, \"error register\"); \n  var errObj = event;\n  _satellite.track('track_js_error', errObj);\n})\n",language:"javascript"}}]},{id:"RLbf7ea3f3affa448fac34171eb6d11f37",name:"TPT - DE - AEM - Facebook - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9936b49246d04054ae174151c9656f71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83969ea550774e93a5319b0ab648f106",name:"TPT - GR - AEM - Trade Desk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf14f099df1e64c92a3b23ba698baf786-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3669fbe5a13f494092c24d6c6e15f79e",name:"TPT - CZ - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc8f587b3142d4e6daa57f880cba01476-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcccee179e10d4969b25d41e5e7bb4f17",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4d24c3331ca74dbe90f0a24d157b9f42-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc3ccff79084b4c6194acf23b15555703",name:"TPT - ES - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9286aa7512ba49b5a202da2b26fe045e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05ca566049994e52a9c83ccda81b82b5",name:"TPT - ZA - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9a374f01120c479e96779980ab47b55f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a21595e240744c79ae5c6026fb78d57",name:"TPT - ID - AEM - Facebook - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC55179277dfca429196ec87a2a9657ad9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc042368c0a164f889886d4bf8a6709d2",name:"TPT - NO - AEM - Adwords - Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/no/topics/offers-and-services/bmw-tilbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC496c4ce5cdc049acb886ae9ee431345c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL432707d4bc574862903cf4b014d7b089",name:"TPT - ZA - AEM - GTagDC - Select Professional CD - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"bmw-form formstrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/forms/SelectProfessional-CD",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC43984acdcbcf4e4694c858d6fda2f648-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe77eeaf8b6fc4d5e8fe5af35b173adf7",name:"TPT - DK - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC45c441c67b5642d0ab317a4570f1529a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8acc85dafbe246c7ac5af77f0376fdd8",name:"TPT - PT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC931539699c6744b49fc293da92a6eadf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79a03261534046b89c2a617aa0e83f75",name:"TPT - FI - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb41ee9fac49342879219c57d5d1ca37c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae37c04b321f4f719133b9c9122e0680",name:"TPT - ZA - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3b86039fca6441808f653ba78da52eb1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL21ef1597846040bba1b869dc83a5ba69",name:"TPT - DE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8cc6567ab69d4cd1a0cab950d23e9895-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda05a29a228f41ad925aba9e76b5e25e",name:"TPT - ES - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC08167283252a4db7b15c26aa96ba8c51-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58b3a532270a4a7e97edca77b11ca87f",name:"TPT - FR - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd92efee9e3224f078c7c05f04e22b46a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14b6dc241fd9459697afefd6f63c8c06",name:"TPT - NO - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC045cc75374d2473ca3f1b102ddfbad60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9e1c19a647db4999957e2dec676392c5",name:"TPT - SK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCac709a41022443d1aa712b106950112d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf2a17368088845d0b13c9aaa7ff67d94",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfiguratorBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7f12591a665a40f59eb19ab9cc8701c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0cad56b0b3894327ab31caa9caabd4f8",name:"TPT - NO - AEM - Adobe Campaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC27276cad79dc449a909e5b687a9f68aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc75d9a0d894a4446b071fb531fd7222f",name:"TPT - NL - AEM - IgnitionOne - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa6b8d986d79f483390a8b2983a182e80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7e75e9d2b4014ce0b7e48aabe5f06076",name:"TPT - RU - AEM - Clever Data - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0},{value:"m122.bmw-int6.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd3dc8ae20b1d41a58f8027e5bd11b810-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2953524eccb24ff09cf6ce88f8dec557",name:"TPT - IE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8884ad7440b340d3bcb44f478a20d644-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL312db2fc14b24215ad24709cb3d92a1d",name:"TPT - UK - AEM - GTagDC - iFrame RFS Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0d24eceecf214ccbba3c8765ffef30c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfcf80ac11aaf4d558ff4b4feae4708a5",name:"TPT - HU - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd447f2757d9b4080a41bd1407b320a09-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde66f06846a646e19e5ba2bcdc23ac5f",name:"PLR - ZA - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("consentMap");return"true"==("true"==_satellite.getVar("splitConsentEnabled"
)?consentcontroller.api.isUsageAllowed(t.campaignCookieTracking).toString():_satellite.getVar("isRegulationAccepted_Tags"))}catch(s){_satellite.logger.error("PLR - All - AEM - Custom Code - Campaign String to Cookie"+e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfa739ff099e847b6838c2f20230a63e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf15083c79b3245869b392dd4bd087595",name:"TPT - UK - AEM - GTagDC - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa1fe0f4bcd934841887c5e819b9fd54b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe6377c8548ee44dd969d5ed8d30f6138",name:"TPT - DE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC95b3d17474984131ac82b4ca870cebb9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaef8315824d64b67a13308a961da576e",name:"HT - All - NSC - Multiple - Fire Mbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return Boolean(_satellite.getVar("AT-property"))||new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname)}catch(a){var s={from:"Condition",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,s)}}}},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.navigator.userAgent",value:"Googlebot",valueIsRegex:!0},negate:!0}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (_satellite.getVar('topLevelDomain') !== 'bmw.de' && _satellite.getVar('topLevelDomain') !== 'bmw.it'&& _satellite.getVar('topLevelDomain') !== 'bmw.fr'&& _satellite.getVar('topLevelDomain') !== 'bmw.co.uk')\n    return; //Don't run the CS integration script on non-whitelisted markets\n\n/*\n *Name: Adobe Target CS Integration\n *Version: 1.5\n */\n(function() {\n    var tvp = \"AB_AT_\";\n    var tokens = \"\";\n\n    function sendToCS(csKey, csValue) {\n        csKey = tvp + csKey;\n\n        _uxa.push([\"trackDynamicVariable\", {\n            key: csKey,\n            value: csValue\n        }]);\n    }\n\n    function removeDuplicates(myArr, prop) {\n        var mappedObj = {};\n        return myArr.filter(function(obj, pos, arr) {\n            var val = obj[prop]\n            if (mappedObj[val]) {\n                return false;\n            }\n            return (mappedObj[val] = true);\n        });\n    }\n\n    function init() {\n        if (window.CS_CONF) {\n\n            CS_CONF.integrations_handler = CS_CONF.integrations_handler || {};\n            CS_CONF.integrations_handler.adobe_target_tokens = [];\n\n            var uniqueTokens = removeDuplicates(tokens, \"activity.name\");\n            if (uniqueTokens) {\n                uniqueTokens.forEach(function(token) {\n                    var campaignName = token[\"activity.name\"];\n                    var experienceName = token[\"experience.name\"];\n\n                    CS_CONF.integrations_handler.adobe_target_tokens.push({\n                        'CampaignName': campaignName,\n                        'ExperienceName': experienceName\n                    });\n\n                    sendToCS(campaignName, experienceName);\n                });\n            }\n        }\n    }\n\n    function callback() {\n        if (!disableCallback) {\n            disableCallback = true;\n            init();\n\n            if (window.CS_CONF) {\n                CS_CONF.integrations = CS_CONF.integrations || [];\n                CS_CONF.integrations.push(\"Adobe Target\");\n            }\n        }\n    }\n\n    var disableCallback = false;\n\n    function getEventData(e) {\n        if (e && e.detail && e.detail.responseTokens) {\n            tokens = e.detail.responseTokens;\n\n            window._uxa = window._uxa || [];\n            _uxa.push([\"afterPageView\", callback]);\n        }\n    }\n\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, getEventData);\n})();\n//Adobe Target CS Integration End",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var targetParamsManager = _satellite.getVar('AT-TargetParamsManager');\n\ntargetParamsManager.mergeParams({\n    'at_property': _satellite.getVar('AT-property')\n});\n\n// The data element 'AT-AffinityParams' returns a custom object containing categories defined by BMW for calulating the affinity using profile scripts\nvar affinityParams = _satellite.getVar('AT-AffinityParams');\n//The second parameter to mergeParams sets \"once\" : \"true\" meaning that the values will be sent via only one target call\ntargetParamsManager.mergeParams(affinityParams , true);\n\nwindow.targetPageParamsAll = function() {\n    return targetParamsManager.getParams();\n}",language:"javascript"}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body{opacity:0px}",bodyHidingEnabled:!1}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLff5c1112d73a487cbee52ab6f59bd5ca",name:"TPT - UK - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbdf085448f3d4667a7609f9dbac6b4d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe4436d7a69cd4bbaabf691019058c15f",name:"TPT - PT - AEM - Livechat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC081340556dbd476ea75af412796df2c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb02614d07704131a657eef3d49c37cb",name:"TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcd7bfdb37e05462b8e890d77e65d81b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42878b9ae11b48679e6aca3063bc8b4a",name:"TPT - DE - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/angebotsanfrage/angebot-anfordern.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa8ae44a34726409aa355059d0536bc4c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3ac8eebd98344a27bfdae9f90717b3ce",name:"TPT - TH - AEM - GtagAW - Link to Used Cars - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"usedcar.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7200f018e293407b9292d16528905802-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0212525c04604ce6a7a4114b0b994d32",name:"TPT - GR - AEM - IgnitionOne - iFrame Forms RFC - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC650e01f657a24feb92d7dac01e3e5ad2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41e58c64dee5430c89dabfc43d734e7c",name:"TPT - DE - AEM - Pinterest - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC29fd524a4efb49e59c332b3ab8a00a66-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1b4d8beef0247b8b51055051de5c5d2",name:"TPT - RU - AEM - Avito - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return-1<document.referrer.indexOf("/ru/general/premium-selection/at-a-glance.html")}catch(e){return _satellite.logger.log("TPT RU Avito"+e),!1}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC24b5da5e3806479dae7507a86c6ae973-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbce978d68cb24ac48f036ff11b5bf479",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - From Konfigurator to model Selection - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"de/konfigurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC95894904e69f4733a209e5070aeae077-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL545cc6bc482e42e4bd5cdf9795808506",name:"TPT - NZ - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC278ea6de554842ffb4a68ca5416cf884-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05987d251424451d874760520e2c66c4",name:"TPT - RU - AEM - Doubleclick - Testdrive form sent - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form",elementProperties:[{name:"id",value:"test-drive-second-form",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9dd926dda1fa4b30b1fcbfda79418c15-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd259d7dc8b8c4a4eb3616ba92fa47908",name:"TPT - RU - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC080d1007ce6649339591fa12971c090f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4d7fb369a5c48919fdc8412658a0148",name:"TPT - GR - AEM - IgnitionOne - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe2f2944abd3c4a24b313c16f2a271ce1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdc98ef2b70e246aa99351a385ca0663d",name:"TPT - ZA - AEM - Adform - X3 Inspire Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#top-of-content > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta.show-for-large-up > div > div > div.show-for-large-up > ul > li:nth-child(1) > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/x-series/X3/2019/bmw-x3-inspire",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe2b0f8be5fb94906bf7090cdb8a64719-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd8ab355e74384b25beca41816da92849",name:"DCR - ALL - AEM - AA - ZSO Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"zso_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){function a(){s.prop56="search",s.prop53="accessory",s.eVar34=-1==i.indexOf("nsc >")?"nsc > "+i:i,s.prop54=l,s.prop55="ZSO Select series"==o?c:d,s.prop51=o,s.prop52="default",s.linkTrackVars=s.apl(s.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52")}function r(){var e;switch(m.category="search",m.id="search",o){case"ZSO Select series":e="series";break;case"ZSO Select Modell range":e="model";break;case"ZSO Select Categories":e="category";break;case"ZSO Select Product":e="product"}m.merchEvars.eVar30="datalayer field missing",m.merchEvars.eVar31="user selected",m.merchEvars.eVar32=e,m.merchEvars.eVar33=d,b.append(m),s.products=b.toString(),s.prop57="drop down menu",s.prop24=c,s.linkTrackVars=s.apl(s.linkTrackVars,"prop53,prop57,prop24,products"),s.prop24=c}try{s.linkTrackVars="events,",s.linkTrackEvents="",s.events="";var n=_satellite.getVar("snapshotDL"),o=n.get("event.-1.eventInfo.eventName"),i=n.get("event.-1.eventInfo.eventAction"),c=n.get("event.-1.eventInfo.cause"),d=n.get("event.-1.eventInfo.effect"),l=n.get("event.-1.attributes.relatedComponent.componentInfo.componentName",n.get("component.-1.componentInfo.componentName")),u=(n.get("component.-1.category.subCategory01"),n.get("page.pageInfo.pageName",n.get("event.-1.attributes.relatedPageName"))),b=_satellite.getVar("setDefaultProductVariables"),m=_satellite.getVar("setDefaultProductVariables");_satellite.getVar("setDefaultVariables",t)(s),s.prop57=n.get("event.-1.eventInfo.eventAction"),n.get("event.-1.eventInfo.eventPoints")&&parseInt(n.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(n.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(n.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(n.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+n.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=n.get("event.-1.eventInfo.eventPoints"),s.prop12=n.get("event.-1.eventInfo.timestamp"),s.prop44=n.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),s.prop50=n.get("event.-1.eventInfo.element"),s.eVar71=n.get("event.-1.eventInfo.target"),s.eVar17=n.get("user.-1.profileInfo.visitorID"),s.eVar136="2020 - 06- 15 ZSO_accessories",s.eVar60=n.get("event.-1.attributes.manufacturer",n.get("product.-1.productInfo.manufacturer")),s.eVar55=n.get("product.-1.category.subCategory01"),s.eVar65=n.get("event.-1.attributes.productName"),s.prop27=n.get("page.pageInfo.pageID"),s.prop3=l,s.prop19=l,s.prop42="nsc website",s.prop43="accessories",s.prop5=n.get("page.category.subCategory02"),s.prop2=n.get("page.category.pageType"),s.prop28=n.get("page.attributes.virtualPage"),"virtual"==s.prop28&&(s.prop28="virtual page"),s.prop1=s.pageName=-1==u.indexOf("nsc >")?"nsc > "+u:u,s.linkTrackVars=s.apl(s.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop50,eVar71,pageName,eVar60,eVar55,eVar65,prop19,prop42,prop43,prop44");var f=n.get("event.-1.category.mmdr",n.get("product.-1.attributes.mmdr"));switch(b.id=f,b.category="vehicle",m.merchEvars.eVar10=f,m.merchEvars.eVar53="new car",m.merchEvars.eVar54="build to order",s.products=b.toString(),s.linkTrackVars=s.apl(s.linkTrackVars,"products"),o){case"ZSO Select series":"select series"==i&&(s.events=s.apl(s.events,"event917,event918,event251,event252,event253,event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event251,event252,event253,event254"),a(),r());break;case"ZSO Select Modell range":"select model range"==i&&(s.events=s.apl(s.events,"event917,event918,event253,event254,event257"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event253,event254,event257"),a(),r());break;case"ZSO Select Categories":"select categories"==i&&(s.events=s.apl(s.events,"event917,event918,event253,event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event253,event254"),a(),r());break;case"ZSO Select Product":"select product"==i&&(s.events=s.apl(s.events,"event917,event918,event253,event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event253,event254"),a(),r())}}catch(e){var p={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,p)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"ZSO Interaction",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLa4c1af15cbef47609fa23299ae19b14e",name:"DCR - All - IFrame - AA - Local Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfp"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=_satellite.getVar("smartPreviousValueManager");if("Local-Request"!=a.get("event.-1.category.primaryCategory")&&"Local-request"!=a.get("event.-1.category.primaryCategory"))return void(s.abort="true");_satellite.getVar("setDefaultVariables",t)(s);var n=a.get("event.-1.category.subCategory01"),o=a.get("event.-1.category.subCategory02"),i=a.get("event.-1.category.subCategory03"),c=a.get("event.-1.category.subCategory04"),d=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")),l=a.get("event.-1.attributes.dealerInfo",a.get("event.-1.attributes.dealerinfo")),u=a.get("event.-1.eventInfo.eventName"),b=a.get("event.-1.attributes.fuelType");-1!=b.indexOf("|")&&(b=b.replace(/\|/g,"~")),s.events="",s.prop19="local form",s.prop42="locally developed",s.prop43="forms",s.prop56="form",s.eVar34=-1==u.indexOf("nsc >")?"nsc > "+u:u,s.prop8=u,s.prop53=s.prop6="local form",s.prop11=n.toUpperCase(),s.prop7=o,s.prop18=i,s.prop16=a.get("event.-1.attributes.stepName"),s.eVar9=a.get("event.-1.eventInfo.target"),void 0!==l&&(s.eVar41=l.substring(0,l.indexOf("|")),s.eVar42=l.substring(l.indexOf("|")+1,l.indexOf("_")),s.eVar40=l.substring(l.indexOf("_")+1));var m={RFS:"service",RFA:"accessory"},f=_satellite.getVar("setDefaultProductVariables");f.id=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr")),f.category=m[n]||"vehicle";var p=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr"));if(p&&-1==p.indexOf("/")){var g=/[a-z]{1}[0-9]{2}/i;p=(j=p.match(g))&&j.length?j[0].toUpperCase():"datalayer field empty"}var v=a.get("event.-1.attributes.motorization");if(v){var h=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,C=/sdrive[0-9]{2}[a-z]{1}/i,j=v.match(h)||v.match(P)||v.match(C);-1<v.indexOf("i3 (120 ah)")||-1<v.indexOf("i3 (120ah)")||-1<v.indexOf("i3 120ah")?v="i3 (120 ah)":-1<v.indexOf("i3s (120 ah)")||-1<v.indexOf("i3s (120ah)")||-1<v.indexOf("i3s 120ah")?v="i3s (120 ah)":j&&j.length&&(v=j[0].toUpperCase())}switch(f.merchEvars.eVar53="New Cars"==c?"new car":"Used Cars"==c?"used car":"datalayer field empty",f.merchEvars.eVar52=a.get("event.-1.attributes.productName",a.get("product.-1.attributes.modelName")),f.merchEvars.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),f.merchEvars.eVar10=p,f.merchEvars.eVar51=a.get("event.-1.attributes.bodyType",a.get("product.-1.attributes.bodyType")),f.merchEvars.eVar57=a.get("event.-1.attributes.hybridVersion"),f.merchEvars.eVar50=a.get("event.-1.attributes.serie"),f.merchEvars.eVar56=b,f.merchEvars.eVar58=v,s.products=f.toString(),s.prop2=a.get("page.category.pageType",a.get("event.-1.attributes.relatedPageCategory.pageType")),s.prop3=a.get("page.category.primaryCategory",a.get("event.-1.attributes.relatedPageCategory.primaryCategory")),s.prop4=a.get("page.category.subCategory01",a.get("event.-1.attributes.relatedPageCategory.subCategory01")),s.prop5=a.get("event.-1.attributes.relatedPageCategory.primaryPurpose"),s.prop1=-1==d.indexOf("nsc >")?"nsc > "+d:d,s.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop12=a.get("event.-1.eventInfo.timestamp"),s.prop52=a.get("event.-1.eventInfo.cause"),s.prop54=s.prop55=n,s.prop50=a.get("event.-1.eventInfo.element"),s.eVar71=a.get("event.-1.eventInfo.target"),s.eVar39=a.get("page.attributes.outletName"),s.eVar20=a.get("user.-1.segment.userSelectedCountry"),s.eVar23=a.get("user.-1.segment.userSelectedPreferredContactMethod"),s.eVar24=a.get("user.-1.segment.userSelectedGender"),s.eVar25=a.get("user.-1.segment.userSelectedYearofBirth"),s.eVar26=a.get("user.-1.segment.userSelectedCurrentVehicle"),u){case"Form Start":var R={Lead:"event17,event18",Handraiser:"event21,event22",RAO:"event25,event26",RFA:"event29,event30",RFC:"event33,event34",RFCD:"event37,event38",RFD:"event41,event42",RFI:"event45,event46",Download:"event49,event50",Postal:"event57,event58",RFO:"event61,event62",RFP:"event65,event66",RFS:"event69,event70",ROI:"event73,event74",Newsletter:"event81,event82","Keep Me Informed":"event77,event78",TDA:"event85,event86","Online TDA":"event89,event90",Registration:"event93,event94",CAMPAIGN:"event97,event98","FS RFO":"event101,event102",Loan:"event105,event106","Operational Lease":"event109,event110","Private Lease":"event113,event114",Quote:"event117,event118",Insurance:"event121,event122","not set":""};s.events=s.apl(s.events,R[n]),s.linkTrackEvents=s.apl(s.linkTrackEvents,R[n]),s.events=s.apl(s.events,R[o]),s.linkTrackEvents=s.apl(s.linkTrackEvents,R[o]),s.events=s.apl(s.events,R[i]),s.linkTrackEvents=s.apl(s.linkTrackEvents,R[i]),s.events=s.apl(s.events,"event3,event4"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event3,event4"),"RFI"==n&&"Generic"==o&&(s.events=s.apl(s.events,"event53,event54"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event53,event54")),s.eVar34="nsc > form started",s.prop8="form started";break;case"Form Success":var y={Lead:"event19,event20",Handraiser:"event23,event24",RAO:"event27,event28",RFA:"event31,event32",RFC:"event35,event36",RFCD:"event39,event40",RFD:"event43,event44",RFI:"event47,event48",Download:"event51,event52",Postal:"event59,event60",RFO:"event63,event64",RFP:"event67,event68",RFS:"event71,event72",ROI:"event75,event76",Newsletter:"event83,event84","Keep Me Informed":"event79,event80",TDA:"event87,event88","Online TDA":"event91,event92",Registration:"event95,event96",CAMPAIGN:"event99,event100","FS RFO":"event103,event104",Loan:"event107,event108","Operational Lease":"event111,event112","Private Lease":"event115,event116",Quote:"event119,event120",Insurance:"event123,event124","not set":""};s.events=s.apl(s.events,y[n]),s.linkTrackEvents=s.apl(s.linkTrackEvents,y[n]),s.events=s.apl(s.events,y[o]),s.linkTrackEvents=s.apl(s.linkTrackEvents,y[o]),s.events=s.apl(s.events,y[i]),s.linkTrackEvents=s.apl(s.linkTrackEvents,y[i]),s.events=s.apl(s.events,"event15,event16"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event15,event16"),"RFI"==n&&"Generic"==o&&(s.events=s.apl(s.events,"event55,event56"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event55,event56")),s.eVar34="nsc > form finished",s.prop8="form finished";break;case"First Interaction":s.events=s.apl(s.events,"event5,event6",","),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event5,event6",","),s.eVar34="nsc > form first interaction",s.prop8="form first interaction";break;case"Form Step 1":case"Form Step 2":case"Form Step 3":case"Form Step 4":case"Form Step 5":s.events=s.apl(s.events,"event7,event8",","),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event7,event8",","),s.eVar34="nsc > "+u,s.prop8=u;break;case"Local Form Interaction":s.events=s.apl(s.events,"event9,event10",","),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event9,event10",","),s.eVar34="nsc > form interactions",s.prop8="form interactions"}r.update("pageName",s.prop1),s.linkTrackVars+="events,prop42,prop43,prop56,prop19,eVar34,prop53,eVar6,prop8,prop11,prop7,prop18,prop16,eVar9,products,prop2,prop3,prop4,prop5,prop6,prop1,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar39,eVar20,eVar23,eVar24,eVar25,eVar26,eVar41,eVar42,eVar40"}catch(e){var w={from:"AA",type:"Rule",name:"DCR - ZA - IFrame - AA - Local Forms"};_satellite.logger.error(e,w)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-subCategory01%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL10150437cc804984bd58def331ec9a2a",name:"TPT - MX - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC26bb041bc3ef427e96bebd735b0228f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL123f8c688a3542ae9ae48f8c449b8fa2",name:"TPT - RO - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ro",valueIsRegex:!0}]}},{
modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"configurator"}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(s){_satellite.logger.log("TPT - RO - DBM Tag Configurator Steps err \n",s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdb39fa7b653c4282b702f37791f0519e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fa251355e4a4b5e951446279a980334",name:"TPT - HU - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC028f9da7aa764daeaeaa9d04bcfe9cb4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c67755b23964f02996161b1f7b4974b",name:"TPT - AT - AEM - Facebook - Contant Number Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-contact-item--phone.ds2-tracking-js--event",elementProperties:[{name:"href",value:"tel.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/footer/metanavigation/contact.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC341937f10e274dcf93417e4da82db903-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL820cad00940340688b9874241ae43e9a",name:"TPT - IN - AEM - Lotame - Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb8e4d99aed6f4ad9ab35bb70862f8ca6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa960f0c346f54739abe2fc6a0e81bcae",name:"TPT - CH - AEM - DoubleClick - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1308e81e211c4e14847bd423b19c2106-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8fca03a8a6f246988068d325a9594b2e",name:"TPT - All - AEM - Usabilla NPS 3.0 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NPS"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",s=_satellite.getVar("topLevelDomain").split("."),a=s[s.length-1].toUpperCase();if("UK"==a&&(a="GB"),"COM"==a&&-1<window.location.href.indexOf("bmw.com/en-au/")&&(a="AU"),-1==["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA"].indexOf(a))return _satellite.logger.log("Returning false as it is not a NPS 3.0 market"),!1;var r={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:5,Psyma:25,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:10,Psyma:20,Other:45}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:13,CES:5,Psyma:0,Other:82}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:10,Psyma:20,Other:60}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:10,CES:5,Psyma:0,Other:85}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:13,CES:5,Psyma:0,Other:82}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:10,Psyma:0,Other:75}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:10,Psyma:0,Other:65}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:10,Psyma:0,Other:70}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:25,CES:10,Psyma:0,Other:65}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:15,Psyma:0,Other:0}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:10,Psyma:0,Other:40}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}};return"NPS"==_satellite.getVar("usabilla_randomizer")&&(null!=localStorage.getItem("usbl."+r[a].buttonCode[t]+".c."+r[a].NPS[t])?(npsValue=localStorage.getItem("usbl."+r[a].buttonCode[t]+".c."+r[a].NPS[t]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,noNPS)}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc2e493314bd34efaada3d758f4289627-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5be9f6967c474582a48daf381029f7a1",name:"TPT - ZA - AEM - MediaMath - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4c51c9044d4f453f8033feae1edbd937-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL312f2e87f83548658c8718cc15016ffa",name:"TPT - RU - AEM - DoubleClick - Started Accessory Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc515d3896d174c8791e8b40cb1d831ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ac5765bba4b4d558a14cb93226468af",name:"TPT - NZ - AEM - TradeDesk - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5b6b0d0a15ea4d68964c31ecfcb27e81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLddd411d055a442339a00f1df12d699d4",name:"TPT - HU - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7f1faf6eea544b209efb4cfcaa56b79c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL32aae53a3e3f4207ba7c75496fb74343",name:"TPT - ES - AEM - MediaMath - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC287c8556803d4dfaa465c0dd69b93bd6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb2c31ee14e854b07a1576895e755c188",name:"TPT - DE - AEM - ContentSquare - Confirm Save Configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"confirm_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa4b177e1494a45f7b501e61a85edd465-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4642fe7e10bf4e36a789d79fb24c266d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c34396688fb4572a29be4fdd411655b",name:"TPT - FR - AEM - iAdvize - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1c69228795734ef791009165305fb60b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81b83eee878e44dc9bcdb48049446335",name:"TPT - AT - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC35b6d0f48bc544cca3c3b4e7fc634187-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4950701e31474096998f6bdc0451b5bd",name:"TPT - DE - AEM - Adform - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC05a9d4038c7c4511a993e87be852f597-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c3c4e7cde2549aa96974fcea718a13a",name:"TPT - IT - AEM - Adword - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-track-download",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6ef9d939c34c46a9830479415d65cc51-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e1da6bbd4034cfbacd8a7e13f4f5b4a",name:"TPT - FI - AEM - Adform - Yritysmyynti Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautot",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4 Laakkosen sivuilta",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/yritysmyynti.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc76dd2c0ade14a0f82bac748baf85d6a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf58071a4aa54445f846b65e21fecc26a",name:"TPT - DE - AEM - Facebook - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa05f06c39320480cb19f826313186060-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL40fceb7895c0448c94f5134db1dfd0a5",name:"TPT - RU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd94edfe208224f56ad3e0d6b63ed98ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLccf36786a0124a04b6308f64c5d11b94",name:"TPT - FI - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd05cda4d27e44f0f84e8ac5bd4df6821-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22cb173769ef4b4294d89a9960c3b8b9",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(a){try{var t=_satellite.getVar("KIT-helpers").privacyManager,r=(_satellite.getVar("consentMap"),{GIVEN:"GIVEN",REVOKED:"REVOKED",UNKNOWN:"UNKNOWN"}),s=function(){var e=_satellite.getVar("consentMap");t.registerOnConsentChange(e.AdobeAnalytics,function(e){e===r.GIVEN&&a()})},n=function(){var s={ANALYTICS:"analytics",ADVERTISING:"advertising"};t.registerOnConsentChange(function(e,t){t===s.ANALYTICS&&e===r.GIVEN&&a()})};t.type===t.ENUM_TYPE.EPAAS_SPLIT?s():t.type===t.ENUM_TYPE.EPAAS_NON_SPLIT&&n()}catch(e){e}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAAAllowed%",rightOperand:"true"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,o){function s(){function e(){t||(t=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics")))}var t=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",e]);var s="_cs_mk",a=("; "+document.cookie).split("; "+s+"=");if(_satellite.logger.log("contentsquare installation1",a.length),1==a.length){var r=Math.random()+"_"+Date.now();o.eVar142=r,_satellite.logger.log("contentsquare installation",o.eVar131);var n=function(){for(var e=0,t=document.domain,s=t.split("."),a="_gd"+(new Date).getTime();e<s.length-1&&-1==document.cookie.indexOf(a+"="+a);)t=s.slice(-1-++e).join("."),document.cookie=a+"="+a+";domain="+t+";";return document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}();document.cookie=s+"="+r+"; expires=session ;path=/;domain="+n,_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:r}])}}try{var a=_satellite.getVar("snapshotDL"),r=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")),n=a.get("event.-1.eventInfo.eventName"),i=_satellite.getVar("smartPreviousValueManager");window.location.href,o.linkTrackVars="events,",o.linkTrackEvents="",o.events="",_satellite.getVar("setDefaultVariables",t)(o);try{"datalayer field missing"==r&&(r=dataLayer.pages[0].page.pageInfo.pageName||"datalayer field missing")}catch(e){var c={from:"AA",type:"PLR",name:t.$rule.name};_satellite.logger.error(e,c)}if(o.prop1=o.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r,-1<window.location.href.indexOf("/dcs/")||"nsc > stocklocator"==o.prop1)return void(o.abort=!0);if(o.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n,o.prop42="nsc website",o.prop5=a.get("page.category.subCategory02"),-1<a.get("pageInstanceId").indexOf("error-pool/")&&(o.pageName=a.get("pageInstanceId"),o.pageType="errorPage",o.prop1=o.pageName),"nsc > stocklocator"==o.pageName&&(o.prop19="central new car stock locator"),0!=a.get("product").length){var d=a.get("product.-1.attributes.mmdr"),l=_satellite.getVar("setDefaultProductVariables");l.id=d,l.category="vehicle",l.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),l.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),l.merchEvars.eVar10=d,l.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),o.products=l.toString()}if(void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var u=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(u),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(o.events=o.apl(o.events,"event971="+json_data.timeServer,",",1),o.events=o.apl(o.events,"event972="+json_data.timeServerReact,",",1),"undefined"!=typeof json_data.lcp&&(o.events=o.apl(o.events,"event973="+json_data.lcp,",",1)),o.events=o.apl(o.events,"event974="+json_data.timeContent,",",1),o.events=o.apl(o.events,"event975="+json_data.timePageReady,",",1),"undefined"!=typeof json_data.fid&&(o.events=o.apl(o.events,"event968="+json_data.fid,",",1)),"undefined"!=typeof json_data.cls&&(o.events=o.apl(o.events,"event969="+json_data.cls,",",1),o.events=o.apl(o.events,"event967="+json_data.clsTotal,",",1)),o.eVar36=_satellite.getVar("perfTime_url"),o.eVar37=_satellite.getVar("perfTime_query"),o.eVar38=_satellite.getVar("perfTime_hash"),"undefined"!=typeof json_data.fidHTML&&(o.eVar67=json_data.fidHTML),"undefined"!=typeof json_data.lcpHTML&&(o.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}if(o.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?o.events=o.apl(o.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?o.events=o.apl(o.events,"event970=0",",",1):o.events=o.apl(o.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1):o.prop58=a.get("event.-1.eventInfo.eventPoints"),o.prop12=a.get("event.-1.eventInfo.timeStamp"),o.prop52=a.get("event.-1.eventInfo.cause"),o.prop54=a.get("event.-1.category.primaryCategory"),o.prop55=a.get("event.-1.category.subCategory01"),o.prop50=a.get("event.-1.eventInfo.element"),o.eVar71=a.get("event.-1.eventInfo.target"),"user_centric_navigation"==o.prop19&&(o.events=o.apl(o.events,"event919,event920",",",1)),"delayed"==a.get("event.-1.category.eventType"))if(o.prop56="interaction",o.prop54=a.get("event.-1.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),"Navigation"==a.get("event.-1.category.primaryCategory")&&"user_centric_navigation"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){var b=a.get("event.-1.attributes.relatedComponent.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),m=(n=a.get("event.-1.eventInfo.eventName")).split("L").length;o.events=2==m&&"Navigation"==b?o.apl(o.events,"event917,event918,event919,event920",",",1):o.apl(o.events,"event917,event918",",",1),o.prop42="nsc website",o.eVar175=a.get("component.-1.attributes.variant"),o.prop2=a.get("page.category.pageType"),o.prop3=a.get("page.category.primaryCategory"),o.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),o.prop4=a.get("page.category.subCategory01"),o.prop5=a.get("page.category.subCategory02"),o.prop1=a.get("page.pageInfo.pageName"),o.prop1.indexOf("nsc >")<0&&(o.prop1="nsc > "+o.prop1),o.prop28=a.get("page.attributes.virtualPage"),o.prop29=a.get("page.pageInfo.version"),o.prop14=(new Date).toISOString().substr(11,8),o.prop15=(new Date).toString().substr(16,8),o.prop40=a.get("user.-1.segment.logged"),o.eVar136="2020 - 06- 15 user_centric_navigation",o.eVar137="AEM6",o.prop53="delayed"==a.get("event.-1.category.eventType")?"success":"ux",o.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.linkTrackVars+="prop42,prop43,prop44,prop19,eVar175,prop2,prop3,prop4,prop5,prop1,prop28,prop29,prop14,prop15,prop40,eVar136,eVar137,prop56,prop53,eVar34,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"}else if("Outbound click"!=a.get("event.-1.eventInfo.eventAction")&&"Internal click"!=a.get("event.-1.eventInfo.eventAction")||"salesbar"!=a.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("Open navigation"!=a.get("event.-1.eventInfo.eventAction")&&"Internal click"!=a.get("event.-1.eventInfo.eventAction")||"model_navigation_hp"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("accessory click"!=a.get("event.-1.eventInfo.eventAction")&&"cta click"!=a.get("event.-1.eventInfo.eventAction")||"ZSO_accessories"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))o.prop53="success",o.prop3=a.get("page.category.primaryCategory"),o.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.events=o.apl(o.events,"event917,event918",",",1),o.linkTrackVars+="prop43,prop56,prop53,eVar34,prop57,prop58,prop12,eVar71,prop50,prop54,prop52,eVar10,prop3,prop1,prop44,prop42,prop54";else{var f=a.get("event.-1.eventInfo.effect"),p=a.get("event.-1.eventInfo.eventAction");o.prop56="interaction",o.prop53="ZSO CTA click"==n?"success":"ux",o.eVar34=-1==f.indexOf("nsc >")?"nsc > "+f+" clicked":f+" clicked",o.prop19=o.prop3=o.prop54=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),o.prop55=a.get("event.-1.eventInfo.cause"),o.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.prop51=n,o.prop52="default",o.eVar17=a.get("user.-1.profileInfo.visitorID"),o.eVar136="2020 - 06- 15 ZSO_accessories",o.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),o.eVar55=a.get("product.-1.category.subCategory01"),o.eVar65=a.get("event.-1.attributes.productName"),o.prop42="nsc website",o.prop43="accessories",o.prop28=a.get("page.attributes.virtualPage"),"virtual"==o.prop28&&(o.prop28="virtual page");var g=_satellite.getVar("setDefaultProductVariables");if(d=a.get("event.-1.category.mmdr",a.get("product.-1.attributes.mmdr")),g.id=d,g.category="vehicle",g.merchEvars.eVar10=d,g.merchEvars.eVar53="new car",g.merchEvars.eVar54="build to order","ZSO recommended accessory click"==n||"ZSO CTA click"==n){var v=_satellite.getVar("setDefaultProductVariables");v.id=a.get("event.-1.attributes.wishlist.-1").split("~")[2],v.category="accessory",v.merchEvars.eVar53="accessory configurator",v.merchEvars.eVar52=a.get("event.-1.eventInfo.cause"),v.merchEvars.eVar54=a.get("event.-1.attributes.wishlist.-1").split("~")[0],g.append(v)}switch(o.products=g.toString(),o.linkTrackVars+=",prop56,prop53,eVar34,prop54,prop55,prop51,prop52,products,eVar136,eVar17,prop28,prop52,prop55,eVar60,eVar55,eVar65,prop19,prop3,prop44",n){case"ZSO Specific accessory click":case"ZSO recommended accessory click":"accessory click"==p&&(o.events=o.apl(o.events,"event917,event918,event253,event254",",",1));break;case"ZSO CTA click":"cta click"==p&&(o.events=o.apl(o.events,"event917,event918,event253,event254,event255,event256",",",1),"Request Offer now"!=f&&"Order Information"!=f&&"Request for Test drive"!=f||(o.events=o.apl(o.events,"event1,event2",",",1)))}}else o.prop56="interaction",o.prop53="ux",o.prop43="navigation",o.eVar34="nsc > "+n+" clicked",o.prop51=a.get("event.-1.eventInfo.eventName"),o.prop52=a.get("event.-1.eventInfo.cause"),o.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),o.prop42="nsc website",o.prop53="navigation",o.prop13="bmw",o.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.eVar134="web",o.prop27=a.get("page.pageInfo.pageID"),o.prop3=a.get("component.-1.componentInfo.componentName"),"virtual"==o.prop28&&(o.prop28="virtual page"),o.eVar135=a.get("page.pageInfo.devEnv"),o.eVar17=a.get("user.-1.profileInfo.visitorID"),o.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),o.eVar136="2020 - 06- 15 model_navigation_hp";else o.events=o.apl(o.events,"event917,event918,event921,event922"),o.prop43="navigation",o.eVar34="nsc > "+n+" clicked",o.prop52="default",o.prop53="ux",o.prop51=a.get("event.-1.eventInfo.eventName"),o.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),o.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.prop13="bmw",o.eVar134="web",o.prop27=a.get("page.pageInfo.pageID"),o.prop28=a.get("page.attributes.virtualPage"),o.prop3=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),o.prop2=a.get("page.category.pageType"),"virtual"==o.prop28&&(o.prop28="virtual page"),o.eVar135=a.get("page.pageInfo.devEnv"),"new car"==a.get("product.-1.category.primaryCategory")&&(o.eVar54="build to order"),o.eVar17=a.get("user.-1.profileInfo.visitorID"),"Outbound click"==a.get("event.-1.eventInfo.eventAction")&&-1<n.indexOf("test")&&-1<n.indexOf(
"drive")&&(o.prop11="tda",o.prop8="form start intention",o.linkTrackVars+=",prop11,prop8"),o.eVar136="2020 - 06- 15 salesbar",o.eVar175=a.get("event.-1.attributes.relatedComponent.attributes.variant"),o.linkTrackVars+=",prop51,prop3,prop2,prop52,prop44,prop19,prop28,eVar34,prop53,prop13,prop43,eVar134,prop27,eVar135,eVar54,eVar17,prop56,prop52,prop53,prop51,prop19,prop44,prop13,eVar134,prop27,prop3,prop28,eVar135,eVar136,eVar175";if(i.update("pageName",o.prop1),i.update("componentSubcategory1",o.prop43),_satellite.getVar("KIT-helpers").privacyManager.isCookieDrawerShown()){var h=a.get("event.-1.attributes.relatedComponentID");for(y=0;y<a.get("component").length;y++){var P=y.toString();a.get("component."+P+".componentInfo.componentID")!=h&&a.get("component."+P+".componentInfo.componentId")!=h||(_satellite.logger.log("related component - "+a.get("component."+P)),a.get("component."+P+".componentInfo.componentName",a.get("event.-1.attributes.relatedComponentName",a.get("product.-1.attributes.relatedComponentName"))),a.get("component."+P+".componentInfo.componentID",a.get("component."+P+".componentInfo.componentId")),a.get("component."+P+".category.primaryCategory"))}n=_satellite.getVar("eventName"),f=_satellite.getVar("eventEffect"),_satellite.getVar("eventCause"),_satellite.getVar("eventPrimaryCategory"),_satellite.getVar("eventSubCategory01"),o.events=o.apl(o.events,"event925,event926"),o.eVar34="nsc > "+a.get("event.-1.eventInfo.effect","cookie drawer is shown"),o.prop51=a.get("event.-1.eventInfo.eventName","Cookie drawer impression"),o.prop52=a.get("event.-1.eventInfo.cause","default"),o.prop55=a.get("event.-1.category.subCategory01","impression")}try{var C=_satellite.getVar("topLevelDomain");"true"!=_satellite.getVar("isAdobeAnalyticsAllowed")||"bmw.de"!=C&&"bmw.fr"!=C&&"bmw.co.uk"!=C&&"bmw.it"!=C||s()}catch(_){c={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(_,c)}try{var j=_satellite.getVar("AA-componentDefaultValues");j&&"configurator all models"==j.componentName&&(o.prop1="nsc > all-models-con-entry",o.pageName="all-models-con-entry",o.prop2=a.get("page.category.pageType","page"),o.prop4=a.get("page.category.subCategory01","con entry"),o.prop3="models",o.prop28=a.get("page.attributes.virtualPage"))}catch(_){c={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(_,c)}for(var R=a.get("component"),y=0;y<R.length;y++)if(R[y].attributes&&R[y].attributes.onsiteSearch&&"General"===R[y].attributes.onsiteSearch){var w="true";break}if("true"==w){a.get("component.1.componentInfo.componentName"),a.get("component.-1.attributes.onsiteSearchResults"),o.prop56="search",o.prop53="content",o.eVar34="nsc > onsite search result clicked",o.prop51=R[y].componentInfo.componentName,o.prop55=o.prop24=R[y].attributes.onsiteSearchResults,o.prop57=R[y].attributes.onsiteSearchType,o.prop54="onsite search",o.prop44=R[y].componentInfo.componentID,o.prop19="onsite search",o.prop42="nsc website",o.prop43="search",o.eVar136="2021 - 02- 19 onsite search",o.eVar17=a.get("user.-1.profileInfo.visitorID"),o.prop13="bmw";var E=R[y].attributes.onsiteSearchTerm;o.events=o.apl(o.events,"event917,event918,event333,event334,event331,event332");var I=_satellite.getVar("searchDefaultProduct");(g=_satellite.getVar("setDefaultProductVariables")).merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),g.merchEvars.eVar53="new car",o.products=g.toString(),o.products+=",search;search;;;;"+I+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+a.get("event.-1.attributes.onsiteSearch")+"|eVar33="+E}}catch(e){c={from:"AA",type:"PLR",name:t.$rule.name},_satellite.logger.error(e,c)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    var sid = _satellite.cookie.get("bmwdtm_hq_sid");\n    if (sid == undefined && _satellite.getVar(\'isAdobeAnalyticsAllowed\') == "true") {\n        setTimeout(function() {\n            _satellite.track("bounce_timer");\n        }, 20000);\n        _satellite.cookie.set("bmwdtm_hq_sid", Math.random());\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "AA",\n        type: "Rule",\n        name: "PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon (Bounce DCR code)"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL767910e7ef4d4dddabf4b88533aa8e5f",name:"TPT - ID - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2f46ab1e1bce453997f9a2b630bea3e5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa6c72391f8154d6dbeeeb06ba1e397da",name:"TPT - MY - AEM - GTag_DC - Multiple - PLR ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/6-series/gran-turismo/2020/bmw-6-series-gran-turismo-highlights.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"  try {\n    var gTagElem = document.createElement('script');\n    gTagElem.async = true;\n    gTagElem.src = 'https://www.googletagmanager.com/gtag/js?l=gDataLayer&id=DC-4598361';\n\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(gTagElem, firstScript);\n\n    window.gDataLayer = window.gDataLayer || [];\n    window.gtag = function() {\n        gDataLayer.push(arguments);\n    }\n    window.gtag('js', new Date());\n    window.gtag('config', 'DC-10773170');\n\n    gtag('event', 'conversion', {\n        'allow_custom_scripts': true,\n       'session_id': _satellite.getVar(\"sessionID\"),\n         'send_to': 'DC-10773170/invmedia/bmw6-0+per_session'\n    });\n} catch (e) {\n    _satellite.logger.error(\"TPT - MY - AEM - GTagDC - PLR\", e);\n}\n   ",language:"javascript"}}]},{id:"RL9c9dd983949b475eac6c1e09e369b82e",name:"TPT - SG - AEM - Precision - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3d9169d887a349ee8f6571282edb907d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc7ebe7a07d640a7a2970527387c506f",name:"TPT - HU - AEM - Facebook - forms_simulated_page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0b3b2a184b81478f8d9515851f7f7936-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01f6d959a49f4416babf64d75db1c301",name:"TPT - NL - AEM - Facebook - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC289cf16673f44703b7a18d51e76cee1c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea13736eb9264da5a3a447a8cc90384f",name:"TPT - All - AEM - Usabilla NPS 3 - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0},{value:"bmw.co.jp",valueIsRegex:!0},{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd340e5c55c7b4a63aa12af3009421d4e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d965191e0884f23afdce62b0066e06d",name:"TPT - SG - AEM - Tradedesk - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC877d49f3932d4855b006815154c5ceb8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdd772d591a7c4abc852035cd8d8d7c35",name:" TPT - CA - AEM - Invoca - Dealer Locator - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7b6ecd5cbbdc4b8cb152ebc1487e0386-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ec2ce5bf3a14cb3bdcde46d08e4ca15",name:"TPT - IT - AEM - Adwords - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2038f5e64e66451eb53dd5774d809f29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL85eecea757d24b50b8d25ac5f118d503",name:"TPT - IE - AEM - DoubleClick - Brochure download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb14fa0bdb64e46ecb55066aae2d3732f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL536584565b244474a410678e5e194620",name:"TPT - NL - AEM - Facebook - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf419074760bc4e81969ba2c5bb231ba5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL108bca42be2a4cb2953c93d0981c8e53",name:"TPT - ES - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC400bf0038cf24be5b6fc0168b91501db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL18bc9d4a3cc843a5b834d3615b33b23e",name:"TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6fa0ea9308224a3abd3d5b0eec279f96-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL054f09cc24c64976b3c6c457309efbdc",name:"TPT - ES - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/ssl/landing-renting/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/",valueIsRegex:!0},{value:"/es/topics/presentacion/",valueIsRegex:!0},{value:"/es/informacion/promociones/ofertas/select/",valueIsRegex:!0},{value:"black-shadow.bmw.es/es/bmw-serie-2-grand-coupe",valueIsRegex:!0},{value:"/es/informacion/financia/",valueIsRegex:!0},{value:"/es/ssl/catalogos.html",valueIsRegex:!0},{value:"/promocion/heroes",valueIsRegex:!0},{value:"/es/coches-bmw/",valueIsRegex:!0},{value:"/es_ES/configurator.html",valueIsRegex:!0},{value:"/es/ssl/formulario-showroom.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCda92059a953e4d88b610b3d44bbfdce4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc18ea5b316ba4dbf95c6d90a432f99ef",name:"TPT - RO - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf6dbeda941954541a6e23ae30b239a11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e5ade8287a04e82ac01086f853a266a",name:"TPT - ZA - AEM - Adform - PriceList and Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC471c9f73d6364c6fab498eb6418e50d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9155ecf411584b258825ea4926873b29",name:"TPT - IE - AEM - Gtag_DC - CON_Open_Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC57847473c71b48528e2096d46b63eeba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60981615e2cc4d29a0662aa96924cebc",name:"PLR - PL - AEM - AT - Determine TargetExperience Name",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    var topLevelDomain = _satellite.getVar('topLevelDomain');\n    if (topLevelDomain == \"bmw.pl\") {\n        (function () {\n            document.addEventListener(\"at-request-succeeded\", function (e) {\n                if (typeof (e) !== 'undefined' && typeof (e.detail) !== 'undefined' && typeof (e.detail.responseTokens) !== 'undefined' && e.detail.responseTokens.length > 0) {\n                    for (var i = 0; i < e.detail.responseTokens.length; i++) {\n                        if (typeof (e.detail.responseTokens[i]) !== 'undefined' && typeof (e.detail.responseTokens[i]['activity.name']) !== 'undefined' && typeof (e.detail.responseTokens[i]['experience.name']) !== 'undefined') {\n                            var k = e.detail.responseTokens[i]['activity.name'];\n                            var v = e.detail.responseTokens[i]['experience.name'];\n                            sendTestToCS(decodeURI(k), decodeURI(v));\n                        }\n                    }\n                }\n            });\n\n            function sendTestToCS(cskey, csValue) {\n                _satellite.logger.log(\"Target Activities Names captured: \", cskey);\n                //if (cskey.indexOf('BMW_DE_X5_Onepager_Short_Prod_200810') > -1) {\n                    setTimeout(function () {\n                        //_satellite.cookie.set('target_experience', csValue, {\n                            //'domain': _satellite.getVar('topLevelDomain'),\n                        //})\n                        var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n                        smartPreviousValueManager.update(\"targetExperience\", csValue);   \n                    }, 10000);\n                //}\n            };\n        })();\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: \"PLR\",\n        type: \"AT\",\n        name: \"PLR - PL - AEM - AT - Determine TargetExperience Name\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL30338932b4b44d37bb635f712b032991",name:"TPT - AU - AEM - Facebook - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC93ff9194fe404e4aaab2d0693327e234-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74f61e8d310c44e480e3ff3759a4376c",name:"TPT - DE - AEM - Outbrain - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC04cf8f8d2eb447eba7147f43ed1b5418-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53eea8206b084d139ddedd763e0ea128",name:"TPT - MY - AEM - Adform - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc64f39df8a7d47659c4a068f768b7afc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa64c8158e1b4a0ca6381aaae155e931",name:"TPT - IE - AEM - Doubleclick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb37a2458153c4967ba75312e995b09e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb7c83a90ae444b69b0e319b0938b4c33",name:"TPT - RU - Multiple - Chatbot ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("re-trigger : TPT - RU - Multiple - Chatbot",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ru/test/bot-test-1.html",valueIsRegex:!0},{value:"/ru/test/bot-test-2.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6238b3706d1544be8f0c4088e43761e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb3a9cf9cc07d41f8b80252e989c490ce",name:"TPT - ES - AEM - Doubleclick - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8f88a4255bfe458bb52ea824a7a8ed8a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL054a4689bb79457fa4ae432afd0c9f8d",name:"TPT - BR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc507f7f5be9c435387cb93b935b9f06c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6481b5dc67ea48a49a41431524eb9309",name:"TPT - MY - AEM - Korex - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe13eacd7c82e442fa3e6241929635eff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2f870eb155b468daa7874c7ba255a25",name:"TPT - All - DCS Pages - AA - Usabilla Adhoc DCS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf06cf2cd3c2a407fb7ab2e2bb8c189d2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d3c934c06f149ba9c59eac199bc4c0e",name:"TPT - NL - AEM - Submit Button Pixel - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC95b226fe08f24e48b52c292a69c3c702-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL45ca8dc3bb0349c7865ce4cc98b18834",name:"TPT - NL - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC20345179b2374a9982510f87bc998309-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72ed3394e53f4ff29f5c5465784fbcf2",name:"TPT - TH - AEM - GtagAW - Multiple - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf1d48a0dd25b4d94a8553928f8bc4865-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL69eef503b89b49b4bafe7e2ea2c8635d",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3451423ab71f47ccbd910b2218695d25-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a6734efaf8140fba6c211b8b13f3595",name:"TPT - AT - AEM - Pinterest - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC81359185ce1448f99b692f8038adf8dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL970b9f446f944bd9ab827c53df4f18b2",name:"TPT - CZ - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9821fe7468f8423199c2c2b70aa2267a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe8d37f6d28764b7bbca79d071c41583c",name:"TPT - DE - AEM - Adwords - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCff537d8dc6dd43fb83319c627dec900e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48166926fa1b410c9318d2bb923cc3cb",name:"TPT - BR - AEM - Doubleclick - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaf4daf4cb5274f588954822e6cb5a047-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RL4affd65855b14112abca945951d345ae",name:"TPT - IT - AEM - GTag DC/AW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC91253456dae642a5b62baee56db11678-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef6c866f64ed41be8f50bfc43722ee69",name:"TPT - LU - AEM - Doubleclick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("pa_pag_pageName"),s=_satellite.getVar("previousStepName");if(s==undefined||s!==t){if("fr-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",t),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr");if("de-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",t),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr")}}catch(e){_satellite.logger.log("TPT - LU - Custom Code condition")}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1e5e778bad9d49af80cc8bcadf1d1f1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf69a033972a487cb77863e057c3b974",name:"TPT - UK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2313da67f8f14b3d88306a0de5e1a705-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06dec34813ed4fe0a04d7263bab4f51b",name:"TPT - DE - AEM - BMW Connected Appstore Cookie Drawer (without p15r) - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.de",valueIsRegex:!0},{value:"m156.bmw-int3.com",valueIsRegex:!0},{value:"m156.bmw-int9.com",valueIsRegex:!0},{value:"m14.bmw-int1.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/faszination-bmw/connecteddrive/bmw-connected"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd74f3e7031f44972a31003a172488809-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC245d2ade315147848f2b328c27805dc1-source.min.js",language:"html",isExternal:!0}}]},{id:"RLae81044e0d09421ca48dcdb80d8fc00d",name:"TPT - RU - AEM - Campaign String to Cookie - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6a27cd2c3f7d451aa545d193baf757a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6e9cb86a6407471580b4403d81593875",name:"TPT - All - AEM - Usabilla CES - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"CES"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4ff6a8f2b4da42ed866698ce049ec382-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ebfb414b17a44ec9cf12c0b106f9c69",name:"TPT - PL - AEM - Facebook - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC23d44e87561e4580bb4bf350d4896a0b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76bbc64978004acba74e35730c28c2b0",name:"TPT - IE - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC885f0076464d4a81a5acc18fe73fb2f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd75702e5a7a7460a91fdb69bced54c1b",name:"TPT - IE - AEM - DoubleClick - Configurator Section Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined)return _satellite.setVar("previousStepName",e),!0;if(t!==e)return _satellite.setVar("previousStepName",e),!0}catch(s){_satellite.logger.error("TPT - IE - Configurator Section Tracker \n",s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1a74f520841c4d4c98deba8e710be107-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL261eca97097146858c917ab304e29ba4",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7995f048e7d747e39b013464014eb8aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc031561423c84eeb994b4a0374646b3f",name:"TPT - DK - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4561772cf6b348c28b97956da989179b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL18a19e6ac654458cb6f52590bdd8defa",name:"TPT - NL - AEM - Facebook - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC85602290f821492790b8721fe385aeac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36780cfdd3e74929939ce8ff10e4e681",name:"TPT - IT - AEM - Sophus3 - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaaa6c88618b446c19b72d18caef71606-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL34f6b06c72d9416eb194aa144ed2cdf8",name:"TPT - NO - AEM - Adform - Kampanjer Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Oversikt over alle BMW (i |)kampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Kontakt din forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4a5cc52cd6f84f6b946eee6c399b7a62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76cf0d0be9ab4c6ea8d3462b69b2b70b",name:"TPT - BG - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6bffb215ee1b4f759e8fb790a9b5c023-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42a81977e4a74a70a42991ae5b14e9b6",name:"TPT - SG - AEM - Adform - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC09525dee0514478abf583e1117e0151b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9dcd388636c4707bacef091e864345c",name:"TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC448dad64e3f140399e54ff8f5c96d8f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad63aec8377c408f9b4fe027d708d1fd",name:"TPT - MX - AEM - Adwords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC454f06e0935f4332a32dc1e019554c46-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC11c2d494549b4117be0d595d4772decb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a1fe07df5ed487fb7979939442933ba",name:"TPT - BR - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd23265a7ecaf4465849cc739e2414021-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7cb349fbef747bc9a4c2b3467a28b32",name:"DCR - All - AEM - AA - Tech Hub",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_filter"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_series_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_body_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_load_more"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_open"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_close"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_link"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=_satellite.getVar("smartPreviousValueManager"),n=a.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(s);var o=_satellite.getVar("setDefaultProductVariables");o.category="vehicle",o.merchEvars.eVar53="new car",o.merchEvars.eVar54="build to order",s.products=o.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),s.eVar135=a.get("page.pageInfo.devEnv"),s.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,r.update("pageName",s.prop1);var i=_satellite.getVar("AA-componentDefaultValues");s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop5=a.get("page.category.subCategory02"),s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop42=i.primaryCat||"datalayer field empty",s.prop43=i.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.eventAction"),u=a.get("event.eventInfo.cause");switch(s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop50=a.get("event.-1.eventInfo.element"),s.prop52="default",s.prop53="ux",s.prop54=a.get("event.-1.category.primaryCategory"),s.prop55=c,s.prop56="interaction",s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar34="nsc > "+d,s.eVar71=a.get("event.-1.attributes.requestedURL"),s.eVar136="2020 - 06- 15 tech_hub",l){case"tech hub filter":s.prop51=l,s.prop57="internal click";break;case"tech hub series selection":s.prop51=l,s.prop57="drop-down menu";break;case"tech hub layer open":s.prop51=l,s.prop57="open content";break;case"tech hub series selection":s.prop51=l,s.prop57="close content";break;case"tech hub link":s.prop51=u,s.prop57="internal click";break;default:s.prop51=l,s.prop57="internal click"}s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop1,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59"),s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")}catch(m){var b={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,b)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Tech Hub",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe16c8f20b16c4d3ebb0b98118778f9f8",name:"DCR - ZA - AEM - AA - Mood Configuration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mood_pre_configuration_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.effect"),o=a.get("event.-1.attributes.relatedPageName",a.get("page.pageInfo.pageName")),i=(a.get("event.-1.category.subCategory01"),a.get("product.-1.attributes.fuelType")),c=_satellite.getVar("smartPreviousValueManager"),d=["vehicle","service","search","accessory"];-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("setDefaultVariables",t)(s),s.prop1=-1==o.indexOf("nsc >")?"nsc > "+o:o,s.prop41=a.get("component.-1.category.componentType"),s.prop45=a.get("component.-1.category.componentVersion"),s.prop56=r,s.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop53=a.get("event.-1.eventInfo.type"),s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n,s.prop52=a.get("event.-1.eventInfo.cause"),s.prop54=a.get("event.-1.category.primaryCategory"),s.prop55=a.get("event.-1.category.subCategory01",a.get("event.-1.category.subCategory1")),s.eVar71=a.get("event.-1.attributes.requestedURL"),s.prop44=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),s.prop27=a.get("event.-1.attributes.linkedPage.pageInfo.pageID"),s.prop13="bmw";var l=a.get("product.-1.attributes.internalCode"),u=a.get("product.-1.attributes.engine");if(u){var b=/[0-9]{3}[a-z]{1}/i,m=/xdrive[0-9]{2}[a-z]{1}/i,f=/sdrive[0-9]{2}[a-z]{1}/i,p=u.match(b)||u.match(m)||u.match(f);-1<u.indexOf("i3 (120 ah)")||-1<u.indexOf("i3 (120ah)")||-1<u.indexOf("i3 120ah")?u="i3 (120 ah)":-1<u.indexOf("i3s (120 ah)")||-1<u.indexOf("i3s (120ah)")||-1<u.indexOf("i3s 120ah")?u="i3s (120 ah)":p&&p.length&&(u=p[0].toUpperCase())}var g=_satellite.getVar("setDefaultProductVariables");g.id=a.get("event.-1.attributes.linkedProduct.productInfo.productID",a.get("product.-1.productInfo.productID"));var v=a.get("product.-1.category.subCategory1");-1<d.indexOf(v)?g.category=v:g.category="datalayer field missing",g.merchEvars.eVar58=u,g.merchEvars.eVar10=l,g.merchEvars.eVar56=i,s.products=g.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),"interaction"==r?(s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")):"error"==r&&(s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932")),s.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",c.update("pageName",s.prop1)}catch(e){var h={from:"AA",type:"Rule",name:"DCR - ZA - AEM - AA - Mood Configuration"};_satellite.logger.error(e,h)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Pre configuration",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3d97434736fa4ffca94f6d3edbe6bfa5",name:"TPT - DK - AEM - Doubleclick - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.dk/da/ssl/find-forhandlere-vaerksteder.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9de5d98f413049359282ae04da019b40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL088f3c5de793450a8562a23df695f391",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfe336081607b4d178a1ea0fcc1b75948-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb097d11516d34fcd8d9b38aba3c88037",name:"TPT - NL - AEM - Adwords - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9709053713a34ecbbfab86ef240da8d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3f32cf3f418b403e9049be34416546a3",name:"TPT - SG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8fdc02bfbb894e40be2b52c3d8047e60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda372a8938c34ae0bc942baca9210e41",name:"TPT - AU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb51df1f4205c44e0b1c82b89a5521231-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL135c9f55516e4c80b8928f10f5a257c4",name:"TPT - SI - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc13643dff1cf42869f52354f42f7b47a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce4bf5a6329f4f7b840df83d1d8467fd",name:"TPT - NZ - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe7c2f816d1594af7ad2f3c04758cc2b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3cc8f882ccd4a8a8ef7c00a6153bd57",name:"TPT - FR - AEM - StickyBar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/fr\\/voiture-neuve.html*",valueIsRegex:!0},{value:"\\/fr\\/stocklocator.html*",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7fab2d84a3374d81ad98a9137a921c28-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06e33ed173ba41e98b29d995df2c1a1c",name:"TPT - UK - AEM - GTagDC - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5b54b22aead743adbfce85c6b1704d37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60a183d5a6b147ba8d24834a61967c86",name:"TPT - DK - AEM - Adform - Firmabil Other Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-accordion--list-item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Bestil pr\xf8vetur i den BMW du dr\xf8mmer om",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC39602bfec41a4138a8111f10eb914a23-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc60d4e31ff934ca598df2440c65683ae",name:"TPT - NL - AEM - Adwords - My_BMW_Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"button expand"==this.className}catch(e){_satellite.logger.error("TPT - AT Custom condition floodlight - retriggering",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc9d4b80e50cc4ccabdabc121c98632d1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL21b03bc5e48c4867aa46770dbeb29118",name:"TPT - SG - AEM - Adform - Multiple - Save configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#disclaimer > div.h5vco-clearfix.ng-scope > div > ul > li:nth-child(2)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/configurator.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC839ad859a5fb495783320c7388972ef6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0e616f6a8765479c8017d16ec1b1f004",name:" TPT - IE - AEM - Gtag_DC - PHEV Build now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://configure.bmw.ie/en_IE/configure/G20/3SBO",
valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9405d60a73ad420d8f0d5042c0686418-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabecbf6724154a58b6f4ae63b58096fc",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9baf87464b874d2389b222094969c6d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a4b6b36cacb469dbaa0a3ae361b9f11",name:"TPT - RU - AEM - Solowey - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC81aa88ddca6f4b1db0207c52bd27d9cc-source.min.js",language:"html",isExternal:!0}}]},{id:"RL4875a06dd1f541a1ad4c631a9e5160c2",name:"DCR - All - AEM - AA - Bounce Timer",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bounce_timer"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",t)(s),0!=a.get("product").length){var n=a.get("product.-1.attributes.mmdr"),o=_satellite.getVar("setDefaultProductVariables");o.id=a.get("product.-1.attributes.mmdr"),o.category="vehicle",o.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),o.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),o.merchEvars.eVar10=n,o.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),s.products=o.toString()}s.linkTrackVars=s.apl(s.linkTrackVars,"products,prop1"),s.events=s.apl(s.events,"event976"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event976"),s.eVar34="nsc > bounce timer",-1==s.linkTrackVars.indexOf("eVar34")&&(s.linkTrackVars+=",eVar34");var i=_satellite.getVar("AA-componentDefaultValues");"digital checkout solution"==a.get("page.category.primaryCategory")?(s.prop1=s.pageName=r,s.eVar34="sales > bounce timer",s.prop1.indexOf("sales >")<0&&(s.prop1=s.pageName="sales > "+s.prop1)):i&&"configurator all models"==i.componentName?s.prop1=s.pageName="nsc > all-models-con-entry":s.prop1=s.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r}catch(e){var c={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Bounce Timer"};_satellite.logger.error(e,c)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"bounce timer",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL5e1b7ba12cc34ec1ba38a7c5e6e76e9d",name:"TPT - HU - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcbc9f80c464c469099e9afa9d7c67489-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad3b9574a7c54c07adadbcab0d634a4a",name:"TPT - IE - AEM - GTagDC - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfdf5c42f27aa4ec9b2b7c0b4a1440c0e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23859b8b1f16491687e3d80583e702b8",name:"TPT - PL - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9ea0a61b12eb4f709aa6997a4f60ec57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdf903c2d922541e6b4068d14c8afe73f",name:"TPT - HU - AEM - TradeDesk - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdb272a488d8442d692921a80c0a27d66-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96ca28134c194f2fa933cf428c1e4208",name:"TPT - IE - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%pa_cat_subCategory01%",rightOperand:"TDA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2ed33164f79542fc92ed9590bf609f63-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6bb26f9edc124829ad7c58e6637e1818",name:"TPT - DE - AEM - Adobe Campaign Pixel - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4abd52bcdcf64f1f9693e5efdb92d4ad-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7b1cadd502f401dad6016b231c0b8e5",name:"TPT - HU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7e4ef74a5e6c4c36ae38743da2c384a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d88b1dec64e4e289b484869abdc3010",name:"TPT - ID - AEM - Facebook - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfbcafae85d1d46f3bc0948fbe6e3e27d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL809402150567435b84ac6e2987029a83",name:"TPT - RO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbf7d58b6eb5e4543ae0f23b78f7450cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLed834d88351641558ac671ab5f96ee18",name:"DCR - All - NSC - AA - Cookie Consent Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"cookie_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=window.location.href;_satellite.getVar("setDefaultVariables",t)(s);var n,o=a.get("component.-1.componentInfo.componentName"),i=a.get("component.-1.componentInfo.componentID"),c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.cause"),u=a.get("event.-1.eventInfo.target"),b=a.get("event.-1.eventInfo.eventAction"),m=a.get("event.-1.category.primaryCategory"),f=(a.get("event.-1.category.eventSubCategory01"),a.get("event.-1.attributes.consentItemName"));if("Cookie drawer impression"==c)return!(s.abort=!0);s.prop1="nsc > "+a.get("page.pageInfo.pageName"),s.prop56="interaction",s.prop53=-1<c.indexOf("impression")?"automatic":"ux",s.eVar34="nsc > "+d,s.prop51=c,s.prop55=d,s.prop52=l,"accept consent"==c?(s.eVar22="accepted",s.prop50=f):"reject consent"==c?(s.eVar22="rejected",s.prop50=f):"detailed information"==c&&(s.eVar22="detailed information",s.prop50=f),"fallback"==a.get("event.-1.attributes.relatedComponentName")?(s.prop19="fallback",s.eVar136="2020 - 06- 15 fallback"):-1<r.indexOf("cookies.html")?(s.prop19="cookie policy page",s.eVar136="2020 - 06- 15 cookie policy page"):(s.prop19="cookie drawer",s.eVar136="2020 - 06- 15 cookie drawer"),s.prop42="nsc website",s.prop43="cookie consent",s.prop44=i,s.prop3=o,s.prop5=a.get("page.category.subCategory02"),s.prop2=a.get("page.category.pageType"),s.eVar134="web",s.prop54=m,s.prop57=b,s.eVar175=a.get("component.-1.attributes.variant"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar71=u,s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.linkTrackVars=s.apl(s.linkTrackVars,"prop1,prop2,prop5,eVar22,eVar34,eVar136,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop74,eVar17,eVar71,eVar134,eVar175");var p={global:"event917,event918,event941",strictlyNecessary:"event917,event918,event941",advertising:"event917,event918,event941",analytics:"event917,event918,event941",functional:"event917,event918,event941","consent impression":"event925,event926","consent content open: manual":"event917,event918","more information":"event917,event918","detailed information":"event917,event918","close cookie drawer":"event917,event918","Cookie drawer impression":"event925,event926","cookie drawer impression":"event925,event926","fallback impression":"event925,event926"};n="accept consent"==c||"reject consent"==c?s.apl(n,p[f]):s.apl(n,p[c]),s.events=s.apl(s.events,n),s.linkTrackEvents=s.apl(s.linkTrackEvents,n);var g=a.get("product.-1.attributes.mmdr"),v=_satellite.getVar("setDefaultProductVariables");v.id=g,v.category="vehicle",v.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),v.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar10=g,v.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),s.products=v.toString(),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar52,eVar60,eVar51,products")}catch(e){var h={from:"AA",type:"Rule",name:"DCR - All - NSC - All - AA - Cookie Consent Tracking"};_satellite.logger.error(e,h)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL2cbe566a912549a2a4929988e50db780",name:"TPT - JP - AEM - SmartNew - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC98bd9a045090496c8391e9a1ffe78fff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL171570513cbb48c0867eac95303b99a6",name:"DCR - All - AEM - AA - Central Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){function s(){a.prop1="nsc > "+l,a.prop42="nsc website",a.prop43="forms",a.prop19="central form",a.prop56="form",a.prop6="central form",a.eVar41=o.get("page.attributes.dealerName"),a.eVar42=o.get("page.attributes.dealerID"),a.eVar39=o.get("page.attributes.outletName"),a.eVar40=o.get("page.attributes.outletID"),a.eVar20=o.get("user.-1.segment.userSelectedCountry"),a.eVar23=o.get("user.-1.segment.userSelectedPreferredContactMethod"),a.eVar24=o.get("user.-1.segment.userSelectedGender"),a.eVar25=o.get("user.-1.segment.userSelectedYearofBirth"),a.eVar26=o.get("user.-1.segment.userSelectedCurrentVehicle"),"Form Start"==l?(a.eVar34="nsc > form started",a.prop8="form started"):"Form Success"==l?(a.eVar34="nsc > form finished",a.prop8="form finished"):(a.eVar34=-1!=l.indexOf("nsc >")?l:"nsc > "+l,a.prop8=l),a.prop53="central form",a.prop11=a.prop54=i.toUpperCase(),a.prop10="dedicated forms",a.prop16=l,a.prop17=p}function r(){var e=_satellite.getVar("setDefaultProductVariables").merchEvars;return-1<window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")?e.eVar53="new car":e.eVar53=o.get("product.-1.category.primaryCategory"),e.eVar52=o.get("product.-1.productInfo.productName"),e.eVar60=o.get("product.-1.productInfo.manufacturer"),e.eVar10=h,e.eVar51=o.get("product.-1.attributes.bodyType"),e.eVar50=o.get("product.-1.attributes.serie"),e}function n(e){switch(e){case"Form Start":var t={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98",Registration:"event93,event94,event3,event4"};a.events=a.apl(a.events,t[i]),a.linkTrackEvents=a.apl(a.linkTrackEvents,t[i]);break;case"Form Step":a.events=a.apl(a.events,"event7,event8"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event7,event8");break;case"Form Success":var s={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100",Registration:"event95,event96,event15,event16"};a.events=a.apl(a.events,s[i]),a.linkTrackEvents=a.apl(a.linkTrackEvents,s[i]);break;default:"Request"!=o.get("page.category.primaryCategory")&&"Requests"!=o.get("page.category.primaryCategory")||"start page"!=o.get("page.category.pageType")||"Error"==o.get("event.-1.eventInfo.eventAction")?"Request"!=o.get("page.category.primaryCategory")&&"Requests"!=o.get("page.category.primaryCategory")||"end page"!=o.get("page.category.pageType")||(s={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100"},a.prop8="form finished",a.events=a.apl(a.events,s[i]),a.linkTrackEvents=a.apl(a.linkTrackEvents,s[i])):(t={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98"},a.prop8="form started",a.events=a.apl(a.events,t[i]),a.linkTrackEvents=a.apl(a.linkTrackEvents,t[i]))}}try{var o=_satellite.getVar("snapshotDL"),i=o.get("page.category.subCategory01"),c=o.get("page.category.subCategory02"),d=o.get("page.category.subCategory03"),l=o.get("page.pageInfo.pageName"),u=o.get("event.-1.eventInfo.eventName"),b=o.get("event.-1.eventInfo.eventAction"),m=o.get("page.attributes.accessoryID"),f=o.get("product.-1.productInfo.productID"),p=o.get("transaction.transactionID"),g=o.get("page.attributes.accessoryName","generic"),v=o.get("event.-1.attributes.relatedComponent.componentInfo.componentName");if("small_teaser"==v||"multicontent"==v||"new_pre_configuration"==v||"offers"==v||"line_component"==v||"new_gallery"==v||"highlight"==v||"uxs-highlight"==v)return void(a.abort="true");a.events="",_satellite.getVar("setDefaultVariables",t)(a);var h=o.get("product.-1.attributes.mmdr");if("Form validation error"==u||"Error fallback page is shown"==u||"Back"==u||"Error fallback page"==l){if(s(),a.prop56="error",a.prop52=o.get("event.-1.eventInfo.cause"),a.eVar34=-1!=u.indexOf("nsc >")?u:"nsc > "+u,a.prop53="",a.prop8="",a.prop6="",a.prop11="",a.prop10="",a.prop16="",a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932"),"datalayer field missing"!=f){(I=_satellite.getVar("setDefaultProductVariables")).id=f,I.category="vehicle";var P=r();I.merchEvars=P,a.products=I.toString()}"Error fallback page"==l?a.prop56=a.eVar34="":"Back"==u&&(a.prop56="interaction",a.prop53="ux",a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918"))}else switch(i){case"Registration":case"CR":case"RFO":case"TDA":case"RFC":s(),"datalayer field missing"!=f&&((I=_satellite.getVar("setDefaultProductVariables")).id=f,I.category="service",(P=r()).eVar84=o.get("product.-1.attributes.fin.downPayment"),P.eVar85=o.get("product.-1.attributes.fin.mileage"),P.eVar86=o.get("product.-1.attributes.fin.monthlyPayment"),P.eVar87=o.get("product.-1.attributes.fin.term"),I.merchEvars=P,a.products=I.toString()),a.prop7="generic",n(l);break;case"RFS":s(),"datalayer field missing"!=f&&((I=_satellite.getVar("setDefaultProductVariables")).id=f,I.category="service",(P=r()).eVar84=o.get("product.-1.attributes.fin.downPayment"),P.eVar85=o.get("product.-1.attributes.fin.mileage"),P.eVar86=o.get("product.-1.attributes.fin.monthlyPayment"),P.eVar87=o.get("product.-1.attributes.fin.term"),I.merchEvars=P,a.products=I.toString()),a.prop7=c+">"+d=="datalayer field missing>datalayer field missing"?"generic":c+">"+d,n(l);break;case"RFA":s(),"datalayer field missing"!=m&&((I=_satellite.getVar("setDefaultProductVariables")).id=m,I.category="accessory",P=r(),I.merchEvars=P,a.products=I.toString()),a.prop7=g,n(l);break;case"RFI":s(),"datalayer field missing"!=f&&((I=_satellite.getVar("setDefaultProductVariables")).id=f,I.category="vehicle",P=r(),I.merchEvars=P,a.products=I.toString()),a.prop7="generic",n(l),"Download your brochure"!=u&&"Download"!=b||(a.prop56="interaction",a.eVar34=-1!=u.indexOf("nsc >")?u:"nsc > "+u,a.prop53="ux",a.prop6="",a.prop11="",a.prop10="",a.prop8="",a.prop16="",a.prop7="",a.events=a.events.replace("event15,event16,event47,event48,event55,event56",""),a.events=a.apl(a.events,"event917,event918,event903,event904"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event903,event904"),a.prop74="bmw .next - nsc|DCR - All - AEM - AA - Download")}"cr"!=a.prop4&&"CR"!=a.prop4||(a.prop4="campaign"),"cr"!=a.prop11&&"CR"!=a.prop11||(a.prop11="campaign",a.prop54="campaign");try{var C=document.getElementById("formrfo").getAttribute("gcdm-lead-context");if(-1!=C.indexOf("PREDOC-G26-BEVE-E")||-1!=C.indexOf("predoc-g26-beve-e")){a.prop11="roi",a.prop7=C;var j=o.get("product.-1.attributes.motorization",o.get("product.-1.attributes.engine"));if(j){var R=/[0-9]{3}[a-z]{1}/i,y=/xdrive[0-9]{2}[a-z]{1}/i,w=/sdrive[0-9]{2}[a-z]{1}/i,E=j.match(R)||j.match(y)||j.match(w);-1<j.indexOf("i3 (120 ah)")||-1<j.indexOf("i3 (120ah)")||-1<j.indexOf("i3 120ah")?j="i3 (120 ah)":-1<j.indexOf("i3s (120 ah)")||-1<j.indexOf("i3s (120ah)")||-1<j.indexOf("i3s 120ah")?j="i3s (120 ah)":E&&E.length&&(j=E[0].toUpperCase())}(I=_satellite.getVar("setDefaultProductVariables")).id="g26",I.category="vehicle",I.merchEvars.eVar10="G26",I.merchEvars.eVar56="e",I.merchEvars.eVar57="beve",I.merchEvars.eVar44=o.get("product.-1.attributes.productionYear"),I.merchEvars.eVar45=o.get("product.-1.attributes.yearOfRegistration"),I.merchEvars.eVar46=o.get("product.-1.attributes.vehicleStatus",o.get("product.-1.attributes.vehicleSelection")),I.merchEvars.eVar47=o.get("product.-1.productInfo.color",o.get("product.-1.attributes.color")),I.merchEvars.eVar48=o.get("product.-1.attributes.modelCode"),I.merchEvars.eVar49=o.get("product.-1.attributes.gearing"),I.merchEvars.eVar50=o.get("product.-1.attributes.series"),I.merchEvars.eVar51=o.get("product.-1.attributes.bodyType"),I.merchEvars.eVar52=o.get("product.-1.productInfo.productName",o.get("product.-1.attributes.modelName")),I.merchEvars.eVar53="model_navigation_hp"==o.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||-1<o.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")?"new car":o.get("product.-1.category.primaryCategory"),I.merchEvars.eVar54=-1<o.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")||"need analyzer"==o.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":o.get("product.-1.category.subCategory1"),I.merchEvars.eVar55=o.get("product.-1.category.subCategory2"),I.merchEvars.eVar58=j,I.merchEvars.eVar60=o.get("product.-1.productInfo.manufacturer"),I.merchEvars.eVar65=o.get("product.-1.attributes.modelName"),a.products=I.toString(),"form started"==a.prop8?(a.events=a.events.replace("event97,event98",""),a.events=a.apl(a.events,"event73,event74"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event73,event74")):"form finished"==a.prop8&&(a.events=a.events.replace("event99,event100",""),a.events=a.apl(a.events,"event75,event76"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event75,event76"))}}catch(e){_satellite.logger.error("css script error in Central Forms",e)}if(!a.products){var I=_satellite.getVar("setDefaultProductVariables");if(-1<window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")){var _=_satellite.getVar("setDefaultProductVariables").merchEvars;_.eVar53="new car",I.merchEvars=_}a.products=I.toString()}a.linkTrackVars+="events,prop42,prop52,prop43,prop4,prop74,prop19,prop56,eVar34,prop8,prop53,prop11,prop10,prop16,products,prop17,prop7,prop6,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar41,eVar42,eVar39,eVar40,eVar20,eVar23,eVar24,eVar25,eVar26,prop1,"}catch(e){var T={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Central Forms"};_satellite.logger.error(e,T)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%pa_cat_subCategory01%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3c846b0de86248d38a9078854d83d095",name:"TPT - ZA - AEM - Effectivemeasure - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf88cd5f197b24672afdb74c40b2888ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41227100f2064801a724c2c143499d6a",name:"TPT - BG - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe3bdfb3d208644a5b8d33c2aea8a5267-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL667bc250e7214c7d9516f3baede52a14",name:"TPT - FR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb57c54b81bd24de7962c93f029a688d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbae12974973549e7845daa81802ecda4",name:"TPT - DK - AEM - Doubleclick - Find BMW Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://bmwtilbehorsportal.bmw.dk/s/r?id=151"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC469b64614d6848e0aba8647b32339f2a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf31f63b9bb414f47a3eeab0167e79ca3",name:"TPT - ID - AEM - LinkedIn - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5c4a2828c4504366b23dbbb9567e1818-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa6bb9c9d8bc64160a550db4e9d972d55",name:"TPT - TH- AEM - Taboola - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa6ee78efc71a4a23a448ba0ca33686b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48c2166ea5d6461da4a150cff28caeb9",name:"TPT - RU - AEM - Submit Button Pixel - iFrame TDA Forms - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7fa38b82807947fcb83bd04fa46b5ad3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70c665904dcf4d0d9079124ad65df72d",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC42941297a6364f96be67f0cf46e6d2ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c12d8b942e540c98ca95914f4121559",name:"TPT - LU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0a36d61574e4490aab59e6b3ba34682c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83322d9be9f245af94826e2b82300eb1",name:"TPT - IT - AEM - Facebook - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{
modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7998be6e2eba4d2ab92f4104615f6c0e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd99200ec51a6461cbbdd8b3311937857-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e86aa9e3db1449ca57e0c0690279e46",name:"TPT - SI - AEM - Doubleclick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC564dfb54e35b4624abab857a53b3f642-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9fefae4776c4458bb9358fc500c0efd",name:"TPT - NL - AEM - Facebook - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc2af012340a644f086c1ce4fefe2e65f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL361ce464d2eb4620b63f441cfe542b94",name:"DCR - All - AEM - AA - Accessory Configurator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){function a(){s.prop56="interaction",s.prop53="success",s.eVar34=-1==i.indexOf("con >")?"con > "+i:i,s.prop54="accessory configurator",s.prop55="datalayer field missing",s.prop51=o,s.prop52=c,s.prop19=s.prop43="accessory configurator",s.prop42="configurator",s.linkTrackVars=s.apl(s.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop19,prop42,prop43")}function r(){s.prop56="form",s.prop53="central form",s.prop54="RFA",s.prop55=i,s.prop51="lead",s.prop52=c,s.prop6="central form",s.prop11="RFA",s.prop7="datalayer field missing",s.prop10="dedicated forms",s.prop18="lead",s.prop17="datalayer field missing",s.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,s.prop42="configurator",s.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,s.linkTrackVars=s.apl(s.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop6,prop11,prop7,prop10,prop18,prop17,prop19,prop42,prop43")}try{s.linkTrackVars="events,",s.linkTrackEvents="",s.events="";var n=_satellite.getVar("snapshotDL"),o=n.get("event.-1.eventInfo.eventName"),i=n.get("event.-1.eventInfo.eventAction"),c=n.get("event.-1.eventInfo.cause"),d=n.get("component.-1.componentInfo.componentName"),l=(n.get("component.-1.category.subCategory01"),n.get("page.pageInfo.pageName",n.get("event.-1.attributes.relatedPageName")));_satellite.getVar("setDefaultVariables",t)(s),s.prop57=n.get("event.-1.eventInfo.eventAction"),n.get("event.-1.eventInfo.eventPoints")&&parseInt(n.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(n.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(n.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(n.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+n.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=n.get("event.-1.eventInfo.eventPoints"),s.prop12=n.get("event.-1.eventInfo.timestamp"),s.prop52=n.get("event.-1.eventInfo.cause"),s.prop55=n.get("event.-1.category.subCategory01"),s.prop50=n.get("event.-1.eventInfo.element"),s.eVar71=n.get("event.-1.eventInfo.target"),s.eVar17=n.get("user.-1.profileInfo.visitorID"),s.eVar136="2020 - 06- 15 accessories configurator",s.prop27=n.get("page.pageInfo.pageID"),s.prop3=d,s.prop5=n.get("page.category.subCategory02"),s.prop2=n.get("page.category.pageType"),s.prop28="virtual"==n.get("page.category.pageType")?"virtual page":"",s.prop1=s.pageName=-1==l.indexOf("con >")?"con > "+l:l,s.linkTrackVars=s.apl(s.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop52,prop55,prop50,eVar71,pageName");var u=n.get("event.-1.attributes.mmdr",n.get("product.-1.attributes.mmdr")),b=n.get("event.-1.attributes.engine");if(b){var m=/[0-9]{3}[a-z]{1}/i,f=/xdrive[0-9]{2}[a-z]{1}/i,p=/sdrive[0-9]{2}[a-z]{1}/i,g=b.match(m)||b.match(f)||b.match(p);-1<b.indexOf("i3 (120 ah)")||-1<b.indexOf("i3 (120ah)")||-1<b.indexOf("i3 120ah")?b="i3 (120 ah)":-1<b.indexOf("i3s (120 ah)")||-1<b.indexOf("i3s (120ah)")||-1<b.indexOf("i3s 120ah")?b="i3s (120 ah)":g&&g.length&&(b=g[0].toUpperCase())}var v=_satellite.getVar("setDefaultProductVariables");v.id=n.get("event.-1.attributes.mmdr",n.get("product.-1.attributes.mmdr")),v.category="vehicle",v.merchEvars.eVar47=n.get("event.-1.attributes.colour"),v.merchEvars.eVar52=n.get("event.-1.attributes.productName",n.get("product.-1.attributes.modelName")),v.merchEvars.eVar60=n.get("event.-1.attributes.manufacturer",n.get("product.-1.productInfo.manufacturer")),v.merchEvars.eVar10=u,v.merchEvars.eVar51=n.get("event.-1.attributes.bodyType",n.get("product.-1.attributes.bodyType")),v.merchEvars.eVar54="new car"==n.get("product.-1.category.primaryCategory")?"build to order":"",v.merchEvars.eVar50=n.get("event.-1.attributes.serie",n.get("event.-1.attributes.series")),v.merchEvars.eVar55=n.get("product.-1.category.subCategory01"),v.merchEvars.eVar58=b,v.merchEvars.eVar65=n.get("event.-1.attributes.productName");var h=_satellite.getVar("setDefaultProductVariables");switch(h.id=n.get("event.-1.attributes.wishlist.-1").split("~")[2],h.category="accessory",h.events=["event856="+n.get("event.-1.attributes.wishlist.-1").split("~")[3]],s.events=s.apl(s.events,"event856"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event856"),v.append(h),s.products=v.toString(),s.linkTrackVars=s.apl(s.linkTrackVars,"products"),o){case"Model Selection":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event917,event918,event257,event253,event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event257,event253,event254"),a());break;case"ac start":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event917,event918,event251, event252, event253, event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event251, event252, event253, event254"),a());break;case"ac model update":"AC iFrame - AC Model Change Intention"==i&&(s.events=s.apl(s.events,"event917,event918,event258, event253, event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event258, event253, event254"),a());break;case"ac start after model change":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event917,event918,event251, event252, event258, event253, event254"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event251, event252, event258, event253, event254"),a());break;case"Summer Complete Wheels":case"Winter Complete Wheels":case"M Performance":case"Transport Solutions":"AC iFrame - Accessory Configurator Step"!=i&&"AC iFrame - Accessory Add"!=i&&"AC iFrame - Detail Click"!=i&&"AC iFrame - Visualisation Change"!=i&&"AC iFrame - Started wishlist Share"!=i&&"AC iFrame - Finished wishlist Share"!=i&&"AC iFrame - Download wishlist"!=i||(s.events=s.apl(s.events,"event253,event254,event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918"),a(),"AC iFrame - Finished wishlist Share"==i?(s.events=s.apl(s.events,"event905,event906"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event905,event906")):"AC iFrame - Download wishlist"==i?(s.events=s.apl(s.events,"event903,event904"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event903,event904")):"AC iFrame - Detail Click"==i?(s.prop53="ux",s.linkTrackVars=s.apl(s.linkTrackVars,"prop53")):"AC iFrame - Visualisation Change"==i?(s.prop53="ux",s.linkTrackVars=s.apl(s.linkTrackVars,"prop53")):"AC iFrame - Started wishlist Share"==i?(s.prop53="success",s.linkTrackVars=s.apl(s.linkTrackVars,"prop53")):"AC iFrame - Finished wishlist Share"==i?(s.prop53="success",s.linkTrackVars=s.apl(s.linkTrackVars,"prop53")):"AC iFrame - Download wishlist"==i&&(s.prop53="ux",s.linkTrackVars=s.apl(s.linkTrackVars,"prop53")));break;case"RFA: Selected Accessories":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),r(),s.eVar34="con > form started",s.prop8="form started",s.prop16="selected accessories",s.prop9="step 1/4",s.linkTrackVars=s.apl(s.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Personal Data":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918,event7,event8,event9,event10"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),r(),s.eVar34="con > form step 2",s.prop8="form step 2",s.prop16="personal information",s.prop9="step 2/4",s.linkTrackVars=s.apl(s.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Dealer Selection":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918,event7,event8,event9,event10"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),r(),s.eVar34="con > form step 3",s.prop8="form step 3",s.prop16="dealer locator",s.prop9="step 3/4",s.linkTrackVars=s.apl(s.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Legal Notice":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918,event7,event8,event9,event10"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),r(),s.eVar34="con > form step 4",s.prop8="form step 4",s.prop16="marketing consent",s.prop9="step 4/4",s.linkTrackVars=s.apl(s.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Finish":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),r(),s.eVar34="con > form finished",s.prop8="form finished",s.prop16="request success",s.prop9="request success",s.linkTrackVars=s.apl(s.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"AC full screen view":"iFrame - fullscreen"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918"),a());break;case"AC Toggle M Sport Package":"iFrame - toggle"==i&&(s.events=s.apl(s.events,"event253,event254,event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event253,event254,event917,event918"),a());break;case"ac error page":"AC iFrame - Accessory Configurator Step"==i&&(s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932"),s.prop56="error",s.prop53="error 404",s.pageType="errorPage",s.eVar34=i,s.prop54="datalayer field missing",s.prop55="404",s.prop51="datalayer field missing",s.prop52=c,s.linkTrackVars=s.apl(s.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,pageType"))}}catch(e){var P={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,P)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL4c291153d7814dcb89b33858cb27481b",name:"TPT - SE - AEM - Live Chat - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(avdelning\\/tj%C3%A4nster\\/finansiera|finansiering$)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC18b3dc743fc14c9abbc069664d5dfd71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9f96633d0c04488cb51c1114806ec86e",name:"TPT - NO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC083455c795124bdfae14e31b9ef9c994-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL99764c130fb34763b1217f596299dc62",name:"TPT - CZ - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb4ff453493eb46bf8deea587f849c7db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL04257ec7023445b4b1efa9b83fc06eef",name:"TPT - RO - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC491eaf3ee1f148c5b58995e15466ad78-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc60b2841cc4e47f689968dab074a4e8c",name:"TPT - UK - AEM - Facebook - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2f140de02e434cef9211ce644c5160a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf836f74c45d64ef4a25df27218f0ef4c",name:"TPT - IN - AEM - Munchkin - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfbe5c3bd467b42a58fa6ad0c0a03d8c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL26162f7adbb0416b89ec848ed9185e59",name:"TPT - FR - AEM - AB_Tasty - Forms - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/contact/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfd9d4a20d5db458892eb0f0dd5119cea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30ce20c1ba8749a4946f8ebfe399dd21",name:"TPT - HU - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC16d4952f79d2416bb9149c0413c03876-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda5d9e51a78f49bba0f3340bcd7a3b59",name:"TPT - FR - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2066153e1a7742f89bc9b8e277696dbf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36a97658b66e49bdb5e654436f2b2ec8",name:"TPT - AT - AEM - FacebookChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa606b19f4c9d4d7d9a3f089fe86b0a03-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14cff9a0f1fe4b1595ec2c1280a183de",name:"TPT - IE - AEM - Gtag_DC - PHEV Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC45999e9491e145339a68146f15089f08-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f41823c708645e9af371fade00e37e4",name:"TPT - JP - AEM - YDN - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb6d6bcb930834836ab2f5e946290a348-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7f27a0f0fc13449eb32f4f11e8caa5fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd0fc5b617a644ab5a614bb5c89644f5d",name:"TPT - DE - AEM - Linkedin - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC68baf1fb5b2043baaf4d15e7668e0d64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f5a896d4b594ec8b6caca0191165b7d",name:"TPT - DE- AEM - Adform - Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC890d4b08736c4353be31671fc26f066d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ec31306270a4c359ac095f360e55bfe",name:"PLR - All - AEM - AA - Trigger Central Forms",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcc1ba94278c64bc0b2c28b04895dd0cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf0eb5d70331147948993c3511cb6830c",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC19cbb43021fd46eda1a20b26c1f67db1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ad5d759db6c4d6985ddc12dd4ed781b",name:"TPT - CA - AEM - Facebook - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbc91985c484d4e4bb979f01b40f0b99a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a50ba868b6341b18f6192523cf7963f",name:"TPT - UK - AEM - Facebook - iFrame RFC Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb4a69c70b86c4b5d962962a8fe1ac10b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2a1abf041044f07b3336d127fd2e26b",name:"TPT - JP - AEM - EBiS - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe1b3e82f66d04188978bcb81a402d90c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL606e6adc00aa49e39544a8eb80a0862e",name:"TPT - NO - AEM - Doubleclick - Histrory Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4e030a61ad6d46a2b83d8d7297882755-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc74d8d786317475785740b38d50fb965",name:"PLR - All - NSC - All - Custom Code - Cookie Transfer",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-cookie-transfer",function(){t()})}catch(e){_satellite.logger.error("PLR: Cookie consent transfer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.in"],s=_satellite.getVar("topLevelDomain");return-1<t.indexOf(s)||"true"!=_satellite.getVar("splitConsentEnabled")}catch(e){var a={from:"AA",type:"Data Element",name:"AA-conWithoutConsentController"};_satellite.logger.error(e,a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc94a022143474057950e6b0d8a40f46e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22f3376df5c446c69c568929707178b9",name:"DCR - DE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa8f63a8ee9404c53a23e5978c15d6043-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL442dbe9368e34b98bacda5c87a0af519",name:"TPT - MY - AEM - Sizmek - Financing Rates From 0.33% (Test Drive Click) - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Test Drive",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/exclusive-offers/attractive-financing-rates.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1bb983659ad047dfa15e5ae6b9dc7bfb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0622a78c78164426973e45a36e000b11",name:"TPT - UK - AEM - Xandr - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6d1943c7c3374d0aacb058638fb71e5e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c8203a0935a4b3c9f0153bf60f39472",name:"TPT - DK - AEM - Adform - Kampagne Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Priser",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Specialmodeller",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Find forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd4956b5490b84a6eafccce13976f82db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa44ea34fb41f4847b785a4bdb69d2d54",name:"TPT - RO - AEM - DoubleClick - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdfb85888001e4143b5731b05c71752c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53eafa4dfc2e4d549160a049e03f4630",name:"TPT - KR - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9e620627d5954a418ba828940d1e3fa0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b51dd0b9d29489b81971460bec3621f",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6027ae35b6bd4bf7843b6586923bd535-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89a378ce81204d42b5949beb14f16342",name:"TPT - DE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd5e19d060f86457ebba1df4da29699b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdda90dbb511c4da4a5dd75116c5813e2",
name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaa5b5920069040bc8deefdae1e9c6fb7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaf392a2fd1074ab7a6c57ddad049379f",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC990f7b8308b54930b219707db93ac08c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6e3daab00534e508960940065b1c67a",name:"TPT - AT - AEM - Facebook - BMW Lifestyle Collection - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/content/dam/bmw/marketAT/bmw_at/topics/offers-and-services/bmwlifestyle2020/BMW_Lifestyle_Catalogue_2020_1.pdf.asset.1600159738677.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-lifestyle-2020/bmw-lifestyle.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC93b42be440c94f75a4b855a6cc05f03b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a87a0cc237246e9a351377855920c47",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCabe1d4acd16242d7a03ba656276d0cb7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c1e59c37f624547af6515ba75bf2a60",name:"TPT - ZA - All Pages - Set Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC89312ea069f94ef490d7573cc5e0a3de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL212be179ab394d91b1169fed635c0517",name:"TPT - IE - AEM - Gtag_DC - PHEV View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/bmwoffers/bmw-3-phev/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1b95e9eb22af4266b75c8e73606fc650-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36405456f4344702a5991ed23b05c569",name:"TPT - PL - AEM - Adform - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa21e7a860a4b44438c313c57e5e4660f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL519a5fcdae3345ffb82012ce838787b5",name:"TPT - UK - AEM - GTagDC - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3c976bc0aee6431c85f5501cb4ab916c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL299343e669384571abc634557dfdeccc",name:"DCR - All - IFrame - AA - Local Forms 3CT",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.effect"),o=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.eventInfo.eventPoints"),a.get("event.-1.eventInfo.type")),i=a.get("event.-1.category.subCategory1"),c=a.get("event.-1.category.subCategory2"),d=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s),s.prop1=s.pageName=-1==d.indexOf("nsc >")?"nsc > "+d:d,s.eVar34=n,s.eVar9=a.get("iframeURL");var l,u={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},b=u[o.toLowerCase()],m=u[i.toLowerCase()],f=u[c.toLowerCase()];"nsc > form started"==n||"local > form started"==n?(l=s.apl(l,"event3,event4"),f!=undefined&&(l=s.apl(l,f[0])),b!=undefined&&(l=s.apl(l,b[0])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o&&"fs rfo"!=o&&"roi"!=o&&"rfi"!=o||m!=undefined&&(l=s.apl(l,m[0]))):"nsc > form finished"==n||"local > form finished"==n?(l=s.apl(l,"event15,event16"),f!=undefined&&(l=s.apl(l,f[1])),b!=undefined&&(l=s.apl(l,b[1])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o&&"fs rfo"!=o&&"rfi"!=o&&"roi"!=o||m!=undefined&&(l=s.apl(l,m[1]))):"nsc > form finish intention"==n||"form finish intension"==n||"local > form finish intention"==n?l=s.apl(l,"event917,event918,event13,event14"):"first form interaction"==n||"local > first form interaction"==n?l=s.apl(l,"event917,event918,event5,event6"):"form interaction"==n||"local > form interaction"==n?l=s.apl(l,"event917,event918,event9,event10"):-1<n.indexOf("form step")?l=s.apl(l,"event7,event8"):"form impression"==n?l=s.apl(l,"event925,event926"):"error"==r&&(l=s.apl(l,"event931,event932"));var p=a.get("event.-1.attributes.leadTime","0");l=s.apl(l,"event977="+p),s.events=s.apl(s.events,l),s.linkTrackEvents=s.apl(s.linkTrackEvents,l),s.eVar137=a.get("component.-1.category.application","aem6"),s.prop55=a.get("event.-1.category.subCategory1",a.get("event.-1.attributes.errorCode")),s.eVar23=a.get("page.attributes.marketingConsent"),s.prop6=s.prop53=s.prop54="local form",s.prop7=a.get("event.-1.category.subCategory1"),s.prop8=n,-1<s.prop8.indexOf("local > ")&&(s.prop8=s.prop8.replace("local > ","")),s.prop9=a.get("page.category.subCategory1"),s.prop10=a.get("page.category.subCategory2"),s.prop11=o,s.prop16=a.get("page.pageInfo.pageName"),s.prop17=a.get("event.-1.attributes.form.rfxID"),s.prop18=a.get("event.-1.category.subCategory2",a.get("event.-1.category.subCategory02")),s.eVar41=a.get("dealer.-1.dealerInfo.dealerGroupName"),s.eVar42=a.get("dealer.-1.dealerInfo.dealerGroupID"),s.eVar39=a.get("dealer.-1.dealerInfo.dealerOutletName"),s.eVar40=a.get("dealer.-1.dealerInfo.dealerOutletID"),s.prop42="locally developed",s.prop43="forms",((s.prop56="form")!=a.get("component.-1.category.subCategory01")&&"form"!=a.get("component.-1.category.subCategory1")||"aem6"!=a.get("component.-1.category.application"))&&"nsc > form finish intention"!=a.get("event.-1.eventInfo.effect")||"interaction"==r&&(s.prop6=s.prop53="adobe form"),"datalayer field missing"!=s.prop7&&"datalayer field empty"!=s.prop7||"form"==s.prop56&&(s.prop7="generic"),"datalayer field missing"!=s.prop55&&"datalayer field empty"!=s.prop55||"form"==s.prop56&&(s.prop55="generic"),"error"==r&&(s.prop56="error",s.prop6="",s.prop8="",s.prop55=a.get("event.-1.category.subCategory1"),s.prop53=a.get("event.-1.eventInfo.type"),s.eVar34=a.get("event.-1.eventInfo.effect"),s.prop52=a.get("event.-1.eventInfo.cause")),s.prop19="local form",s.eVar136=a.get("version"),s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(e){var g={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,g)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-eventType%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL6b3fd07b93794949b22d30f8596523d9",name:"TPT - TH - AEM - GtagAW - Download Brochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc4b8c14f7e54424c9f74d7455c34614e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL9027057ac71f49e58975d4ee01d68119",name:"TPT - DE - AEM - Facebook - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6b42b66b6e034dda9d59849f75e30a5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb3494447bd054606b5953c82c6728880",name:"TPT - SE - AEM - AdForm - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/avdelning/erbjudanden-varum%C3%A4rken/elbilar-plugin-hybrider/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5d5bc1bd50b54aa699178b438f0cf940-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b41854f5e7a45a0943209a70f28ca2d",name:"TPT - CH - AEM - GtagDC - OnlineBeratungFormularStart - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-main-wrapper.ds2-page--row-expanded > div:nth-child(8) > div:nth-child(2) > div",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC35769ffa7e3b4e6eb27d26699c245448-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81b51f278cd74304a88e9a9da572cffa",name:"TPT - BG - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC71722229db6d42cd9d2d5fe5776c7e44-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL31ab6af496c14e8d80cbd259d8c12901",name:"TPT - RO - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC28f722fe81b144b08106d1f1bf5186cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL119326db71bc441d9a9d368bc70bca7a",name:"TPT - MY - AEM - Amobee - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd225ecb782494a0b8aa9355a3e613d29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3ed5cf7afeef4e89935b7827461100ed",name:"TPT - AT - AEM - Facebook - iFrame TDA Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC77a1af0667414df18282a18298f14241-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c34b5310ab94eac912f95efe29f8da1",name:"TPT - FR - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5d52ecf13c0842118b8acef657da39f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9f10e8d1a97f47b2839f56aaadbcb843",name:"TPT - MY - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc0c7c636ccaa4b51a13f07f3aadaf652-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa4b230b09a824d4c95a5c33ca6061385",name:"TPT - CZ - AEM - Doubleclick - Configurator History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(s){_satellite.logger.error("TPT - CZ - DBM Tag Configurator Steps err \n",s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2be69716463f4bdc891940fb5f82ee13-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61429c8635e94cd28b8e9df4ec939edb",name:"TPT - UK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC02e592815fac412ea15857db24020543-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec493aeb73944537977474a92015c799",name:"TPT - IT - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdcbdff11da9a4bd09743e667f7d6661e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3b37278741d847668d129163bc8f959f",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8b64f417fc6e4271ae33e3d2d92c7e03-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5decb3d19d04b6bb8df72c45788850e",name:"TPT - NZ - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC93b0f931bb784339830e627904431903-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdf1097adc3744015b3c1fc0438544af7",name:"TPT - NL - AEM - Gtag DC/AW - iFrame - RFO Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9321c7dd28854fd5b79bf49acda7610a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb5bdb895c2b540cca726d4142874cbe3",name:"TPT - CA - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa553842acd6c424fa2f69639b1ea05a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7aa759b17a6545fa8783352b743f6def",name:"DCR - All - AEM - AA - My CE",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_interaction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=_satellite.getVar("smartPreviousValueManager"),n=a.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(s);var o=_satellite.getVar("setDefaultProductVariables");o.category="vehicle",o.merchEvars.eVar53="new car",o.merchEvars.eVar54="build to order",s.products=o.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),s.eVar135=a.get("page.pageInfo.devEnv"),s.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,r.update("pageName",s.prop1);var i=_satellite.getVar("AA-componentDefaultValues");s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop5=a.get("page.category.subCategory02"),s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop42=i.primaryCat||"datalayer field empty",s.prop43=i.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.cause"),u=a.get("event.-1.eventInfo.eventAction");s.eVar18="",s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop50=a.get("event.-1.eventInfo.element"),s.prop54=a.get("event.-1.category.primaryCategory"),s.prop57=u.replace("phone","p h o n e"),s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar71=a.get("event.-1.attributes.requestedURL"),s.eVar136="2020 - 06- 15 MyCE","MyCE Error"==c?(s.eVar34="nsc > "+d.replace("phone","p h o n e"),s.prop51=c.replace("phone","p h o n e"),s.prop52="datalayer field missing",s.prop53="backend 3rd party",s.prop55=l.replace("phone","p h o n e"),s.prop56="error",s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932")):(c=-1<c.indexOf("click")?c:c+" clicked",s.eVar34="nsc > "+c.replace("phone","p h o n e"),s.prop51=d.replace("phone","p h o n e"),s.prop52="default",s.prop53="ux",s.prop55=l.replace("phone","p h o n e"),s.prop56="interaction",s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")),s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59")}catch(m){var b={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,b)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL74a370e40e6f4b2388f5d2e40e0d1120",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe6fc90843d1449ae902c525f986cedee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL37fde9c6a00d4ddaa3b072d160688ffd",name:"TPT - IN - AEM - Lotame - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa09d65aa7ae849939453489769e9ed7d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdf851d4fd6dc4ea4b0f05c50d61e3413-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL85526493a3bb4934884fa86cfc8da24d",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC77e89ba72f204b45b21239128283e4cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4aa22f0f16447928052ca7f66f823ec",name:"TPT - AU - AEM - GTagDC - BMW Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.com/en-au/offers-and-services/corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2fe60d382cc74b1588620b58ff8fe7ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42a2a3d16a2d41bca4323fcc008ef158",name:"TPT - CH - AEM - Doubelclick - SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa39143906a694c77b8940303edb07209-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4e60001006fd45a7b74264cb180d6798-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL306fdc9e2997466cb56e81810ee3f4e5",name:"TPT - DE - AEM - Criteo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC23cc26860449486baf256844426be49a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLf9d274fb965942628cb03d64dd7ad65a",name:"TPT - IE - AEM - DoubleClick - Configurator Submit Button Confirmation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#h5vco-engine-selection-list > div > article > div.h5vco-next-button-container.h5vco-clearfix > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe3128771c3d345e799aeb90741f7fba2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e960c65a38f4737a9945cd8414017f5",name:"TPT - SG - AEM - LinkedIn - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb99b9f3745b843b99d905765ece9040a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41971d12e130414da5ca28dc0055a4e0",name:"TPT - IE - AEM - Gtag_DC - 5 Series Enquire Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/discover-enquire-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],
conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3e76333f9be346259a6a587e254e0dd4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72e734ee5c8b4da1a5058fe8bb88f26b",name:"TPT - FI - AEM - Adform - Vaihtoautot Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautohaku",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/premium-selection-vaihtoautot.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd895382846ed4130b77ad94bc648cd40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfccf9f60f1d24f4f85981d3ab644edec",name:"TPT - AT - AEM - SalesforceChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeac36ba2439b4623ab29f11bb8af36de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3956ab9e0ba34fd5b3b32e716b63129b",name:"TPT - KR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC58c200eb447a4b2ea1fec7b995acf0e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2a492e5b3b34abdb4cc9af3ddbfc45b",name:"TPT - BG - AEM - FX Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC622d1c2daff04e759b6fa26f7a157da4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d474c65983e4667ab994e023040ea54",name:"TPT - NO - AEM - Adform - Kampanjer series click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6cfd49a7790e466fb02292bc06b7f924-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4cb14789cf2642ea9fef6b0291458aea",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC72211eb6ec504bb4a7fcf292cad315b3-source.min.js",language:"html",isExternal:!0}}]},{id:"RL5348b163bc004f5693023f210e0fe462",name:"TPT - BG - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(s){_satellite.logger.log("TPT - BG - DBM Tag Configurator Steps err \n",s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd627c599831542749b394ffd885ae057-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL92dec669917a41069bfc1a35dd6906c8",name:"TPT - IE - AEM - Adwords - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbcafe127fe9b4158a4c94196b18fbf4f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbcf3c52da56847ac9b8317007c6025d4",name:"TPT - ID - AEM - Adwords - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC657f95f527d04e96913a4798f451f09c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf7bedaf837694d03b629475c1d5a8ec1",name:"TPT - AT - AEM - Doubleclick - Configure History Change - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCda6d10851e254b2ab251d225369086b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc72be11ffc3b4a098a345362b6e61f84",name:"TPT - JP- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf248d518c5484bf280760f29b154fe8a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9bcebaa6496a4cd0a70877887cc1f91c",name:"DCR - All - AEM - AA - Compare",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"compare_technical_data_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var a,r,n,o,c,d=_satellite.getVar("snapshotDL"),l=d.get("event.-1.attributes.linkedComponent.componentInfo");for(i=0;i<d.get("component").length;i++){var u=i.toString();d.get("component."+u+".componentInfo.componentID")==l&&(_satellite.logger.log("related component - "+u),r=d.get("component."+u+".componentInfo.componentName",d.get("event.-1.attributes.relatedComponentName",d.get("product.-1.attributes.relatedComponentName"))),a=d.get("component."+u+".componentInfo.componentID",d.get("component."+u+".componentInfo.componentId")),n=d.get("component."+u+".category.primaryCategory"),o=d.get("component."+u+".category.subCategory01"),c=d.get("component."+u+".category.componentType",d.get("component."+u+".componentInfo.componentType")))}s.prop55=d.get("event.-1.attributes.errorCode"),s.eVar151=d.get("event.-1.attributes.totalVehicleCount"),s.eVar34=d.get("event.-1.eventInfo.effect"),s.eVar34.indexOf("nsc >")<0&&(s.eVar34="nsc > "+s.eVar34),s.prop41=c,s.prop42=n,s.prop43=o,s.prop44=a,s.prop19=r,s.prop1=d.get("page.pageInfo.pageName"),s.prop1.indexOf("nsc >")<0&&(s.prop1="nsc > "+s.prop1),s.pageName=s.prop1,s.linkTrackVars+="prop1,pageName,prop19,prop41,prop42,prop43,prop44,prop55,eVar34,eVar151"}catch(e){var b={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Compare"};_satellite.logger.error(e,b)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"compare",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLa3921318e6ec4cf08369ca966e4ddb82",name:"TPT - DK - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC90c6284c24424442b8fc04875cd2bd27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6c7eae9344484be698ab3291f7eec309",name:"TPT - IT - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC12b6d3ba15e148dc80c34406cf574058-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe93d1a91372a4283b4a8f5c19636fd03",name:"TPT - NL - AEM - Bing - iFrame NSF Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfad2097fbd68488ba13e3ef27c5f6401-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL678cd3d9964243148cb2da221ea062d2",name:"TPT - FI - AEM - Doubleclick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2aebda941ba84599a31e6e49318350b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc1feca601f747ff9c17c4d6dbcf892c",name:"TPT - DE - AEM - Facebook - Dealer Call Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".phone>.tw-font-bmw-light.tw-text-grey-900",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/neuwagensuche.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5b784c0d4f2343778064c71ef8db101e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb54fc78ece04c2a852b3b7d17a90cf8",name:"TPT - NO - AEM - Adform - Kampanjer offer click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".pagelink.basecomponent.ds2-linklist--item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0def157418ea442793b36bcc561ddfdb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3610cb2e80b4cd88d1f495ecd9cf8d0",name:"TPT - NO - AEM - Adform - CON Open Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0af7f9347a064b7eaa946cbb45ece854-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e8c33d3c85641c78860de7b1a53503a",name:"TPT - ES - AEM - Inlab - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf3d08f80318641b8a67bfe04893c2ebe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL77d8ac266c264b218049c2d38df5e22a",name:"TPT - DE - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3a8bbd0942fd4600a5d7e982e29dc08d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC35481c1073534328986e6426c3ae4cba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfe377558f85f43bda6a60c1dc8394d5f",name:"DCR - All - AEM - AA - DCS Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.effect");if(a.get("event.-1.eventInfo.eventName"),s.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),s.eVar135=a.get("page.pageInfo.sysEnv"),s.prop1=a.get("page.pageInfo.pageName"),s.prop1.indexOf("sales >")<0&&(s.prop1="sales > "+s.prop1),s.pageName=s.prop1,s.prop4=a.get("page.category.subCategory1"),s.linkTrackVars+="prop4,",s.eVar34=a.get("event.-1.eventInfo.effect"),s.eVar34.indexOf("sales >")<0&&(s.eVar34="sales > "+s.eVar34),s.eVar151=a.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),s.eVar152=a.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),s.eVar153=a.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),s.eVar154=a.get("component.-1.attributes.referringComponent"),s.eVar155=a.get("cart.attributes.offerID"),s.eVar156=a.get("page.attributes.checkoutID"),s.prop42="vehicle sales platforms",s.prop43="indirect sales",s.prop19="digital checkout solution","sales > dcs: order submit success"==r){var n=a.get("page.attributes.purchaseID");s.events=s.apl(s.events,"purchase"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"purchase"),s.purchaseID=n}var o=_satellite.getVar("topLevelDomain");"mini.de"!=o&&"mini.fr"!=o&&"mini.be"!=o&&"mini.lu"!=o&&"mini.it"!=o&&"mini-int7.com"!=o||(s.prop13="mini"),s.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID"}catch(e){var i={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS Event"};_satellite.logger.error(e,i)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL378cb1761e1f4a5ab52e1473ec0ecebd",name:"TPT - IN - AEM - Search Tag - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC928e3411a0374fc29c2db24eeeaf2c1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL313c0db3949d4ac5ad20050364bc40ff",name:"TPT - IE - AEM - Gtag_DC - Configurator_Section_Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb9bd0e4021a848aba5cb420649a8e474-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2d6657bbf3d40e1b471dcecca93b428",name:"TPT - PL - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9c771f1c46ca482e89a4e3e1b0c28c5c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL49f8f7c7312e40f380216a7dd6291012",name:"PLR - FR - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfdc50e5c5df04289a4554b2741612cca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3cb84ed8b5b04dedb8f928f85adecfe3",name:"TPT - DK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa0753278b9544d7cb84d951b1e1b4429-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdf24e58e7653444d9804a258775dcd02-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b631654208d46ac8fade808bf332cca",name:"TPT - AT - AEM - Doubleclick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6e7aa42021064d0cbd4fb2bd4412db3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d9c23768e1e47489a3bd345e766f57b",name:"TPT - IT - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdf6bbf6d6fbb49f2b3296ffd2f61454a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb128332c816345858076b49cbe755718",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC36cf6f5a979d4de5bca6f2f392d768d1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe104bd6a28634f15967763bf47290d06",name:"TPT - AU - AEM - GTagDC - MINI Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.mini.com.au/corporatebenefits/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC30b5ec955f974f4cb7c033cb12c40e1c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f40d41a8e5a4a518e17832fb05ec992",name:"TPT - IE - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC60963cf50a024a73b0348b37192f2276-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1baf6490836640748f0f7e5baaf9c43c",name:"TPT - IE - AEM - Adwords - Dealer Locator Overlay Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/fastlane/dealer-locator.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1bfcd540ea4e455ebf636faedfc77a40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL91f7dcb8f9154032b7616028900f154f",name:"TPT - SG - AEM - Adform - PML Online Shop - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.tw-flex.tw-relative.tab-bar-content > div > div:nth-child(2) > div > div > div:nth-child(5) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7968877759c646cebe8884b1604fd2c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15df7348ba6240dca9a9dfe0e41a5f45",name:"TPT - UK - AEM - Xandr - RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC62778ee7ac9f4e9aade5c72d0ac28ccd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fbf5e0e56cb433eabe9a4286af7cd9c",name:"TPT - IE - AEM - Adwords - Book a Video Consultation - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/ssl/book-a-video-consultation.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6df3cedf7de0475b83377538bfe499c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5faee8a191d448f2bb422c766f7b8bab",name:"TPT - IT - AEM - Adform - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf238878282a44139ac25d541288c1edd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc5de6ae48844609b0246334783e3226",name:"TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCef827b1a5f584890a315d31bd4017b35-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3adbd9fdb6f14aa38f233fc9cc1fa79e",name:"TPT - MY - AEM - DoubleClick - Multiple pages -  PLR ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    var path = window.location.pathname\n    var axel = Math.random() + "";\n    var a = axel * 10000000000000;\n    var runDoubleClick = function (id,cat) {\n        var DCtag = document.createElement("img");\n        DCtag.src = "https://"+id+".fls.doubleclick.net/activityi;src="+id+";type=invmedia;cat="+cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=" + a + "?";\n        DCtag.width = "1";\n        DCtag.heigth = "1";\n        document.body.appendChild(DCtag);\n    }\n\n\n    if (path.indexOf("/en/all-models/x-series/x7/2021/bmw-x7-highlights.html") > -1) {\n        runDoubleClick("10773170","bmwx70");\n      runDoubleClick("11139025","bmwx70");\n    }\n\n} catch (e) {\n    _satellite.logger.error("TPT - MY - AEM - DoubleClick - BMW X7 - PLR");\n}',language:"javascript"}}]},{id:"RLc9f3273ffd4f4aaea6877d534ce5b377",name:"TPT - AT - AEM - Facebook - Pricelist Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/pricelists\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6a2f811c128a477eab765ac6d6d590b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba404e71b90649128e881666184d1623",name:"TPT - DK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCabfc802361d84aa88e5ed219bc728080-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e02d8891f23496694c614383e2cd489",name:"TPT - SE - AEM - Hotjar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2ba5c2b165f64a8f8144a90e317bc74c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe77663af37f3488f985f45607101fa8e",name:"TPT - UK - AEM - Sophus - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc5e8e660de8841e5b9f436e5ec26164c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb6a38b4be7c4bad9843c3099dd69e31",name:"TPT - SK - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0cbe160fe9fc4fd79c4171ead38723b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1806014b49d4a4e9b905628220e452d",name:"TPT - IE - AEM - Adwords - Get A Quote - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa83a324969ad44d7a8ab45deafe9fe3a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35ac95f6e9e94b6db3defb5a23f6e003",name:"TPT - IE - AEM - GTagDC - 2 Series Get Quote Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(1) > div > a[href="/en/redirect/discover-get-a-quote.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC80dd8a01726743989e2a93002fe26762-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL604fb6a7ace14764a8638008d38c7a1f",name:"TPT - SE - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2d50cb068d8e468f844b8873734a12e5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL935eaf4917db4f6ea50f982d9a1d9ca8",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1c534fc15aef4f9db8946899e0d6a6dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc22017d283cb438698a24a760ff7e688",name:"TPT - DK - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdc46c9a142524daeb8890f462105797f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL71e7d8e05ebf45569ceda53b2702248b",name:"TPT - NL - AEM - IgnitionOne - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC505b16910d5a4d98b8b6c7e9cd5800ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL105596ba8ac74ad880bc74c82b44b7c3",name:"TPT - SK - AEM - Daktela Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC314a2b72dd7047a28846e6378c6fbe81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7caceaf2688a44b0a25ae671d00a0e5e",name:"TPT - PT - AEM - Doubleclick - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7e884119e8c84d8394dc8379116d6795-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12a1908d61c54c5887f310d59b201628",name:"TPT - DE - AEM - Adobe Campaign Pixel - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC907586f62c614b6ba74e87865a26e9ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc859ecfba47243bdab22aeeffb5908ae",name:"TPT - SE - Multiple - Usabilla",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2fdd8a6ccb224577bc0448347a919a37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf550e64e19b2429d9be093b96e9ed522",name:"TPT - DE - AEM - Linkedin - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC814328e4e09240b09e4179622328ff5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL504417e5760d4b93a431de2c6c3957f4",name:"TPT - AU - AEM - Verizon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC31111e10a756455b9f1a820815d2c4f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL40a85c2a60e848da9816ff9f2934fc01",name:"TPT - IE - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"testdrive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9683477b27c346e6a62c2e5cefe104d4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdde8c24a83154baeb85aad9426c10c62",name:"DCR - All - AEM - AA - Onsite Search",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{s.linkTrackVars="events,",s.linkTrackEvents="",s.events="";var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.eventAction"),o=a.get("event.-1.eventInfo.cause"),i=a.get("event.-1.eventInfo.effect"),c=a.get("component.1.componentInfo.componentName"),d=a.get("component.-1.attributes.onsiteSearchResults"),l=(a.get("component.-1.attributes.onsiteSearchType"),a.get("component.-1.category.subCategory01"),a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")));_satellite.getVar("setDefaultVariables",t)(s),s.prop56="search",s.prop53="content",s.eVar34="",s.prop51=c,s.prop54="onsite search",s.prop55=d,s.prop19="onsite search",s.prop42="nsc website",s.prop43="search",s.eVar136="2021 - 02- 19 onsite search",s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.prop13="bmw",s.prop1=s.pageName=-1==l.indexOf("nsc >")?"nsc > "+l:l,s.prop28="simulated page"==a.get("page.category.pageType")?"virtual page":"real page",s.prop44=a.get("component.-1.componentInfo.componentID",a.get("event.-1.attributes.relatedComponentID")),s.eVar134="web",s.prop53="content",s.prop24=d,s.prop57=a.get("event.-1.eventInfo.eventAction"),s.prop52=o,s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.evar71=n,s.events=s.apl(s.events,"event331,event332"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event331,event332"),-1<a.get("page.category.primaryCategory").indexOf("Error")?(s.prop56="error",s.prop53="web links",s.eVar34="nsc > "+l,s.events=s.apl(s.events,"event925,event926,event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event925,event926,event931,event932")):"More Search Results"==r&&(s.eVar34="nsc > onsite search more results clicked",s.prop55=s.prop24=i,s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918"));for(var u=a.get("component"),b=0;b<u.length;b++)if(u[b].attributes&&u[b].attributes.onsiteSearch&&"General"===u[b].attributes.onsiteSearch){var m="true";break}if("true"==m){s.prop51=u[b].componentInfo.componentName,s.prop55=s.prop24=u[b].attributes.onsiteSearchResults,s.prop57=u[b].attributes.onsiteSearchType,s.eVar34="nsc > onsite search results shown",s.events=s.apl(s.events,"event925,event926,event331,event332"),s.prop44=u[b].componentInfo.componentID;var f=u[b].attributes.onsiteSearchTerm;s.linkTrackEvents=s.apl(s.linkTrackEvents,"event925,event926,event331,event332")}var p=_satellite.getVar("searchDefaultProduct"),g=_satellite.getVar("setDefaultProductVariables");g.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),g.merchEvars.eVar53="new car",s.products=g.toString(),s.products+=",search;search;;;;"+p+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+a.get("event.-1.attributes.onsiteSearch")+"|eVar33="+f,s.linkTrackVars=s.apl(s.linkTrackVars,"products,prop56,prop53,eVar34,prop51,prop54,prop55,prop19,prop42,prop43,eVar136,eVar17,prop13,prop1,prop28,prop44,eVar134,eVar34,prop24,prop57,prop52,prop58,eVar71")}catch(e){var v={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,v)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLfa0d1667bf7f48408890de5ec30044ee",name:"TPT - GR - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0e8acf1075884be4a6fcc5902f12df26-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5251db4276fa496293880fe67146e397",name:"TPT - TH - AEM - GtagAW - TDA Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4f4472c21c9a446a823fb875642e8008-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLb9b266aa0de64e22872c5ebe5197e2bb",name:"TPT - CA - AEM - Facebook - Configure Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/topics/details/bmw-ukl.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4661ebfd39bc466e8b15aa6b38bcf3b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3af1b8ac9c84f74b1460a3de6eac953",name:"TPT - DE - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5c8787b0ac894df2b2d8c8b2a6a9ceee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35a6d35ec9c24aed8b1392aa6b3591ac",name:"TPT - PT - AEM - Facebook - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"PT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC02e7f8b5d4534f0f8e79fe7f15839716-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbfd4ab53759146cd8b7834972b519b59",name:"TPT - ES - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9d49f2baf2f54584b8a20af8ce9b4bc7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa5627adcf6d34a569ae1ee5a02d8bf29",name:"TPT - MX - AEM - GoogleSearch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa0e63596d5564c0cb117cab8a6221b8d-source.min.js",language:"html",isExternal:!0}}]},{id:"RL96923fd234ea48908e84a0cd67a0db31",name:"TPT - FI - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0ec8ad42b30d471ab1357c1bc8d1ab68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8600e2b5e28d41c5900e192308d48543",name:"TPT - NL - AEM - Adwords - Local Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(a){try{window.addEventListener("message",function(e){if("undefined"!=typeof e.data&&-1<e.data.toString().indexOf("tracking-localform")){var t=JSON.parse(e.data),s=t.args[1];console.log(t),console.log(s),"tracking-localform"==t.methodName&&(_satellite.setVar("LocalFormEvent",s),a())}})}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC58277c9113914909bc1a37cfaccb2ae6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c9badaac20442afbbf82300d0a1c558",name:"TPT - MX - AEM - GoogleSearch - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC858057d0e9f04c5993025e0eaa68d555-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL665a97385fe9479f8853f7e00b7d83f5",name:"TPT - SE - AEM - Add Cookie - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0e26e8b6028a4856832c775cba7b528c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe21c09601d1142c2a9edba39347b6ffb",name:"TPT - UK - AEM - Xandr - RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC186de2809d2244cbb7343a784eb39616-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e112fed7d4e4caca48bd81c11518ca7",name:"PLR - ALL - NSC - AA - share Campaign with IUCP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    \n    function checkCampaignParameter(){\n      if (window.location.search && window.location.search != "") {\n        var campaignParameter = window.location.search;\n        campaignParameter = "campaignParameter:" + campaignParameter;\n        _satellite.logger.log("**INCOMING CALL TO IUCP, over**");\n        //var iframeContent = document.querySelector("#iframestage__columncontrol__par-4col__iframeadaptive");\n        var iframeContent = document.querySelector("#iframepar__iframeadaptive");\n        if(!iframeContent){\n          iframeContent = document.querySelector("#externalContentIFrame-iframeintegrationadaptive");\n        }\n        iframeContent.contentWindow.postMessage(campaignParameter, \'*\');\n      }\n    }\n\n    //&& self.location.href.indexOf(\'usedcar\') > -1 && (_satellite.getVar(\'topLevelDomain\') == "bmw.co.kr" || _satellite.getVar(\'topLevelDomain\') == "bmw.de")\n    if (self == top) {\n        self.addEventListener("message", function (event) {\n            //if (event.origin != "https://bps.bmw.com" && event.data != "IncomingCall") {\n            if (((event.origin.indexOf(\'bps.bmw.com\') < 0) && (event.origin.indexOf(\'mn.mini.com\') < 0)) && (event.data != "IncomingCampaignCall")) {\n                return;\n            }\n            _satellite.logger.log("**MESSAGE RECEIVED**");\n            checkCampaignParameter();\n        })\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "TPT",\n        type: "Rule",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}}]},{id:"RL1d51cefaccdb4d9998943699c0d5e709",name:"TPT - DE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf8b1600c6dbe44088fb24bc95d3d24f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a6a29723c4e422bb974227f16b30e5c",name:"TPT - IT - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC60fb0bccc081434b97c981ff10aa0c33-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89e85c03b93847d18d780e4d08a6a9a1",name:"TPT - NL - AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCccba6b505a054a1095bf9341da9ce83f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff4d8b83e43a451ab2602e264508694b",name:"TPT - SK - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaa40ed50662b4fda8e6cdf692e7baeed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcae4e34c6e9b4e5fae49ce446e57d350",name:"TPT - DE - AEM - Facebook - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd278f5ebe899459e89005ce467b6373b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLccd1386b4461485aa76a6547951badf2",name:"TPT - PT - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3a6cdf08f7624d05b9718f158f954911-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79c6a2b410f944a8be7503519ec5410f",name:"TPT - DE- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC30a4bd3a71894feca762a9caf5210589-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbde3c396f0ee4cfa851d7f8b793546b9",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC626cfa55eb82415a9f182931c0c663d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec6b528fc39d493f8d70994ec71531ea",name:"TPT - SE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0075d1ca35404622a82202e4acadf04e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6209076f05904e48b3efeef413b983fb",name:"DCR - ALL - NSC - AA - Ignition One Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ignitionOneTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);var a=t.detail&&t.detail.ignitionOneData?t.detail.ignitionOneData.eventType:window.ignitionone.eventType,r=t.detail&&t.detail.ignitionOneData?t.detail.ignitionOneData.formType:window.ignitionone.formType;r=r&&"contact"==r.toLowerCase()?"RFC":r,window.ignitionone.previousFormType=window.ignitionone.formType,window.ignitionOne=window.ignitionOne||{},window.ignitionOne=Object.assign(window.ignitionOne,window.ignitionone),delete window.ignitionone.previousFormType,_satellite.getVar("setDefaultVariables",t)(s);var n=_satellite.getVar("snapshotDL");switch(s.prop5="dedicated forms",s.prop6="ignitionOne",s.prop9="step 1/1",s.prop10=window.ignitionOne.isCombo?"combo forms":"dedicated forms",s.prop41="pop-up",s.prop42="locally developed",s.prop43="forms",s.prop53="ignitionOne",s.prop56="form","Impression"!=a&&"impression"!=a||(s.prop8="form started",s.prop16="ignitionOne form",s.eVar34="nsc > form started"),"Start"!=a&&"start"!=a||(s.prop8="first form interaction",s.prop16="ignitionOne form",s.eVar34="nsc > first form interaction"),"End"!=a&&"end"!=a||(s.prop8="form finished",s.prop16="request success",s.eVar34="nsc > form finished"),s.prop1=-1<n.get("page.pageInfo.pageName").indexOf("nsc > ")?n.get("page.pageInfo.pageName"):"nsc > "+n.get("page.pageInfo.pageName"),s.prop2="form",s.prop3=r,s.prop7="generic",s.prop11=r,s.prop19=r,s.prop28="virtual page",s.prop29=n.get("page.pageInfo.version"),s.prop54=r,s.eVar4=n.get("page.pageInfo.destinationUrl"),s.eVar135=n.get("page.pageInfo.devEnv"),a){case"Start":var o={TDA:"event5,event6",RFI:"event5,event6",RFC:"event5,event6",RFO:"event5,event6",ROI:"event5,event6","FS RFO":"event33,event34","not set":""};s.events=s.apl(s.events,o[r]),s.linkTrackEvents=s.apl(s.linkTrackEvents,o[r]);break;case"Impression":var i={TDA:"event3,event4,event85,event86",RFI:"event3,event4,event45,event46",RFC:"event3,event4,event33,event34",RFO:"event3,event4,event61,event62",ROI:"event3,event4","FS RFO":"event3,event4,event102,event103","not set":""};s.events=s.apl(s.events,i[r]),s.linkTrackEvents=s.apl(s.linkTrackEvents,i[r]);break;case"End":var c={TDA:"event15,event16,event87,event88",RFI:"event15,event16,event47,event48",RFC:"event15,event16,event35,event36",RFO:"event15,event16,event63,event64",ROI:"event15,event16","FS RFO":"event15,event16,event104,event105","not set":""};s.events=s.apl(s.events,c[r]),s.linkTrackEvents=s.apl(s.linkTrackEvents,c[r])}s.linkTrackVars+="prop1,prop2,prop3,prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop19,prop28,prop29,prop41,prop42,prop43,prop53,prop54,prop56,eVar4,eVar7,eVar8,eVar34,eVar135,prop33,eVar28,prop31,eVar14"}catch(e){var d={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,d)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Ignition One",linkType:"o"}},{
modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL2f531f374dc649339f7265b7d5447baa",name:"TPT - RU - AEM - Rambler - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6f46064336d64e7ab7f9b0f3c58b5f20-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2544936577e4c138dde4bbc662c4d8f",name:"TPT - CH - AEM - Adwords - SaveConfig - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[data-bm-safe-click="saveVehicleToGarage()"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd609ad0a45b448e0b0c4c9580a233be5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL51af6780835e42889ada95d841d873b8",name:"TPT - IT - AEM - Facebook - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2ec4c092fed74ee6835ffe662e718fb6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9059f94695b1454a8040a39d729dfed6",name:"TPT - SG - AEM - Adform - E- Offers and services - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-detail--interactive.large-6 > div > ul > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("TPT: Finance Offer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/ace2.0.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9ff2a8789d414083930d655b92e05b62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ee858de7c2241bf9b3c26cda83ae0af",name:"TPT - ES - AEM - Xander - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC59140d7decba439086303159fba9fa93-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb51bc1f786e4d879a5aad4f3327871a",name:"TPT - PL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC391786b19fc442afa574c6f90bb14cd7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8f8f30488d04ea39f36efe27e71cb09",name:"TPT - AT - AEM - IgnitionOne - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC525c6b82cd654a60b2ac6e1d9a75e29c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f63a1f5842549718f68e213cb0829e9",name:"TPT - PL - AEM - LiveChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC098b86e7defa47ec9f3c31a8def2ded7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd660dde1e964082920e3a4f368c6aac",name:"DCR - All - AEM - AA - New All Models",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("snapshotDL");if(s.prop1=s.pageName=a.get("page.pageInfo.pageName"),s.prop1.indexOf("nsc >")<0&&(s.prop1="nsc > "+s.prop1),s.eVar34=a.get("event.-1.eventInfo.effect"),s.eVar34.indexOf("nsc >")<0&&(s.eVar34="nsc > "+s.eVar34),s.products)-1<s.products.indexOf("search")&&(r=_satellite.getVar("setDefaultProductVariables"),s.products+=r.toString());else{var r=_satellite.getVar("setDefaultProductVariables");s.products=r.toString()}s.linkTrackVars+="prop1,eVar34,products"}catch(e){var n={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - New All Models"};_satellite.logger.error(e,n)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all models",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLdff179bc846f492b999f7ce416eb1f2e",name:"TPT - BR - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8d30d31ed0bb4e36bb44f613d1ceec10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89192a06b54c4bdea0f83dd2855b8eb9",name:"TPT - CH - AEM - DoubleClick - ROI-SubmitForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'form[gcdm-lead-context="BMW_digital_ROI"] #brochure-submit[gcdm-form-submit]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfe0a94850a504628bde2bd855e73a509-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82fd716b49d442299e6e09efa1a0b02a",name:"TPT - AT - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC00abebbd14bf4632b5ddd6baffbf6e24-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4066a5aa6ec4766b13d54d458518187",name:"TPT - IE - AEM - QuantCast - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7e90be9096684fe285f32ee61d4f1c3f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b7dca3e3dcb43818364e3398729dad9",name:"TPT - TH - AEM - GtagAW - Link to Shop - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"shop.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd3ec4239a9ac4c57a35975ee9369f4cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd6c89a571734706924fa44e81443174",name:"TPT - NO - AEM - Adform - Firmabil Offer Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Salgskampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC41421d4059f24be48ff2b0645b57dda0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf9b082afcd8d4bef995b2da8c39cf8eb",name:"TPT - PL - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC40eedcc85148495b9317f2ee1edfb71d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e66cf8ea3264ec49139bb134ae2c4ae",name:"TPT - DK - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeb5abce1a0ea47318dbb5a401102b60d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70d2cda62ab94e70bbb66040b76369b1",name:"TPT - CA - AEM - Adwords - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC11b0d9f0b6174863a7d4bbcd57d773e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6e6c1f4efb6b47c3ab72f3e662a5e8f1",name:"TPT - DE - AEM - Outbrain - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC92f8b85e93bc42e287cf2787d035daf5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL129f9df10e054af694552f3e865f3795",name:"TPT - DK - AEM - Adform - Salesbar Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"DK"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0},{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8ec953424f544c6bbdc7bab3da7b1ee7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8da0f70da784d508651e1ff4d3041b7",name:"TPT - JP- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeee13bf0d77f497a8f95b720d58a41b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf82dd4f48d154c7bbb20a394c966da51",name:"DCR - All - AEM - AA - LCI",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"new_pre_configuration"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_image"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{s.linkTrackVars="events,",s.linkTrackEvents="",s.events="";var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.eventAction"),o=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),i=(a.get("component.-1.category.subCategory01"),a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"))),c=+new Date;if("small_teaser"!=(o=_satellite.getVar("snapshotDL").get("page.pageInfo.variant"))&&"multicontent"!=o&&"new_pre_configuration"!=o&&"offers"!=o&&"line_component"!=o&&"new_gallery"!=o&&"highlight"!=o&&"uxs-highlight"!=o)return void(s.abort="true");_satellite.getVar("setDefaultVariables",t)(s),"Close image"==n||"Open layer"==n||"Open navigation"==n||"Open showroom"==n||"Internal click"==n||"Open image"==n||"Open content"==n||"Outbound click"==n?(s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")):"Download"==n?(s.events=s.apl(s.events,"event917,event918,event903,event904"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event903,event904")):"Contact Form"==r?(s.events=s.apl(s.events,"event1,event2"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event1,event2")):"Call Center"==r?(s.events=s.apl(s.events,"event913,event914"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event913,event914")):"Start video"==n&&(s.events=s.apl(s.events,"event917,event918,event351"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event351")),s.prop19="virtual page"===o?"new car stock locator":a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop56="interaction",s.prop53="ux",s.eVar34="nsc > "+r+" clicked",s.prop52="default",s.prop1=s.pageName=-1==i.indexOf("nsc >")?"nsc > "+i:i,s.prop5=a.get("page.category.subCategory02"),s.prop2=a.get("page.category.pageType"),s.prop28="virtual"==a.get("page.category.pageType")?"virtual page":"",s.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop12=a.get("event.-1.eventInfo.timestamp",c),s.eVar71=a.get("event.-1.eventInfo.target"),s.prop50=a.get("event.-1.eventInfo.element"),s.prop54=a.get("event.-1.category.primaryCategory"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.prop3=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),s.prop55=a.get("component.-1.category.subCategory01"),s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID",a.get("component.-1.componentInfo.componentID")),"multicontent"==s.prop19?s.eVar136="2020 - 06- 15 multi_content":"new_pre_configuration"==s.prop19?s.eVar136="2020 - 06- 15 new_pre_configuration":"offers"==s.prop19?s.eVar136="2020 - 06- 15 showroom":"line_component"==s.prop19?s.eVar136="2020 - 06- 15 line_component":"highlight"==s.prop19||"uxs-highlight"==s.prop19?s.eVar136="2020 - 06- 15 uxs-highlight":"new_gallery"==s.prop19&&(s.eVar136="2020 - 06- 15 new_gallery");var d=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr",a.get("event.-1.category.mmdr"))),l=_satellite.getVar("setDefaultProductVariables");l.id=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr",a.get("product.-1.productInfo.productID"))),l.category="vehicle",l.merchEvars.eVar52=a.get("event.-1.attributes.productName",a.get("product.-1.attributes.modelName",a.get("product.-1.productInfo.productName"))),l.merchEvars.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),l.merchEvars.eVar10=d,l.merchEvars.eVar53="new car",s.prop51=a.get("event.-1.eventInfo.eventPoints"),s.products=l.toString(),s.prop74="bmw .next - nsc|dcr - all - aem - aa - lci","download"==t.identifier&&(s.events=s.apl(s.events,"event903,event904"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event903,event904")),s.linkTrackVars=s.apl(s.linkTrackVars,"products,prop19,prop44,prop56,prop51,prop53,eVar34,prop52,prop19,prop1,prop5,prop2,prop57,prop58,prop12,eVar71,prop50,prop54,eVar17,eVar136,prop55")}catch(e){var u={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,u)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"LCI",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLcd5846aab2b841d3b7a296e8e813d77e",name:"TPT - CH - AEM - GTagDC - Dealer Selector - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1a557973989d4955909a12c0a5ea5e97-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe117eb2b09574d3781aa6846b791a34b",name:"TPT - DE - AEM - ContentSquare - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdda6734333ba486c8d246afa26462298-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCac959efba1bb4379a14b0a3e5ccc628c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0bd9c9f33d074742b796dcb367a5aeda",name:"TPT - NO - AEM - Adform - Salesbar Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0},{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa681507d1ef24c35ade89f2be2246fec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd36bde6f00fe4fad8fb11d8bdd26d866",name:"TPT - IE - AEM - Gtag_DC - 5 Series Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/brochure-download.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa763050641094878adda7aed7aa46da4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa36fb5b4ed4b4f25adcb4a98332ce952-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4776b8792e784b298f499f80d9bd5159",name:"TPT - BE - AEM - Adwords - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.be"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCce9141001c91412dadc4b0a7ffbcb2c9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a1cd75c25ae49f2acce6a8b81883a3f",name:"TPT - CH - AEM - Adwords - SummaryDownloadPDF - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[bm-safe-click="downloadPDFPrint($event)"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC119f321196934c0cbd34190f432f8e1a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb74364729306499ca67fac3b6be39aae",name:"TPT - UK - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb7117d68f07a41e0ba579fd333af5533-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe620e7dfe2ca4a8faace672fac08a0ea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbad68833b44f41f79d5fc4637a7231f0",name:"EBR - CA - iFrame - AA - ACS Click Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(a){try{window.addEventListener("message",function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var s=JSON.parse(t.data);s.detail&&s.detail.custom&&Object.keys(s.detail.custom)&&Object.keys(s.detail.custom).length&&(_satellite.setVar("acs_event_data",s),a())}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}else _satellite.logger.log("no data in event object",t)})}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("acs_event_data").detail,r=a.event.length?a.event[a.event.length-1].eventInfo.eventAction:"datalayer field empty",n=a.event.length?a.event[a.event.length-1].eventInfo.eventName:"datalayer field empty",o=a.event.length?a.event[a.event.length-1].eventInfo.type:"datalayer field empty",i=a.event.length?a.event[a.event.length-1].eventInfo.timeStamp:"datalayer field empty",c=a.event.length?a.event[a.event.length-1].eventInfo.cause:"datalayer field empty",d=a.event.length?a.event[a.event.length-1].eventInfo.effect:"datalayer field empty",l=a.event.length?a.event[a.event.length-1].eventInfo.eventPoints:"datalayer field empty",u=a.component.length?a.component[a.component.length-1].componentInfo.componentID:"datalayer field empty",b=a.component.length?a.component[a.component.length-1].componentInfo.componentName:"datalayer field empty",m=a.component.length?a.component[a.component.length-1].category.componentType:"datalayer field empty",f=a.component.length?a.component[a.component.length-1].category.primaryCategory:"datalayer field empty",p=a.component.length?a.component[a.component.length-1].category.subCategory1:"datalayer field empty",g=(a.component.length&&a.component[a.component.length-1].category.subCategory2,_satellite.getVar("productBuilder")),v=_satellite.getVar("productBuilder");if(a.custom&&a.custom.event&&a.custom.event.length&&a.custom.event[a.custom.event.length-1].attributes!=undefined&&a.custom.event[a.custom.event.length-1].attributes.search!=undefined){var h=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].label:"datalayer field empty",P=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].term:"datalayer field empty",C=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].state:"datalayer field empty",j=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].unit:"datalayer field empty";g.category="vehicle",g.id="datalayer field missing",g.merchEvars={eVar31:C,eVar30:j,eVar32:h,eVar33:P?P.toString():P}}if(a.custom&&a.custom.product&&a.custom.product.length)for(var R=0;R<a.custom.product.length;R++){if(a.custom.product[R].category&&"service"===a.custom.product[R].category.productType){var y=a.custom.product[R].category.productType||"datalayer field empty",w=(a.custom.product[R].category.primaryCategory,a.custom.product[R].category.subCategory1,a.custom.product[R].productInfo.productName,a.custom.product[R].productInfo.productID||"datalayer field empty"),E=a.custom.product[R].attributes.fin.downPayment||"datalayer field empty",I=a.custom.product[R].attributes.fin.monthlyPayment||"datalayer field empty",_=a.custom.product[R].attributes.fin.term||"datalayer field empty",T=a.custom.product[R].attributes.fin.annualMileage||"datalayer field empty";g.category=y,g.id=w,g.merchEvars={eVar84:E?E.toString():E,eVar85:T?T.toString():T,eVar86:I?I.toString():I,eVar87:_?_.toString():_}}if(a.custom.product[R].category&&"vehicle"===a.custom.product[R].category.productType){var A=a.custom.product[R].category.productType||"datalayer field empty",k=a.custom.product[R].category.primaryCategory||"datalayer field empty",x=a.custom.product[R].category.subCategory1||"datalayer field empty",O=a.custom.product[R].productInfo.productName||"datalayer field empty",S=a.custom.product[R].productInfo.productID||"datalayer field empty",L=a.custom.product[R].productInfo.manufacturer||"datalayer field empty",V=a.custom.product[R].attributes.modelCode||"datalayer field empty",D=a.custom.product[R].attributes.hybridVersion||"datalayer field empty",M=a.custom.product[R].attributes.series||"datalayer field empty",F=a.custom.product[R].attributes.motorization||"datalayer field empty";if(F){var N=/[0-9]{3}[a-z]{1}/i,B=/xdrive[0-9]{2}[a-z]{1}/i,U=/sdrive[0-9]{2}[a-z]{1}/i,
q=F.match(N)||F.match(B)||F.match(U);-1<F.indexOf("i3 (120 ah)")||-1<F.indexOf("i3 (120ah)")||-1<F.indexOf("i3 120ah")?F="i3 (120 ah)":-1<F.indexOf("i3s (120 ah)")||-1<F.indexOf("i3s (120ah)")||-1<F.indexOf("i3s 120ah")?F="i3s (120 ah)":q&&q.length&&(F=q[0].toUpperCase())}v.category=A,v.id=S,v.merchEvars={eVar10:"datalayer field missing",eVar53:k,eVar54:x,eVar52:O,eVar60:L,eVar48:V,eVar57:D,eVar50:M,eVar58:F}}}s.prop44=u,s.prop19=b,s.prop41=m,s.prop42=f,s.prop43=p,s.prop56=n,s.prop57=r,(l="na"==l?"datalayer field empty":l)&&parseInt(l)&&!isNaN(parseInt(l))?(6e4<parseInt(l)?s.events=s.apl(s.events,"event970=60001",",",1):parseInt(l)<=0?s.events=s.apl(s.events,"event970=0",",",1):s.events=s.apl(s.events,"event970="+l,",",1),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event970")):s.prop58=l,s.prop53=o,s.prop12=i,s.prop52=c,s.eVar34=d,g.append(v),s.products=g.toString(),s.linkTrackVars+="prop44,prop19,prop41,prop42,prop43,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products"}catch(e){_satellite.logger.error("Error in EBR - CA - iFrame - AA - ACS Click Tracking: ",e)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL6b4bc912de7b4a1b8e325eb45147bdf9",name:"TPT - JP - AEM - Adform - iFrame RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8b217417d78f44f783d49b031ff939e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6895ebfc72de4be69dbb9895ebe2d281",name:"TPT - AT - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc7c674ccca604fdaa92c9c2d7029140c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc662293b1a5b4be49fd894d9a7ba981e",name:"TPT - GR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"GR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCab91a4b6929e4cccbeb6f54fbcf1f445-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8c98197ff0db449aab57795d2968ed55",name:"TPT - SK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbf3879d4c57b4cbdbfc67b840926ac5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4a38d3dcf88f48bf8bc66744fe82fc91",name:"TPT - IT - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.col-sm-3 a.car-version,div.col-sm-3 a.car-version span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/test-drive-now/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC64a86942a7114a9b956b686d249993c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c737891b02346a1b3b99fdd09e1eaf4",name:"TPT - NO - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf6700341ad6f41fa8939e016169c8420-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5701419677674b12a874e58d0ee99e77",name:"TPT - SE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa48bdd14b5034064af5d3d789c00cda8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41f0665af09c4d6faf79d6c2dd0b72b9",name:"PLR - DE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/neufahrzeuge/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb876f165cd474f6db783bab38bc698e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd0832554bbf5422698c6056ca65e2869",name:"TPT - ZA - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC51f61076bda44a7a8229edd58bb12e76-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63164b1714b849798664ed55de2ba78f",name:"TPT - BR - AEM - Adwords - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC49ca449fbbda48509e3fdcc62596f37c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8899662112d145208351e1b523bc5ff5",name:"TPT - CZ - AEM - Sklik - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC21435046181947138ad84c933b1cbcda-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL40eb14eb87724a8bbbbf91f51884ecc0",name:"TPT - ZA - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa7898c4dbc6d477fa0c6e482f526d087-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6db7ab547ec045a79f5d3d39cb110b80",name:"TPT - GR - AEM - Doubleclick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9f633880dcca409eaffb77a141767fd7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL788d36eb278b4e5cb5eed2d8bb770760",name:"TPT - TH - All Pages - Facebook",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("TPT: Facebook Pixel ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"TH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4c31baf069ca4692a3973d0150908661-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce0691d80e6040b48dbe7fda6da57abb",name:"TPT - PL - AEM - Facebook - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0c5fde2c3bfe4ad48fce76479a4ffdfe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5892cfd3ec17497ab736b0ef6d8e1a6b",name:"TPT - RU - AEM - DoubleClick - Started DLO - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0414\u0438\u043b\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0435\u0442\u044c"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe00b07a4149c48a89454fa3b08ecd8e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL465b06e6feda4c869503700d822a7e7a",name:"DCR - All - AEM - AA - Stock Locator Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s);var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.effect"),n=a.get("event.-1.eventInfo.eventName"),o=_satellite.getVar("smartPreviousValueManager");s.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),s.eVar135=a.get("page.pageInfo.sysEnv"),s.prop1=a.get("page.pageInfo.pageName"),s.prop1.indexOf("sl >")<0?s.prop1="stock > "+s.prop1:s.prop1=s.prop1.replace("sl >","stock > "),s.pageName=s.prop1,s.eVar34=a.get("event.-1.eventInfo.effect"),s.eVar34.indexOf("sl >")<0?s.eVar34="stock > "+s.eVar34:s.eVar34=s.eVar34.replace("sl >","stock > "),-1!=r.indexOf("/ssl/requests/rfo")||-1!=r.indexOf("/topics/offerte")||-1!=r.indexOf("contact.bmw.fr")?(s.events=s.apl(s.events,"event375,event376"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event375,event376")):"sl > start"==n&&(s.events=s.apl(s.events,"event371,event372"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event371,event372"));var i=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");if(s.prop42="stock locator",s.prop43=-1!=a.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,"virtual page"===i?s.prop19="new car stock locator":(s.prop19=-1!=a.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"central new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,o.update("pagePrimaryCategory",s.prop19)),void 0===r||-1==r.indexOf("banner slided right")&&-1==r.indexOf("vehicle details clicked")&&-1==r.indexOf("banner slided left")&&-1==r.indexOf("back")&&-1==r.indexOf("banner slided with pagination dot")&&-1==r.indexOf("ss : show vehicle details clicked")&&-1==r.indexOf("disclaimer layer closed")&&-1==r.indexOf("ss : see more vehicles clicked")&&-1==r.indexOf("show all vehicles")&&-1==r.indexOf("accordion")?void 0===r||-1==r.indexOf("search filter selected")&&-1==r.indexOf("dealer selection")&&-1==r.indexOf("sort lowest price")&&-1==r.indexOf("location selection")&&-1==r.indexOf("sort")?void 0===r||-1==r.indexOf("stock locator started")&&-1==r.indexOf("ss : similarity search started")&&-1==r.indexOf("disclaimer layer opened")||(s.prop53="automatic"):s.prop53="success":s.prop53="ux",s.products)-1<s.products.indexOf("search")&&(c=_satellite.getVar("setDefaultProductVariables"),s.products+=c.toString());else{var c=_satellite.getVar("setDefaultProductVariables");s.products=c.toString()}s.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,prop33,eVar28,prop31,eVar14,prop53,products"}catch(e){var d={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Stock Locator Event"};_satellite.logger.error(e,d)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stocklocator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLfdc67ae0b8b1494d9bd68d420085873e",name:"TPT - MY - AEM - Zendesk Chat - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9f12578de3334143ab57dfc33cd98b70-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL506fef605b0f403eb30e0e814001daa0",name:"TPT - LU - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa6b8e4b8c83845508ba3d087eeaddc4c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa87c24ac63d04119bf70fb8ac840a02b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3cf2b54a40b4fc68f2e539994ccddd6",name:"TPT - IE - AEM - Adwords - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9a19842ca5674e858d8f188975f7dd01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL52789f720ae142caa1ccf6ec12d36b9d",name:"DCR - All - AA - Custom Code - JS error tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_js_error"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.ch"],s=_satellite.getVar("topLevelDomain");return-1<t.indexOf(s)}catch(e){var a={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,a)}}}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{_satellite.getVar("setDefaultVariables",t)(s);var a=t.detail;s.prop56="error",s.prop53="component",s.prop57="call",s.eVar34=a.message,s.prop52=a.filename,s.prop54="js error",s.prop58=a.lineno,s.eVar71=a.filename,s.linkTrackVars=s.apl(s.linkTrackVars,"prop12,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,eVar34,eVar71"),s.events=s.apl(s.events,"event933"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event933")}catch(e){var r={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,r)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLbe5d2745f9e041e4ae944b9ee801bc0a",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC15adc1299e604e0daf42c41bad35637a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd0c091b8d47745a3aef3a467c74bb0ca",name:"TPT - ZA - AEM - Adform - Test Drive Click - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Book a test drive",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0e73c3bb613a491ea4197fe3ace9a577-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL403f0a8ad1c64732aee2e4ac3a5e7c96",name:"TPT - JP - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC354c9059ca5743bfa5585fe34ec8a893-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfabc18c90cb840e98194a5fcbe992490",name:"TPT - JP - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.co.jp/ja/topics/service-and-accessory/accessories/catalog/downloads.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2295d0dc087b4b908abcc2d5090226e3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf699b21fd3f94fe39912aba774a255c6",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Finance Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_finance_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0f38295eb8ba46669f1a0d93af235de7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbff655cdd24d4599bcc3c05c8b89dcf2",name:"TPT - IT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC13f3f89283544838804bba85aab9a924-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7088b60a3f0342a5b24adb0ee5102520",name:"TPT - IT - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1f9bbac5c22e4eb08b492137439dee26-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaee3de93204b4d57b47cc8b17ab35d47-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0dc60332d3eb48acb4f91fe9d0d1af09",name:"TPT - CA - AEM - RAPID RTC Online Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2631320010504a6b8f77ba5bc78bcc69-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC84485e5cf0b847b396de60ebbe6dc1f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c6121ce10ac4ff4bbb575446a0b5e2f",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC541e49cc81b44e579aa520bef4d189ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL406ff16f93234ee58489b6a496561ce8",name:"TPT - IT - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc7464e2c9f764e6f8639f71cf7fd71a6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2560c938ae1455ca7436b735365fb8d",name:"TPT - GR - AEM - SizmekAds - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC24b540a41be04b5e88492ae68eb076a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc3e74ed0169842d1be24769c506aecd7",name:"TPT - BG - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCca327a51ca11459da2f0af7c9a41871c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe587799e0d414155b92a87fd70350171",name:"TPT - JP - AEM - Adform - iFrame TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfd96eedc50bd47a99d241ceb549b6270-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdcb7244869694994ac1f2674558b777a",name:"TPT - NO - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC24c2c09afb0a4bfe99583115e010306f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa7aa265eadae49ce8966fb9be220ff3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca9ccedfd5d3481184b207cb9db1dd5c",name:"TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7bee80945d994d0d91a143266fcaeec7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d8b7a0b2cf043c28223fb70b9ced0ac",name:"TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title=dlo]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC49961b05a374458ba24314e82030aded-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL880aa4eb36aa4d5b8d1faaa7edd7bc15",name:"TPT - AT - AEM - Facebook - Alphabet Fleet Management CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.alphabet.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/fuhrparkmanagement.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5557a2948c5d454ca4004acf297ea0bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5789bfa052ce4830999d5dfe929c2b32",name:"TPT - NZ - AEM - DoubleClick - iFrame Form TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC53b816171acc4993b076b4426ceec3d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLebf24d8c4f6542e0962200f3c1e319b2",name:"TPT - NO - AEM - Adform - Services & Accessories - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5f9da7e8d2774a9bbd0f32f0deb426c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35758734848f4f3d9a19a37b7eff3b66",name:"TPT - SE - AEM - AdForm - Showrooms - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/",valueIsRegex:!0}]}}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC046322b203194ba896b7a9134bd88bed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e221909281441f6bde937ea47963d2f",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1 Pollyfill",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC981e03169f5945cda6a211eabfb510bd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL982db6c8d07e4de5beb7b7404c1d578c",name:"TPT - SE - AEM - AdForm - BMW i3 showroom - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/bmw-i/i3/2020/bmw-i3-overblick.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0c87a35018414897b117c94dc1195ecb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c4c2bddae714b62a5006391e0f1bb51",name:"TPT - HU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf96e18d079d0417aa9c23f6c8391d76e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL424630776de5422f8d063c84d91486ce",name:"TPT - SE - AEM - AdForm - BMW ix3 showroom overblick- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/x/iX3/2020/overblick.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1f11ce36c92f49ef94f3ac4b842fc64d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL02a4cc58cece4afca82d2fea2e06de97",name:"TPT - JP - AEM - TradeDesk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC534447e3708a4988ae9dcb3887334020-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a80ed4a1e9e43ea954a642b78fe0d55",name:"TPT - ES - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe28cbe99f0d2475e9fd25e73dbddb7e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL80ef16a4115f443cbbb69036a600482b",name:"TPT - SK - AEM - IgnitionOne - TDA Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfedb9d1285c34f778fdd6dde731e8d75-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd32a3280870d4f8d8451dd5445da669f",name:"TPT - NL - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0c2833c0098641d698a1644f00026a99-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39235fe8e5d34d01b585468d16aafdd6",name:"TPT - UK - AEM - GTagDC - Register for Updates Form Submit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2963_dc.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd45e639debf24c488df05188887e8bd4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa090f6a49ac74bb79c734c04c34490d1",name:"TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcad4f9b251b44fbb8404ebc9ddaf88a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcad1ac4ba6c1450990b11ff24feab2fb",name:"TPT - NL - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC13bfc810ac0240a4bd5c83ebaac19472-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce3625d1663e40c5a7a3a4109fe8461e",name:"TPT - DE- AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0a39ad4b22634aaa8d3e184207af868c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f0aaba3935f4c88bea51ef5a0e96433",name:"TPT - SI - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC62b9ed951c4f4b05b58564575ed04402-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7460ea955fe34c798dc5d1803e246e6b",name:"TPT - NZ - AEM - Facebook - CON Test Drive - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".h5vco-model-serie-range.h5vco-animate-range.ng-scope.normal",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"input",elementProperties:[{name:"name",value:"c-submit",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC02556eda80a042b98c236d4c710fa487-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbdf70597172342ce96a4fa42a27eca88",name:"TPT - RO - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC375b7a8e2ebe43fa9845f403ef77ed10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0eb9d819746d42bd80a533faa2a276cf",name:"TPT - GR - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCee649d69907146eb952a9863d177299a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL170199b5d4f6476e82fd5710a8f74c9a",name:"TPT - SG - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC95e57cc544ec4d38a0d523ed2841051c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3737369a19554cd3b3f53787f6f476d0",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2a604ec36c084a8e8dd2884a71707eb1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5d4782c7b4c41768e24005c9bf76824",name:"TPT - MX - AEM - Retargetly - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa6cdbf38559a48e3a64b90c89ab8a322-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL366b772fc5ec42d291dba197b4534b83",name:" TPT - IE - AEM - Gtag_DC - PHEV Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.ie/en/configurator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC095d1ba3622349058ac89b8d78950975-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc2f4a54e8a44c79a67a728c3595d98a",name:" TPT - IE - AEM - Gtag_DC - iX3 Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.buttonLarge.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/bmw-i/bmw-ix3/2020/bmw-ix3-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd2ae700e20704463964bb9b95350898d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc424c9b3a5c44dbe971939b5aff9cbb5",name:"TPT - CZ - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbb8ca84ea34845228d963685867ba630-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e973109ad0f4b05bceaa9cb8936bcd4",name:"TPT - BR - AEM - Facebook - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC69f295cc419d48879516470e0247f6af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6783221e842f4c028e18a185dfa505f7",name:"TPT - JP - AEM - Twitter - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC77b1cee9836143c181b51ff4b17c2e7d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61beffc29dd54f59882c46d8dd0a0be2",name:"TPT - NL - AEM - Bing - iFrame Forms FS RFO - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0af9e54faa594420b4833f96d154edc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7234113499014d4e928e6c5b0cc60735",name:"TPT - FI - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1d2ac7bcd920461baef19bd4d2679d05-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1cb0cb92fe94c41b65bc9ebd95ea798",name:"TPT - IT - AEM - GTagDC - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it_IT/home/shop/dcs/nuovi-veicoli/checkout/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcb5dd5f81ba04c4ebdac0032b6df6b54-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a1104b25f9a41928dea4f6947e2da38",name:"TPT - TH - AEM - GtagAW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc10e5413468647e8baa44eee5f3e0df5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL46865514419841fdac330a55fe42916b",name:"TPT - AU - AEM - DoubleClick - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6ea85993a9d044e1baf58b003ca625c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc449de8e40ae4ec9a528033c3a5ded43",name:"TPT - CH - AEM - DoubleClick - ContactForm-Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCab842529833749569d0149ea5cf0a4a6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2840009a18f468da326dc8ea23b545c",name:"TPT - BE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3df108de03ea40698475c39600c2a6e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4544ff0aae834bc4b034cef7595e8de5",name:"TPT - NO - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.no/no/ssl/finn-bmw-forhandler.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa1d40b7ddb0f4da887429843e9f6f6fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2d7db6a1bdd74be3b574abded896bb2b",name:"TPT - AR - AEM - Adwords - Click bot\xf3n mail Contact us - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"es/footer/footer-section/contact-us.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd60c6439ddf549f78f79ed9df4d99f48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff3fe5345ef24a30a0585b20515b41f6",name:"DCR - All - NSC - AA - Adobe Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TDA"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RFO"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.effect"),o=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.eventInfo.eventPoints"),a.get("event.-1.eventInfo.type")),i=a.get("event.-1.category.subCategory1"),c=a.get("event.-1.category.subCategory2"),d=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s),s.prop1=s.pageName=-1==d.indexOf("nsc >")?"nsc > "+d:d,s.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n;var l,u={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},b=u[o.toLowerCase()],m=u[i.toLowerCase()],f=u[c.toLowerCase()];"nsc > form started"==n?(l=s.apl(l,"event3,event4"),f!=undefined&&(l=s.apl(l,f[0])),b!=undefined&&(l=s.apl(l,b[0])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o||m!=undefined&&(l=s.apl(l,m[0]))):"nsc > form finished"==n?(l=s.apl(l,"event15,event16"),f!=undefined&&(l=s.apl(l,f[1])),b!=undefined&&(l=s.apl(l,b[1])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o||m!=undefined&&(l=s.apl(l,m[1]))):"nsc > form finish intention"==n||"form finish intension"==n?l=s.apl(l,"event917,event918,event13,event14"):"first form interaction"==n?l=s.apl(l,"event917,event918,event5,event6"):"form interaction"==n?l=s.apl(l,"event917,event918,event9,event10"):-1<n.indexOf("form step")?l=s.apl(l,"event7,event8"):"form impression"==n?l=s.apl(l,"event925,event926"):-1<n.indexOf("error")&&(l=s.apl(l,"event931,event932"));var p=a.get("event.-1.attributes.leadTime","0");l=s.apl(l,"event977="+p),s.events=s.apl(s.events,l),s.linkTrackEvents=s.apl(s.linkTrackEvents,l),s.eVar137=a.get("component.-1.category.application","aem6"),s.prop55=a.get("event.-1.category.subCategory1",a.get("event.-1.attributes.errorCode")),s.eVar23=a.get("page.attributes.marketingConsent"),s.prop6="adobe form",s.prop7=a.get("event.-1.category.subCategory1"),s.prop8=-1==n.indexOf("nsc >")?n:n.substring(6),s.prop9=a.get("page.category.subCategory1"),s.prop10=a.get("page.category.subCategory2"),s.prop11=o,s.prop16=a.get("page.pageInfo.pageName"),s.prop17=a.get("event.-1.attributes.form.rfxID"),s.prop18=a.get("event.-1.category.subCategory2"),s.eVar41=a.get("dealer.-1.dealerInfo.dealerGroupName",a.get("dealer.-1.dealerInfo.dealerGroup")),s.eVar42=a.get("dealer.-1.dealerInfo.dealerID",a.get("dealer.-1.dealerInfo.dealerGroupID")),s.eVar39=a.get("dealer.-1.dealerInfo.dealerOutletName",a.get("dealer.-1.dealerInfo.dealerName")),s.eVar40=a.get("dealer.-1.dealerInfo.outletID",a.get("dealer.-1.dealerInfo.dealerOutletID")),s.prop42="nsc website",s.prop43="forms",((s.prop56="form")!=a.get("component.-1.category.subCategory01")&&"form"!=a.get("component.-1.category.subCategory1")||"aem6"!=a.get("component.-1.category.application"))&&"nsc > form finish intention"!=a.get("event.-1.eventInfo.effect")||"interaction"==r&&(s.prop6=s.prop53="adobe form"),"datalayer field missing"!=s.prop7&&"datalayer field empty"!=s.prop7||"form"==s.prop56&&(s.prop7="generic"),"datalayer field missing"!=s.prop55&&"datalayer field empty"!=s.prop55||"form"==s.prop56&&(s.prop55="generic"),"error"==r&&(s.prop56="error",s.prop6="",s.prop8="",s.prop55=a.get("event.-1.category.subCategory1"),s.prop53=a.get("event.-1.eventInfo.type"),s.eVar34=a.get("event.-1.eventInfo.effect"),s.prop52=a.get("event.-1.eventInfo.cause")),s.prop19="adobe form";var g=a.get("page.pageInfo.pageName");if(-1!=g.indexOf("PREDOC-G26-BEVE-E")||-1!=g.indexOf("predoc-g26-beve-e")){s.prop11="rfo",s.prop7=g;var v=a.get("product-1.attributes.motorization",a.get("product.-1.attributes.engine"));if(v){var h=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,C=/sdrive[0-9]{2}[a-z]{1}/i,j=v.match(h)||v.match(P)||v.match(C);-1<v.indexOf("i3 (120 ah)")||-1<v.indexOf("i3 (120ah)")||-1<v.indexOf("i3 120ah")?v="i3 (120 ah)":-1<v.indexOf("i3s (120 ah)")||-1<v.indexOf("i3s (120ah)")||-1<v.indexOf("i3s 120ah")?v="i3s (120 ah)":j&&j.length&&(v=j[0].toUpperCase())}var R=_satellite.getVar("setDefaultProductVariables");R.id="g26",R.category="vehicle",R.merchEvars.eVar10="G26",R.merchEvars.eVar56="e",R.merchEvars.eVar57="beve",R.merchEvars.eVar44=a.get("product.-1.attributes.productionYear"),R.merchEvars.eVar45=a.get("product.-1.attributes.yearOfRegistration"),R.merchEvars.eVar46=a.get("product.-1.attributes.vehicleStatus",a.get("product.-1.attributes.vehicleSelection")),R.merchEvars.eVar47=a.get("product.-1.productInfo.color",a.get("product.-1.attributes.color")),R.merchEvars.eVar48=a.get("product.-1.attributes.modelCode"),R.merchEvars.eVar49=a.get("product.-1.attributes.gearing"),R.merchEvars.eVar50=a.get("product.-1.attributes.series"),R.merchEvars.eVar52=a.get("product.-1.productInfo.productName",a.get("product.-1.attributes.modelName")),R.merchEvars.eVar53="model_navigation_hp"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||-1<a.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")?"new car":a.get("product.-1.category.primaryCategory"),R.merchEvars.eVar54=-1<a.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")||"need analyzer"==a.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":a.get("product.-1.category.subCategory1"),R.merchEvars.eVar55=a.get("product.-1.category.subCategory2"),R.merchEvars.eVar58=v,R.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),s.products=R.toString(),"form started"==s.prop8?(l=s.apl(l,"event61,event62"),s.events=s.apl(s.events,l),s.linkTrackEvents=s.apl(s.linkTrackEvents,l)):"form finished"==s.prop8&&(l=s.apl(l,"event63,event64"),s.events=s.apl(s.events,l),s.linkTrackEvents=s.apl(s.linkTrackEvents,l))}s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(e){var y={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,y)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Adobe Forms",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLbcc32c24198b410f8be35917b9234774",name:"TPT - DE - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",
caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neuwagensuche.html",valueIsRegex:!0},{value:"/de/publicPools/search-results/search-results.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC2fa78e8504bf495db939d10b8d67a663-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8edbfcd174b2476cb771b93481961d20-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL057f42b7af42441c99c6d12e5095433a",name:"TPT - AU - AEM - Doubleclick - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5b80712aa50c4657af84141e3e8b77d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7bb43c8a34644826b956c000ca436a18",name:"TPT - DE - AEM - Adobe Campaign Pixel - BMW Submit Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formregistration .multistepline__submit div:nth-child(2) button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC561898ae165c4747893962c96a0e518d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL354c9e104fb044448d6a37a3feb2bce5",name:"TPT - IT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCfa57a3ee96a94da2b280bc0d92d76dc2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6de14020f4ac4fde9c66b064edb68254",name:"TPT - IE - AEM - Adwords - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC49cbe2c1a0b74858a97c7eeab0caf612-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7eb7e3560a754bdd889ea1ac21fbc6df",name:"TPT - HU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCec14ac292e12400c872fcc5c1a2cf57d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05f0e11859f543029760a4eacfafb673",name:"TPT - RU - AEM - RuTarget - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0f1099d9d4004965a3c31d78b5b25d78-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3df26236db04be48537c091ac381afe",name:"TPT - HU - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3975e0a866f946ecb45c4014a0391952-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c8c35505b3549f6834adf16d970446d",name:"TPT - AT - AEM - Adwords - Submit Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC54ce05683a284536bf9be40d489f246f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d91cc176c5c4b10b2d0657004a3352c",name:"TPT - CA - AEM - Doubleclick - Lifestyle Find a Retailer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tw-no-underline tw-m-0 tw-text-grey-900 tw-px-200 tw-text-400 tw-whitespace-no-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){return"Find a Retailer"===this.innerHTML}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-lifestyle.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCcd3154b8870444e39241380e11a7f66e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3f30382e8d1a4e65905a6e6a5c848422",name:"DCR - All - AEM - AA - Electric Range",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric_range_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric-range"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),r=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.effect"),o=a.get("event.-1.attributes.relatedPageName",a.get("page.pageInfo.pageName")),i=(a.get("event.-1.category.subCategory01"),a.get("product.-1.attributes.fuelType")),c=_satellite.getVar("AA-componentDefaultValues"),d=_satellite.getVar("smartPreviousValueManager");if(-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("flatMapping")(s),_satellite.getVar("setDefaultVariables",t)(s),s.prop1=-1==o.indexOf("nsc >")?"nsc > "+o:o,s.prop41=a.get("component.-1.category.componentType"),s.prop45=a.get("component.-1.category.componentVersion"),s.prop56=r,s.prop57=a.get("event.-1.eventInfo.eventAction"),s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n,s.prop52=a.get("event.-1.eventInfo.cause"),s.prop54=a.get("event.-1.category.primaryCategory"),s.prop55=a.get("event.-1.category.subCategory01",a.get("event.-1.category.subCategory1")),s.eVar71=a.get("event.-1.attributes.requestedURL"),s.prop42=c.primaryCat||"datalayer field empty",s.prop43=c.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID",a.get("event.-1.attributes.relatedComponent.componentInfo.componentID")),s.prop27=a.get("event.-1.attributes.linkedPage.pageInfo.pageID"),s.prop53=a.get("event.-1.eventInfo.type"),s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),"interaction"==r?(s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")):"error"==r&&(s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932")),s.products)-1<s.products.indexOf("search")&&(l=_satellite.getVar("setDefaultProductVariables"),s.products+=l.toString());else{var l=_satellite.getVar("setDefaultProductVariables");s.products=l.toString()}"tr > errors"!=s.prop56&&"error"!=s.prop56&&"error"!=s.prop53||(s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932")),s.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",d.update("pageName",s.prop1)}catch(e){var u={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Electric Range"};_satellite.logger.error(e,u)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"electric range",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL20d6de940ea8400285a2bcd1e8779724",name:"TPT - AT - AEM - Doubleclick - iFrame TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8d48332d7d0c49ee9cfd02783069dc5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc3128f65504a48d781f54c7c43b69b65",name:"TPT - IT - AEM  - Bing - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7213499a0b874b9c9c4520534acdc122-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b75a2f2780e44c8ad84e7253b0a1b1b",name:"TPT - RU - AEM - Doubleclick - Configurator Last Page - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div",elementProperties:[{name:"className",value:"h5vco-table-cell needsclick h5vco-nav-description h5vco-bold h5vco-clickable-text ng-binding"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC73fc2a4f63db4b60bc096c7b8d12bdd2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2ffefbbe97f4228a12db95c535f297e",name:"TPT - ES - AEM - Amazon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC671dc4655d1947ce806fe2ee0868c9bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1bd37e15617441beba0a4a9780c7d277",name:"TPT - DE - AEM - Adwords - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3844ffa5971142269ad5428902ca493b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd30088aa47234c49b34cfeea7e782a32",name:"PLR - DE - All Pages - Custom Script - New Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger",function(e){e.detail&&e.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&t()})}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n\n   \n            return rawScore = 1e3 / (1 + Math.exp(-i)), finalScore = Math.round(100 / (1 + Math.exp(-i))), _satellite.setVar("raw_score", rawScore + ""), _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n        function setCookie(e, i, o, r) {\n            var t = ""\n            if (o) {\n                var n = new Date\n                if (r) {\n                    switch (r) {\n                        case "m":\n                            n.setTime(n.getTime() + 60 * o * 1e3)\n                            break\n                        case "h":\n                            n.setTime(n.getTime() + 60 * o * 60 * 1e3)\n                            break\n                        case "d":\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                            break\n                        default:\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                    }\n                    t = "; expires=" + n.toGMTString()\n                }\n            }\n        \n            "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n        }\n\n        function getCookie(e) {\n            for (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n                for (var t = i[r];\n                    " " === t.charAt(0);) t = t.substring(1, t.length)\n                if (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n            }\n            return null\n        }\n\n        function getParsedCookie(e) {\n         var i=window.epaas.api.getPersistence(e);\n          //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        function check_device_type() {\n            navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? updateBucket(score_obj, "device_type", "mobile") : navigator.userAgent.match(/iPad|Android|Touch/i) ? updateBucket(score_obj, "device_type", "tablet") : navigator.userAgent.match(/Macintosh|Windows NT/i) ? updateBucket(score_obj, "device_type", "desktop"): updateBucket(score_obj, "device_type", "misc"))\n    \n        }\n\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_session_duration || 0\n            2 >= i ? updateBucket(score_obj, "new_session_duration", "leq2") : 39 >= i ? updateBucket(score_obj, "new_session_duration", "g2_leq39") : 97 >= i ? updateBucket(score_obj, "new_session_duration", "g39_leq97") : 198 >= i ? updateBucket(score_obj, "new_session_duration", "g97_leq198") : 379 >= i ? updateBucket(score_obj, "new_session_duration", "g198_leq379") : 811 >= i ? updateBucket(score_obj, "new_session_duration", "g379_leq811") : i >= 812 && updateBucket(score_obj, "new_session_duration", "g811")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "new_session_duration", "leq2") : 3 == r ? updateBucket(score_obj, "new_session_duration", "g2_leq29") : 40 == r ? updateBucket(score_obj, "new_session_duration", "g39_leq97") : 98 == r ? updateBucket(score_obj, "new_session_duration", "g97_leq198") : 199 == r ? updateBucket(score_obj, "new_session_duration", "g198_leq379") : 380 == r ? updateBucket(score_obj, "new_session_duration", "g379_leq811") : r >= 812 && (updateBucket(score_obj, "new_session_duration", "g811"), clearInterval(o)), i.new_session_duration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            \n            }, 1e3)\n        }\n\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_configurator_session_duration || 0\n            if (i && (70 >= i ? updateBucket(score_obj, "new_session_duration_configurator", "leq70")\t : 350 >= i ? updateBucket(score_obj, "new_session_duration_configurator", "g70_leq1350") : i >= 351 && updateBucket(score_obj, "new_session_duration_configurator", "g350")), (URL.indexOf("configure.bmw") > -1|| URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_configurator_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "new_session_duration_configurator", "leq70") : 71 == r ? updateBucket(score_obj, "new_session_duration_configurator", "g70_leq350") : r >= 351 && (updateBucket(score_obj, "new_session_duration_configurator", "g350"), clearInterval(o)), i.new_configurator_session_duration = r + "",/* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n             \n            }, 1e3)\n        }\n\n        function check_channel() {\n         \n            var e = getParsedCookie("v_reco_data")\n            \n            if (e.last_channel && "other" != e.last_channel) updateBucket(score_obj, "last_channel", e.last_channel)\n            else {\n                e.last_channel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.last_channel = "paid_search"\n                        break\n                    } if ("other" == e.last_channel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.last_channel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.last_channel = "display")\n                }\n                updateBucket(score_obj, "last_channel", e.last_channel)\n            }\n     \n        }\n\n       \n\n    function check_pageview_metrics() {\n     \n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.distinct_page_visits || {})),\n                t = 0,\n                n = !0,\n                a = !0\n      \n   var pathURL = window.location.origin+window.location.pathname\n           i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++ \n          2 > t ? updateBucket(score_obj, "distinct_page_category_visit", "leq1") : 2 == t ? updateBucket(score_obj, "distinct_page_category_visit", "eq2") : 4 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g2_leq4") : 7 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g4_leq7"): t > 7  && (updateBucket(score_obj, "distinct_page_category_visit", "g7"), t > 8 && (a = !1)), a && (e.distinct_page_visits= i,/*setCookie("v_reco_data", e)*/window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n)\n      \n       \n        }\n        function check_visitor_type() {\n            var e = getParsedCookie("v_reco_data")\n            e && updateBucket(score_obj, "user_type", e.user)\n          \n        }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                t = {},\n                n = {},\n                a = {},\n                s = {}\n            if (addDimension(s, "always_on", weight_value(-3.306582, 1)),\n\t\t\taddDimension(i, "leq1", weight_value(0)), \n\t\t\taddDimension(i, "eq2", weight_value(1.508367)),\n\t\t\taddDimension(i, "g2_leq4", weight_value(1.029871)),\n            addDimension(i, "g4_leq7", weight_value(1.56582)),\n            addDimension(i, "g7", weight_value(2.044301)),\t\t\t\n\t\t\taddDimension(o, "leq2", weight_value(0)), \n\t\t\taddDimension(o, "g2_leq39", weight_value(-0.404559)),\n\t\t\taddDimension(o, "g39_leq97", weight_value(1.405763)), \n\t\t\taddDimension(o, "g97_leq198", weight_value(2.783377)), \n\t\t\taddDimension(o, "g198_leq379", weight_value(3.148884)),\n\t\t\taddDimension(o, "g379_leq811", weight_value(3.724427)), \n\t\t\taddDimension(o, "g811", weight_value(3.744194)),\n\t\t\taddDimension(r, "leq70", weight_value(0)), \n\t\t\taddDimension(r, "g70_leq350", weight_value(-1.815608)), \n\t\t\taddDimension(r, "g350", weight_value(-1.578297)),\n\t\t\taddDimension(t, "new", weight_value(0)), \n\t\t\taddDimension(t, "returning", weight_value(0.487317)), \n\t\t\taddDimension(n, "mobile", weight_value(-0.203041)), \n\t\t\taddDimension(n, "misc", weight_value(0.869351)), \n\t\t\taddDimension(n, "tablet", weight_value(-0.672452)), \n\t\t\taddDimension(n, "desktop", weight_value(0)), \n\t\t\taddDimension(a, "paid_search", weight_value(-0.281859)), \n\t\t\taddDimension(a, "display", weight_value(0)), \n\t\t\taddDimension(a, "other", weight_value(-0.227608)), \n\t\t\taddDimension(score_obj, "distinct_page_category_visit", i), \n\t\t\taddDimension(score_obj, "new_session_duration", o), \n\t\t\taddDimension(score_obj, "new_session_duration_configurator", r), \n\t\t\taddDimension(score_obj, "user_type", t), \n\t\t\taddDimension(score_obj, "device_type", n),\n\t\t\taddDimension(score_obj, "last_channel", a), \n\t\t\taddDimension(score_obj, "intercept", s), \n\t\t\tcheck_device_type(), \n\t\t\tcheck_pageview_metrics() ,\n\t\t\tcheck_channel(),\n\t\t\tcheck_visitor_type(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(), \n\t//\t\tgetCookie("bmwdtm_hq_sid")\n               window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"}}]},{id:"RLb4b4bc6dc2954a1d9bd1a97b8546992e",name:"TPT - IE - AEM - Adwords - View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href^="https://discover.bmw.ie/bmwoffers/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb4dde701ea254bb58c2cb3fbebd397f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8b004123867c48b9b1d4b61f003d2541",name:"TPT - JP - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC96127bc66b9545a98327b418407a88e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbaf7aa499f544a11b87f50d7da37c6d3",name:"TPT - DE - AEM - Adform - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC68d78d71249344dfb759e18caec3634b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2d65bdf50bf14104868743137db700a6",name:"TPT - SI - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC02e73943a9824c398890e14d8664abda-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd07ef114fb64a829ffb4bce8fe1449c",name:"TPT - LU - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc5109d1e6b944b728100e7bc880e8cd1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd4e03a61a02842b5955323217aeca0b2-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC76bb845ce44c443d9a6e1e8a8f2b7659-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a88ae05099e41cfa6e5b4b52ab2e430",name:"TPT - NL - AEM - GtagAW - DCS PV - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb9f76178d68c4274a94c050e52be7a52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf1ef907554d4e4cabd0cc37c30b77c3",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC20d93dd7f5b84f1db1d15a84a5d75555-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5db20e245fb2469b9cd4fc3e04fb5dcb",name:"TPT - NL - AEM - GTag_DC - iFrame_NSF_Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8e24fbaba5cf47069dcf2829b3519b80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaeac7dc8566e475fb998f3364bb942db",name:"TPT - IE - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC889168a51b124b3c87292154464a4089-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL343b7e3920a94bcd9a72e4a15c8be4a3",name:"TPT - SK - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC341b3b7552d44a02a1416ee68d0d31ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae592a010e784de98ffb219a2f4a200d",name:"TPT - IT - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC43e6451b078041b493004ff85aafabde-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3381f95866cd4e748c620f3188c8f4dc",name:"TPT - JP - AEM - WebChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8424983180cc479fb62173eada34d5f9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC51c570cd97934c5e9953b19ac10b145c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc393d920f2ca4370a58b5b6260401d70",name:"TPT - UK - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC6aa8bba98c904d5cbc03a1e3659486b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL323644109a614440af3a03670e5529e9",name:"TPT - BG - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0ccfe47f0d364994bce65917aa0acf6f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab2b908e057e44978c5cf0fd43933d39",name:"TPT - DE- AEM - VariateTesting - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw\\.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC30572463fec9405dbc0f0cf1a0b1366d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9414b9f79112475c8298ecfceae74359",name:"TPT - IE - AEM - Gtag_DC - PHEV Book Virtual Appointment Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC884c2d29bcd3485db202ad8b74622770-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d7d65afc5b946db8b65c328ec701fb4",name:"TPT - SE - AEM - AdForm - Customer Supportr / After Sales - Accessories - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/bmw-faelgar-daeck.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/original-bmw-accessories-spring-summer.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/bmw-hoest-vinter-tillbehoer.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/lifestyle.html|/sv_SE/topics/service-and-accessories/bmw-tillbehor.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/m-performance-parts.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa37c6084f9ed4d1d8141de1aff7e5115-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42ba668dc70249289c2055fee01d5ed8",name:"TPT - HU - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC770bb486e257411f8e4a4ab487f94af9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe544149c29e5429db0120ddc6608375d",name:"TPT - UK - AEM - GTagDC - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3c898ce30bd743dda2e9e226c1b16ca3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe0ae7e7db8e6434d95bf98e87362a524",name:"TPT - SE - AEM - AdForm - Customer Supportr / After Sales - Services - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/avdelning/erbjudanden/service-workshop/bmw-service.html|/sv/avdelning/tj%C3%A4nster/service/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC8bc27250ff3140ae9627b5be480f79c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd6ccdac5e8fa4bdeaedfe0f274c5f4cb",name:"TPT - SE - AEM - AdForm - Business lease- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/hitta-kop/tjanstebil/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf984ccad3cfa413aa71703d15f22299e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL45c0b92a7b9e4d1b942221599046f3bb",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf2306da2a8ec46dd8e3550e239af8459-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48c54fa33df946a4abebaf67f5c0b707",name:"TPT - NL - AEM - Gtag - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0194b9052a9d4663917c85e165d34abf-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC021674b354fb479bb7e3fed64755d91e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ff2d548615f4eb19aaf2e8568a4ff9f",name:"TPT - BG - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCecc57fc25466422e9f91907178b35a6d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f3ebb81e554410fafea005547e227d5",name:"TPT - MY - AEM - GTag_DC - All Pages - PLR",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"  try {\n    var gTagElem = document.createElement('script');\n    gTagElem.async = true;\n    gTagElem.src = 'https://www.googletagmanager.com/gtag/js?l=gDataLayer&id=DC-11139025';\n\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(gTagElem, firstScript);\n\n    window.gDataLayer = window.gDataLayer || [];\n    window.gtag = function() {\n        gDataLayer.push(arguments);\n    }\n    window.gtag('js', new Date());\n    window.gtag('config', 'DC-11139025');\n\n    gtag('event', 'conversion', {\n    'allow_custom_scripts': true,\n    'send_to': 'DC-11139025/invmedia/bmwsi0+standard'\n  });\n\n} catch (e) {\n    _satellite.logger.error(\"TPT - MY - AEM - GTagDC - All Pages - PLR\", e);\n}\n   ",language:"javascript"}}]},{id:"RLac66d95cf28246ba93b0191c3d25de64",name:"TPT - GR - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/el/publicPools/success-pool/success-page-tda.business-forms.html|/publicPools/success-pool/success-page-rfo.business-forms.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe8952c64e3d549e49b6547724dcbfdaa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL541aaa0b31c6442e8a1eb05e4380dc82",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc2da2446ceb44832a916825173758cae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98fda840382d4cd08d47e461a23e8f20",name:"TPT - SE - AEM - AdForm - Private lease - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/hitta-kop/privat/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC81267aac0e1e43028128a0a7e3666c94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6f6c440eb6d647748fdf35ddf73ff149",name:"TPT - ZA - AEM - virtualPageOpenForThirdPartyRules - iFrame Forms TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe5478fc31ed9441e9ff51cb944f21009-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d4b72c6d9c94358a20b3673b66578e6",name:"TPT - HU - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdafece79bb2347098f1b55531ef22e1d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL000c99ac1d3845c781dd239519770220",name:"TPT - HU - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC27cd6304e9624167be0174ee93be9665-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ea4399f9f774af38d5a241141c2820c",name:"TPT - SK - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC775c9e2335fc4090a3372c0e0c1b8884-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL678cd7b20f3a4d0a9010ad9c40918c5f",name:"TPT - BG - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf91c38ebe00e499f8b6aab388b219b7f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01eeebe518ca4851aed0fc5cb85df571",name:"TPT - SG - AEM - Adform - Contact email - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon--email.ds2-icon.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/corporate-direct-sales/corporate-sales-overview.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc7c3e79933fb437f9a498c1f6864a3ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63ef06af7df248e185cf1e49d54718a1",name:"TPT - AT - AEM - Facebook - Form Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf8a1eb831d54427c9b3bf6152ded741b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9dbc32f7eeeb49aa9c257e3d6270572e",name:"TPT - FI - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf260543751a94d75b55d9df6f4dc8045-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b9e09fc84de4e269d4d4f8ad0feb912",name:"TPT - ZA - AEM - DoubleClick - Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form[id='bmw-form formstrap']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/G05/2018/testdrive",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC78d8d47735a04ea686d5817a7d487b18-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6a171110542d465ea42a00645d139d25",name:"TPT - GR - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdb5d2f384fad45439cada4dcdf05944a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24f880e024774c9e9d3de39e9d53250e",name:"TPT - RU - AEM - DoubleClick - Started Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC73c2aa16b3a04a11ba48bf4a4b6073f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL704cc7c4be294b65a3b1196102633f69",name:"TPT - NL - AEM - IgnitionOne - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC48db3ac78c104bcea3e43f83a2ab99b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06b2de7e97b24eafb24f6bec41c3648c",name:"TPT - CZ - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC65cfa81c0cfe4b5b96f5796cf1fe83c3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL161b983ed685412ba3e4a1bfc1de3e0d",name:"TPT - RO - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC97a271ff98ca4a708e46df399af66787-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a2cb75feb35433cae2c4f11e63b158b",name:"TPT - ZA - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC979d71305b964e2497a7b88bb66af309-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb8c8251ad2147dabdcb8ca66e4ed369",name:"TPT - DE - AEM - Adobe Campaign Pixel - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCff3029fb37e04fee9570902b69586595-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24655d271c89445bbf61de242c3c047f",name:"TPT - BG - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9dce8a5975da4d1fa20b86151ae0420d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbbb376fbf3b24d9caa196ec57d6534c4",name:"TPT - SE - AEM - AdForm - BMW i4 Showroom- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/bmw-i/i4/2021/bmw-i4-oversikt.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCf4e95a7f21d4426da5aa0fa7bf7d15d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b58a05235a541718fb901d905d410a7",name:"TPT - CZ - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeccf0461f39643c281fc3e5f2001a2a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d51bf4e7824446a9cbc7fd2237d792f",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCbff1d5cb23054d8d9f620ca93626c10d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7b3e7dfab0ee4daaafb6b6f8293d2172",name:"TPT - FR - AEM - ContentSquare - MINI DCS - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.fr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/shop/dcs",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC01dda025cb794663a9ea69a3a258d066-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL655fcb2093db4fc18b222c885d7a80e0",name:"TPT - DE - AEM - Facebook - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC09ae4c56a0c84290a9de77be5310b633-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8cfb912a7bb04778b69242eee93d6675",name:"TPT - GR - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0a0dc186942d44168205e14590a20948-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9400b39d280c4448ba18ef16f7b9043b",name:"TPT - CZ - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1f037f35749d4130a000eb87bd7ca768-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL248a3a523d484bb8abe26e2db8277606",name:"TPT - GR - AEM - DoubleClick - Adobe Form - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCeb1a94754658465986eb0ec0d20c2969-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9650870463314caab285de144e510bc1",name:"TPT - GR - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7b550708c11d4ccfa0a18435167d053e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9aa80729b5804afe9169ada76851b1bf",name:"TPT - GR - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0935a74f056b4ac89a37645147e4bea5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b6af56fc7b444a49662dedfc6bc22a5",name:"TPT - HU - AEM - GTagDC - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb9b261ed6f414dcfb460a865b9126792-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa53b944cbd53417a9cac0ce30985ef9d",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4b4358d315114f2ebe0c67d676fbc1ca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab13530b347f4951a6a6c4f1458f0caf",name:"TPT - SK - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC9a24b68a025c46118975bf2547020bac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL27d61f2c6e6d4a39b32f67d21b2c0dfe",name:"TPT - RO - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC302c1c2bab484947b7e9b867e6b34f97-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9ac186605ab45ed86bea77a849cf3ca",name:"TPT - SI - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC12f4db876b0e423290cfab133c32a009-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbea8207eb15e401a805c7c744e678de1",name:"TPT - DE - AEM - Adobe Campaign Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb50cc0f506804c4db61430b6a7059e98-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7487505bb4d4d8d990028def9df9607",name:"TPT - FR - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa511d8074ae24929b9af095491221136-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLffd6478f560e46e2b9a01d08afc07a16",name:"TPT - ES - AEM - TradeDesk - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCe1ecdf0abcb64c2d9346a41502268037-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc13fbd765a4446b3801f064cb84ebed7",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCaf68654983844e65a7ee4cba50292ac2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca956bde8515400ba287f1ebf076edb3",name:"TPT - RO - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC3ecb8b16c53b49e195781629f23025e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b20f0732f5c4c579ef32118fd0d9048",name:"TPT - GR - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd02de7b75cdf41458b22dbd49e8bd08b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcc340974677a44d2aa7ded705a87bd36",name:"TPT - HU - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC05fa4f7196ed448793bd74858012f1aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce07d10ea2994b84a20c2563b3ad0aa6",name:"TPT - SK - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC4cc26235ee85451c9884b82158462a26-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0365b1dc8fc44f73851398c681069cd1",name:"TPT - PT - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb08781473e0348b8b9c654c04133684b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf2bb219d9284c2cbcca8d4335b6df93",name:"TPT - SK - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC62dc8405443b4d1b97d1f96f58941909-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd35843ef9a7a4c1e85ed0bc86e806f6e",name:"TPT - CZ - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC14047220b4be4470b0f9f22b1b087d52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf71d03b15d884eb88208b9f6b0c0d684",name:"TPT - PL - AEM - Doubleclick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5b32d0021b6e4778ba1e0720ceb3458e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce13621a2d71447cb7bea3bf3fbf02a1",name:"PLR - DE - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:40},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger",function(e){e.detail&&e.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&t()})}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n            return rawScore = 1e3 / (1 + Math.exp(-i)), finalScore = Math.round(100 / (1 + Math.exp(-i))), _satellite.setVar("raw_score", rawScore + ""), _satellite.setVar("final_score", finalScore + ""), isScoreSame = prevScore != rawScore ? !1 : !0, isScoreSame || "true" != _satellite.getVar("isAdobeAnalyticsAllowed") || _satellite.track("send_reco_value"), prevScore = rawScore, finalScore\n        }\n\n        function setCookie(e, i, o, r) {\n            var t = ""\n            if (o) {\n                var n = new Date\n                if (r) {\n                    switch (r) {\n                        case "m":\n                            n.setTime(n.getTime() + 60 * o * 1e3)\n                            break\n                        case "h":\n                            n.setTime(n.getTime() + 60 * o * 60 * 1e3)\n                            break\n                        case "d":\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                            break\n                        default:\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                    }\n                    t = "; expires=" + n.toGMTString()\n                }\n            }\n            "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=bmw.de; path=/")\n        }\n\n        function getCookie(e) {\n            for (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n                for (var t = i[r];\n                    " " === t.charAt(0);) t = t.substring(1, t.length)\n                if (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n            }\n            return null\n        }\n\n        function getParsedCookie(e) {\n            var i = window.epaas.api.getPersistence(e);\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        function check_device_type() {\n            navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? updateBucket(score_obj, "device_type", "mobile") : navigator.userAgent.match(/iPad|Android|Touch/i) ? updateBucket(score_obj, "device_type", "tablet") : updateBucket(score_obj, "device_type", "desktop"))\n        }\n\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration || 0\n            7 >= i ? updateBucket(score_obj, "session_duration", "leq7") : 43 >= i ? updateBucket(score_obj, "session_duration", "g7_leq43") : 99 >= i ? updateBucket(score_obj, "session_duration", "g43_leq99") : 200 >= i ? updateBucket(score_obj, "session_duration", "g99_leq200") : 359 >= i ? updateBucket(score_obj, "session_duration", "g200_leq359") : 618 >= i ? updateBucket(score_obj, "session_duration", "g359_leq618") : i >= 619 && updateBucket(score_obj, "session_duration", "g618")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration", "leq7") : 8 == r ? updateBucket(score_obj, "session_duration", "g7_leq43") : 44 == r ? updateBucket(score_obj, "session_duration", "g43_leq99") : 100 == r ? updateBucket(score_obj, "session_duration", "g99_leq200") : 201 == r ? updateBucket(score_obj, "session_duration", "g200_leq359") : 360 == r ? updateBucket(score_obj, "session_duration", "g359_leq618") : r >= 619 && (updateBucket(score_obj, "session_duration", "g618"), clearInterval(o)), i.session_duration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            }, 1e3)\n        }\n\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.configurator_session_duration || 0\n            if (i && (45 >= i ? updateBucket(score_obj, "session_duration_configurator", "leq45") : 179 >= i ? updateBucket(score_obj, "session_duration_configurator", "g45_leq179") : 398 >= i ? updateBucket(score_obj, "session_duration_configurator", "g179_leq398") : 842 >= i ? updateBucket(score_obj, "session_duration_configurator", "g398_leq842") : i >= 843 && updateBucket(score_obj, "session_duration_configurator", "g842")), URL.indexOf("configure.bmw") > -1) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.configurator_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration_configurator", "leq45") : 46 == r ? updateBucket(score_obj, "session_duration_configurator", "g45_leq179") : 180 == r ? updateBucket(score_obj, "session_duration_configurator", "g179_leq398") : 399 == r ? updateBucket(score_obj, "session_duration_configurator", "g398_leq842") : r >= 843 && (updateBucket(score_obj, "session_duration_configurator", "g842"), clearInterval(o)), i.configurator_session_duration = r + "", /*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            }, 1e3)\n        }\n\n        function check_channel() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.last_channel && "other" != e.last_channel) updateBucket(score_obj, "last_channel", e.last_channel)\n            else {\n                e.last_channel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.last_channel = "paid_search"\n                        break\n                    } if ("other" == e.last_channel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.last_channel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.last_channel = "display")\n                }\n                updateBucket(score_obj, "last_channel", e.last_channel)\n            }\n          window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n           // setCookie("v_reco_data", e)\n        }\n\n        function getSiteSection(url) {\n            if (-1 == url.indexOf("configure.bmw") && -1 == url.indexOf("www.bmw.de/de/ssl/configurator.html") && -1 == url.indexOf("www.bmw.de/konfigurator") && -1 == url.indexOf("myconfig")) var hierarchyEvar = _satellite.getVar("hierarchyEvar")\n            for (var siteSectionObject = {\n                    "(url.indexOf(\'www.bmw.de/de/neufahrzeuge\') > -1)": "Showroom",\n                    "(url.indexOf(\'www.bmw.de/de/index.html\') > -1 || url.indexOf(\'www.bmw.de/de/home.html\') > -1)": "Index",\n                    "(url.indexOf(\'configure.bmw\') > -1 || url.indexOf(\'www.bmw.de/de/ssl/configurator.html\') > -1 || url.indexOf(\'www.bmw.de/konfigurator\') > -1 || url.indexOf(\'myconfig\') > -1 || url.indexOf(\'konfigurator\') > -1)": "Configurator",\n                    "(url.indexOf(\'/topics/\') > -1)": "Strategic Topics",\n                    "(url.indexOf(\'/gebrauchtfahrzeuge/\') > -1)": "Used Cars",\n                    "(url.indexOf(\'mein-bmw.html\') > -1)": "My BMW logged in area",\n                    "(url.indexOf(\'/landingpage/\') > -1)": "Landing Page",\n                    "(url.indexOf(\'/footer/\') > -1)": "Footer",\n                    "(url.indexOf(\'brand-switch-rfi\') >-1 || url.indexOf(\'rfi-type-switch-bmw.html\') > -1)": "Form RFI",\n                    "(url.indexOf(\'need-analyzer\') > -1)": "Need Analyzer",\n                    "(url.indexOf(\'/publicPools/search-results\') > -1)": "Internal Search",\n                    "(url.indexOf(\'rfo\') > -1)": "Form RFO",\n                    "(url.indexOf(\'bmw-partner\') > -1 || url.indexOf(\'dealer-locator\') > -1)": "Dealer Locator",\n                    "(url.indexOf(\'/brand-switch-tda\') >-1 || url.indexOf(\'tda\') > -1)": "Form TDA",\n                    "(url.indexOf(\'/service-zubehoer/\') > -1)": "Accessories and Services",\n                    "(url.indexOf(\'/login/\') > -1)": "Login Activation Page",\n                    "(url.indexOf(\'roi\') > -1)": "Form ROI",\n                    "((url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfc\') > -1) || ((url.indexOf(\'/ssl/formulare\') > -1 && (url.indexOf(\'rueckruf-anfordern\') > -1 || url.indexOf(\'/ssl/formulare/\') > -1))))": "Form RFC",\n                    "(url.indexOf(\'reset\') > -1 || url.indexOf(\'/login/reset\') > -1)": "Reset Password",\n                    "(url.indexOf(\'sport-events\') > -1)": "Sport Events",\n                    "(url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfo\') > -1)": "Form RFO",\n                    "(url.indexOf(\'/grosskunden-behoerden/\') > -1 || url.indexOf(\'/corporate-sales/\') > -1)": "Fleet",\n                    "(url.indexOf(\'/fastlane/\') > -1)": "fastlane",\n                    "(url.indexOf(\'connecteddrive\') > -1 || url.indexOf(\'connectedDrive\') > -1)": "Connected Drive",\n                    "(url.indexOf(\'/profile\') > -1)": "Profile",\n                    "(url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfa\') > -1)": "Form RFA",\n                    "(url.indexOf(\'lease\') > -1 || url.indexOf(\'leasing\') > -1 || url.indexOf(\'finanzieren-versichern\') > -1)": "Finance",\n                    "(url.indexOf(\'zubehoer\') > -1)": "Shop",\n                    "(url.indexOf(\'/trainingspool\') > -1)": "trainingspool",\n                    "(url.indexOf(\'home.html\') > -1)": "Home",\n                    "((url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfs\') > -1) || url.indexOf(\'/brand-switch-rfs/\') > -1)": "Form RFS",\n                    "(url.indexOf(\'www.bmw.de/de/ssl/login/logged_out_page.html\') > -1)": "Logout",\n                    "(url.indexOf(\'ssl\') > -1)": "ssl",\n                    "(url.indexOf(\'neuwagensuche\') > -1)": "Search",\n                    "(url.indexOf(\'mybmw\') > -1)": "Mybmw",\n                    "(url.indexOf(\'content\') > -1)": "Content",\n                    "(hierarchyEvar && hierarchyEvar.indexOf(\'all-models\') > -1)": "All Models",\n                    "(hierarchyEvar && hierarchyEvar.indexOf(\'error\') > -1)": "Error Page"\n                }, siteSectionKeys = Object.keys(siteSectionObject), i = 0; i < siteSectionKeys.length; i++)\n                if (eval(siteSectionKeys[i])) return siteSectionObject[siteSectionKeys[i]]\n            return "Not Defined"\n        }\n\n        function check_pageview_metrics() {\n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.pages_viewed || {})),\n                o = JSON.parse(JSON.stringify(e.site_sections_viewed || {})),\n                r = 0,\n                t = 0,\n                n = !0,\n                a = !0\n            i[URL] ? i[URL] += 1 : i[URL] = 1\n            for (var s in i) r++\n            3 > r ? updateBucket(score_obj, "distinct_pageview", "g0_leq2") : r >= 3 && (updateBucket(score_obj, "distinct_pageview", "g2"), r > 3 && (n = !1)), n && (e.pages_viewed = i, /*setCookie("v_reco_data", e)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)))\n            var d = getSiteSection(URL)\n            o[d] ? o[d] += 1 : o[d] = 1\n            for (s in o) t++\n            2 > t ? updateBucket(score_obj, "distinct_page_category_visit", "g0_leq1") : 2 == t ? updateBucket(score_obj, "distinct_page_category_visit", "eq2") : t > 2 && (updateBucket(score_obj, "distinct_page_category_visit", "g2"), t > 3 && (a = !1)), a && (e.site_sections_viewed = o,/*setCookie("v_reco_data", e)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)))\n        }\n\n        function check_visitor_type() {\n            var e = getParsedCookie("v_reco_data")\n            e && updateBucket(score_obj, "user_type", e.user)\n        }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                t = {},\n                n = {},\n                a = {},\n                s = {}\n            if (addDimension(s, "always_on", weight_value(-6.60318, 1)), addDimension(e, "g0_leq2", weight_value(0)), addDimension(e, "g2", weight_value(1.03603)), addDimension(i, "g0_leq1", weight_value(0)), addDimension(i, "eq2", weight_value(-.47664)), addDimension(i, "g2", weight_value(-.27858)), addDimension(o, "leq7", weight_value(0)), addDimension(o, "g7_leq43", weight_value(.93749)), addDimension(o, "g43_leq99", weight_value(2.01747)), addDimension(o, "g99_leq200", weight_value(2.52205)), addDimension(o, "g200_leq359", weight_value(2.81251)), addDimension(o, "g359_leq618", weight_value(2.86476)), addDimension(o, "g618", weight_value(2.9113)), addDimension(r, "leq45", weight_value(0)), addDimension(r, "g45_leq179", weight_value(.52377)), addDimension(r, "g179_leq398", weight_value(1.01499)), addDimension(r, "g398_leq842", weight_value(1.55684)), addDimension(r, "g842", weight_value(1.70535)), addDimension(t, "new", weight_value(0)), addDimension(t, "returning", weight_value(.5321)), addDimension(n, "mobile", weight_value(.4129)), addDimension(n, "tablet", weight_value(.56654)), addDimension(n, "desktop", weight_value(.88621)), addDimension(a, "paid_search", weight_value(-.14965)), addDimension(a, "display", weight_value(-.89081)), addDimension(a, "other", weight_value(0)), addDimension(score_obj, "distinct_pageview", e), addDimension(score_obj, "distinct_page_category_visit", i), addDimension(score_obj, "session_duration", o), addDimension(score_obj, "session_duration_configurator", r), addDimension(score_obj, "user_type", t), addDimension(score_obj, "device_type", n), addDimension(score_obj, "last_channel", a), addDimension(score_obj, "intercept", s), check_device_type(), check_channel(), check_pageview_metrics(), check_visitor_type(), check_configurator_session_duration(), check_session_duration(), getCookie("bmwdtm_hq_sid")) shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"}}]},{id:"RLd3a21bd93afe40e9823943239d9e1d40",name:"TPT - SI - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5e9dbfd417cc48b38313d3eb7ab84890-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd70c1219e3f7403fa6e05e5f30067917",name:"TPT - BG - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCb5afa4fc0b2a4caeb0d2024470e3b7c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde1dca7177e84caf934b32264ae5abe0",name:"TPT - SI - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCc89f3aa4b75e40dba95c6a72f3afa7fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac65d78e2f4d4156a38b7ccd70adc6d7",name:"TPT - NL - AEM - Facebook - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC60bcb942357b430aa61b87ab9a8ce4bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a4c713732794127ae095fa7e25d8f6c",name:"TPT - CZ - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCa7b6ce6d9b394a7ba015fc091d575f9b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC33de527118044abcbcf98f4175ff3550-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdeba6cc3d95e410b8ae8df3ad65e9dca",name:"TPT - HU - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCd960a2febb0344dda6d743babda8474d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6d3d7b5b5734ca292a24a495a0390a5",name:"TPT - SE - AEM - AdForm - BMW iX showroom - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/bmw-i/bmw-ix/2021/bmw-ix.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC872759bbc42f455d8d8ae2a8208eabfa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL785d154f1c2145ada892017f9dbb438f",name:"TPT - SG - AEM - Adform - E-Brochure Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download e-brochure",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/m-240i-coupe.html",valueIsRegex:!0},{value:"/en/all-models/2-series/activetourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/2-series/grantourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/6-series/gran-turismo/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/8-series/convertible/2018/bmw-8-series-convertible.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X4/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X5/2018/bmw-x5-at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2018/bmw-x7-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/bmw-m2-competition.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m3-sedan/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m4-coupe/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m5-sedan/2017/bmw-m5-competition.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC982c8afc4f8a44e58a9e725c1afbc9b3-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RLe7d73fca1150478e9a8ead5c38299c0f",name:"TPT - SK - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC771c667702ef4e9e89eac9e75dbd30af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe4d3db2be1404299844999edf44af9bc",name:"TPT - DE - AEM - ContentSquare - MINI DCS - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/shop/dcs/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCdb05836ebf41403a8976da02621ec2c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf6990d651900437faaa18e3308c61a25",name:"TPT - SI - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC485cf3684e854bacbd49ddf8a5a618dc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf738c19ae29440888ca3fdd99a07178d",name:"TPT - HU - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC0085e851da584b07a0b9d1281ffa766d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfaaca558d92a4c1fbc98285a8a904460",name:"TPT - RO - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC5c1e3823f1764fc58fc441c7773ce586-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb80a43e1dca4c45addd05d8e401127a",name:"TPT - SI - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC7157770fe24a4cdb8274d83d208a1c29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e4920189fdf47788ab6f29fbe63abc1",name:"TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC15162c1d5d8647f9aa2d30f367a553cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a93bc7952b84761a4d735dc0deca31c",name:"TPT - DE - FR - AEM - Usabilla - Adhoc Survey - DCS Cancel Reason",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RCba54afd2dcde424791c80d5708256172-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfdf157f51e414aaeb1b06e078c7983fa",name:"TPT - GR - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/5b29df823f56/RC1fe8cf54359c46c4aa68df94323c9b12-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function i(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(r){return!1}}function s(s){if(s.__esModule)return s;var a=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(e){var t=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(a,e,t.get?t:{enumerable:!0,get:function(){return s[e]}})}),a}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function r(t){var s=this.constructor;return this.then(function(e){return s.resolve(t()).then(function(){return e})},function(e){return s.resolve(t()).then(function(){return s.reject(e)})})}function d(e){return Boolean(e&&"undefined"!=typeof e.length)}function n(){}function o(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],p(e,this)}function l(a,r){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,c._immediateFn(function(){var t=1===a._state?r.onFulfilled:r.onRejected;if(null!==t){var s;try{s=t(a._value)}catch(e){return void b(r.promise,e)}u(r.promise,s)}else(1===a._state?u:b)(r.promise,a._value)})):a._deferreds.push(r)}function u(t,s){try{if(s===t)throw new TypeError("A promise cannot be resolved with itself.");if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if(s instanceof c)return t._state=3,t._value=s,void m(t);if("function"==typeof a)return void p(o(a,s),t)}t._state=1,t._value=s,m(t)}catch(e){b(t,e)}}function b(e,t){e._state=2,e._value=t,m(e)}function m(e){2===e._state&&0===e._deferreds.length&&c._immediateFn(function(){e._handled||c._unhandledRejectionFn(e._value)});for(var t=0,s=e._deferreds.length;t<s;t++)l(e,e._deferreds[t]);e._deferreds=null}function f(e,t,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=s}function p(e,t){var s=!1;try{e(function(e){s||(s=!0,u(t,e))},function(e){s||(s=!0,b(t,e))})}catch(a){if(s)return;s=!0,b(t,a)}}function g(e){return!0===ze(e)&&"[object Object]"===Object.prototype.toString.call(e)}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function P(e){return e.substr(0,e.indexOf("["))}function C(e,t,s){if(e.length&&We(t)){var a=e[0];if(1!==e.length){var r=e.slice(1);if(!h(a))return C(r,t[a],s);var n=t[a=P(a)];Array.isArray(n)&&n.forEach(function(e){return C(r,e,s)})}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=s(t[a]))}}if(window.atob){var j=document,R=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,E=t()?Object.assign:function(e){for(var t,s,a=i(e),r=1;r<arguments.length;r++){for(var n in t=Object(arguments[r]))y.call(t,n)&&(a[n]=t[n]);if(R){s=R(t);for(var o=0;o<s.length;o++)w.call(t,s[o])&&(a[s[o]]=t[s[o]])}}return a},I=window,_=function(e,t,s){var a,r=Array.isArray(t),n=Boolean(r&&e),o=document.createElement("a");if(o.href=e,(!/^https?:\/\/.*/.test(e)||!o.host)&&r){var i=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw i.code="dynamic_host_resolver_constructor_error",i}if(r&&-1===t.indexOf(o.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}var d=function(){if(null!=a)return a;if(n){var e=o.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),a="https://"+e}else a="";return a},l=function(e){return n&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},u={getTurbineHost:d,decorateWithDynamicHost:l,get isDynamicEnforced(){return r}};return I&&s.onDebugChanged(function(e){e?I.dynamicHostResolver=u:delete I.dynamicHostResolver}),u},T=function(e){var s=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){s.push({rule:t,event:e})})}),s.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},A="debug",k=function(t,e){var s=function(){return"true"===t.getItem(A)},a=function(e){t.setItem(A,e)},r=[],n=function(e){r.push(e)};return e.outputEnabled=s(),{onDebugChanged:n,getDebugEnabled:s,setDebugEnabled:function(t){s()!==t&&(a(t),e.outputEnabled=t,r.forEach(function(e){e(t)}))}}},x="Module did not export a function.",O=function(i,c,d){return function(e,t,s){s=s||[];var a=i.getModuleExports(e.modulePath);if("function"!=typeof a)throw new Error(x);var r=i.getModuleDefinition(e.modulePath),n=e.settings||{};!e.hasTransformedFilePaths&&r.filePaths&&(d(n,r.filePaths,e.modulePath),e.hasTransformedFilePaths=!0);var o=c(n,t);return a.bind(null,o).apply(null,s)}},S=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},L={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},V="\ud83d\ude80",D=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":V,M=!1,F=function(e){if(M&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(D),e!==L.DEBUG||window.console[e]||(e=L.INFO),window.console[e].apply(window.console,t)}},N=F.bind(null,L.LOG),B=F.bind(null,L.INFO),U=F.bind(null,L.DEBUG),q=F.bind(null,L.WARN),G=F.bind(null,L.ERROR),H={log:N,info:B,debug:U,warn:q,error:G,deprecation:function(){var e=M;M=!0,F.apply(null,Array.prototype.concat(L.WARN,Array.prototype.slice.call(arguments))),e||(M=!1)},get outputEnabled(){return M},set outputEnabled(e){M=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:N.bind(null,t),info:B.bind(null,t),debug:U.bind(null,t),warn:q.bind(null,t),error:G.bind(null,t)}}},K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z=a(function(a){!function(e){if(a.exports=e(),!!0){var t=window.Cookies,s=window.Cookies=e();s.noConflict=function(){return window.Cookies=t,s}}}(function(){function c(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var a in s)t[a]=s[a]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(d){function i(){}function s(t,s,a){if("undefined"!=typeof document){"number"==typeof(a=c({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var r=JSON.stringify(s);/^[\{\[]/.test(r)&&(s=r)}catch(e){}s=d.write?d.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var n="";for(var o in a)a[o]&&(n+="; "+o,!0!==a[o]&&(n+="="+a[o].split(";")[0]));return document.cookie=t+"="+s+n}}function t(t,s){if("undefined"!=typeof document){for(var a={},r=document.cookie?document.cookie.split("; "):[],n=0;n<r.length;n++){var o=r[n].split("="),i=o.slice(1).join("=");s||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var c=l(o[0]);if(i=(d.read||d)(i,c)||l(i),s)try{i=JSON.parse(i)}catch(e){}if(a[c]=i,t===c)break}catch(e){}}return t?a[t]:a}}return i.set=s,i.get=function(e){return t(e,!1)},i.getJSON=function(e){return t(e,!0)},i.remove=function(e,t){s(e,"",c(t,{expires:-1}))},i.defaults={},i.withConverter=a,i}return a(function(){})})}),W={get:z.get,set:z.set,remove:z.remove},Y="com.adobe.reactor.",Z=function(a,t){var r=Y+(t||"");return{getItem:function(t){try{return I[a].getItem(r+t)}catch(e){return null}},setItem:function(t,s){try{return I[a].setItem(r+t,s),!0}catch(e){return!1}}}},J="_sdsat_",$="dataElements.",Q="dataElementCookiesMigrated",X=Z("localStorage"),ee=Z("sessionStorage",$),te=Z("localStorage",$),se={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},ae={},re=function(t){var s;try{s=JSON.stringify(t)}catch(e){}return s},ne=function(e,t,s){var a;switch(t){case se.PAGEVIEW:return void(ae[e]=s);case se.SESSION:return void((a=re(s))&&ee.setItem(e,a));case se.VISITOR:return void((a=re(s))&&te.setItem(e,a))}},oe=function(e,t){var s=W.get(J+e);s!==undefined&&ne(e,t,s)},ie={setValue:ne,getValue:function(e,t){var s;switch(t){case se.PAGEVIEW:return ae.hasOwnProperty(e)?ae[e]:null;case se.SESSION:return null===(s=ee.getItem(e))?s:JSON.parse(s);case se.VISITOR:return null===(s=te.getItem(e))?s:JSON.parse(s)}},migrateCookieData:function(t){X.getItem(Q)||(Object.keys(t).forEach(function(e){oe(e,t[e].storageDuration)}),X.setItem(Q,!0))}},ce=function(e,t,s,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+s+(a?"\n"+a:"")},de=function(d,l,u,b,m){return function(t,s){var a=l(t);if(!a)return b?"":undefined;var r,n,o=a.storageDuration;try{r=d.getModuleExports(a.modulePath),n=d.getModuleDefinition(a.modulePath)}catch(e){return void H.error(ce(a,t,e.message,e.stack))}if("function"==typeof r){var i,c=a.settings||{};!a.hasTransformedFilePaths&&n.filePaths&&(m(c,n.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);try{i=r(u(c,s),s)}catch(e){return void H.error(ce(a,t,e.message,e.stack))}return o&&(null!=i?ie.setValue(t,o,i):i=ie.getValue(t,o)),null==i&&null!=a.defaultValue&&(i=a.defaultValue),"string"==typeof i&&(a.cleanText&&(i=S(i)),a.forceLowerCase&&(i=i.toLowerCase())),i}H.error(ce(a,t,"Module did not export a function."))}},le={text:function(e){return e.textContent},cleanText:function(e){return S(e.textContent)}},ue=function(e,t,s){for(var a,r=e,n=0,o=t.length;n<o;n++){if(null==r)return undefined;var i=t[n];if(s&&"@"===i.charAt(0)){var c=i.slice(1);r=le[c](r)}else if(r.getAttribute&&(a=i.match(/^getAttribute\((.+)\)$/))){var d=a[1];r=r.getAttribute(d)}else r=r[i]}return r},be=function(n,o,i){return function(e,t){var s;if(o(e))s=i(e,t);else{var a=e.split("."),r=a.shift();"this"===r?t&&(s=ue(t.element,a,!0)):"event"===r?t&&(s=ue(t,a)):"target"===r?t&&(s=ue(t.target,a)):s=ue(n[r],a)}return s}},me=function(s,a){return function(e){var t=e.split(".")[0];return Boolean(a(e)||"this"===t||"event"===t||"target"===t||s.hasOwnProperty(t))}},fe=function(e,t,s){var a={exports:{}};return e.call(a.exports,a,a.exports,t,s),a.exports},pe=function(){var o={},s=function(e){var t=o[e];if(!t)throw new Error("Module "+e+" not found.");return t},t=function(){Object.keys(o).forEach(function(t){try{a(t)}catch(e){var s="Error initializing module "+t+". "+e.message+(e.stack?"\n"+e.stack:"");H.error(s)}})},a=function(e){var t=s(e);return t.hasOwnProperty("exports")||(t.exports=fe(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,s,a,r){var n={definition:t,extensionName:s,require:a,turbine:r};n.require=a,o[e]=n},hydrateCache:t,getModuleExports:a,getModuleDefinition:function(e){return s(e).definition},getModuleExtensionName:function(e){return s(e).extensionName}}},ge=!1,ve=function(a){return function(t,s){var e=a._monitors;e&&(ge||(H.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ge=!0),e.forEach(function(e){e[t]&&e[t](s)}))}},he=function(r,n,o){var s,a,i,c,d=[],l=function(e,t,s){if(!r(t))return e;d.push(t);var a=n(t,s);return d.pop(),null==a&&o?"":a};return s=function(e,s){var t=/^%([^%]+)%$/.exec(e);return t?l(e,t[1],s):e.replace(/%(.+?)%/g,function(e,t){return l(e,t,s)})},a=function(e,t){for(var s={},a=Object.keys(e),r=0;r<a.length;r++){var n=a[r],o=e[n];s[n]=c(o,t)}return s},i=function(e,t){for(var s=[],a=0,r=e.length;a<r;a++)s.push(c(e[a],t));return s},c=function(e,t){return"string"==typeof e?s(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?a(e,t):e},function(e,t){return 10<d.length?(H.error("Data element circular reference detected: "+d.join(" -> ")),e):c(e,t)}},Pe=function(r){return function(e,t){if("string"==typeof e)r[arguments[0]]=t;else if(arguments[0]){var s=arguments[0];for(var a in s)r[a]=s[a]}}},Ce=setTimeout;c.prototype["catch"]=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var s=new this.constructor(n);return l(this,new f(e,t,s)),s},c.prototype["finally"]=r,c.all=function(t){return new c(function(r,n){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var s=e.then;if("function"==typeof s)return void s.call(e,function(e){o(t,e)},n)}i[t]=e,0==--c&&r(i)}catch(a){n(a)}}if(!d(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);for(var c=i.length,e=0;e<i.length;e++)o(e,i[e])})},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c(function(e){e(t)})},c.reject=function(s){return new c(function(e,t){t(s)})},c.race=function(r){return new c(function(e,t){if(!d(r))return t(new TypeError("Promise.race accepts an array"));for(var s=0,a=r.length;s<a;s++)c.resolve(r[s]).then(e,t)})},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Ce(e,0)},c._unhandledRejectionFn=function qt(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var je=s(Object.freeze({__proto__:null,"default":c})),Re="undefined"!=typeof window&&window.Promise||void 0!==K&&K.Promise||je["default"]||je,ye=function(d,s,a){return function(i,t,c,e){return e.then(function(){var n,o=i.delayNext;return new Re(function(e,t){var s=d(i,c,[c]);if(!o)return e();var a=i.timeout,r=new Re(function(e,t){n=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+a/1e3+" seconds to complete. "))},a)});Re.race([s,r]).then(e,t)})["catch"](function(e){return clearTimeout(n),e=s(e),a(i,t,e),Re.reject(e)}).then(function(){clearTimeout(n)})})}},we=function(c,s,a,r,d){return function(o,t,i,e){return e.then(function(){var n;return new Re(function(e,t){var s=c(o,i,[i]),a=o.timeout,r=new Re(function(e,t){n=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))},a)});Re.race([s,r]).then(e,t)})["catch"](function(e){return clearTimeout(n),e=s(e),r(o,t,e),Re.reject(e)}).then(function(e){if(clearTimeout(n),!a(o,e))return d(o,t),Re.reject()})})}},Ee=Re.resolve(),Ie=function(a,r,e){return function(t,s){return t.conditions&&t.conditions.forEach(function(e){Ee=a(e,t,s,Ee)}),t.actions&&t.actions.forEach(function(e){Ee=r(e,t,s,Ee)}),Ee=(Ee=Ee.then(function(){e(t)}))["catch"](function(){})}},_e=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Te=function(o,i,c,d){return function(t,s){var a;if(t.conditions)for(var r=0;r<t.conditions.length;r++){a=t.conditions[r];try{var n=o(a,s,[s]);if(_e(n))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!i(a,n))return c(a,t),!1}catch(e){return d(a,t,e),!1}}return!0}},Ae=function(s,a){return function(e,t){s(e,t)&&a(e,t)}},ke=function(s){return function(e){var t=s.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath}},xe=function(r){return function(e){var t=e.rule,s=e.event,a=r.getModuleDefinition(s.modulePath).name;return{$type:r.getModuleExtensionName(s.modulePath)+"."+a,$rule:{id:t.id,name:t.name}}}},Oe=function(i,c,d,l,u,b){return function(s,t){var a=t.rule,r=t.event;r.settings=r.settings||{};try{var n=u(t);c(r,null,[function o(e){var t=d(n,e);s(function(){i(t,a)})}])}catch(e){b.error(l(r,a,e))}}},Se=function(r,n,o,i){return function(e,t,s){var a=n(e);o.error(r(a,t.name,s)),i("ruleActionFailed",{rule:t,action:e})}},Le=function(r,n,o,i){return function(e,t,s){var a=n(e);o.error(r(a,t.name,s)),i("ruleConditionFailed",{rule:t,condition:e})}},Ve=function(a,r,n){return function(e,t){var s=a(e);r.log('Condition "'+s+'" for rule "'+t.name+'" was not met.'),n("ruleConditionFailed",{rule:t,condition:e})}},De=function(t,s){return function(e){t.log('Rule "'+e.name+'" fired.'),s("ruleCompleted",{rule:e})}},Me=function(n,o,i){return function(t,s){var a;if(t.actions)for(var r=0;r<t.actions.length;r++){a=t.actions[r];try{n(a,s,[s])}catch(e){return void o(a,t,e)}}i(t)}},Fe=function(s,a,r,n){return function(e,t){n("ruleTriggered",{rule:t}),s?r(t,e):a(t,e)}},Ne=function(e,t,s){return'Failed to execute "'+e+'" for "'+t+'" rule. '+s.message+(s.stack?"\n"+s.stack:"")},Be=function(e,t){return t&&!e.negate||!t&&e.negate},Ue=[],qe=!1,Ge=function(e){qe?e():Ue.push(e)},He=function(e,t,s){e(t).forEach(function(e){s(Ge,e)}),qe=!0,Ue.forEach(function(e){e()}),Ue=[]},Ke=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},ze=function Gt(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},We=function We(e){var t,s;return!1!==g(e)&&("function"==typeof(t=e.constructor)&&(!1!==g(s=t.prototype)&&!1!==s.hasOwnProperty("isPrototypeOf")))},Ye=function(e,t){return We(t=t||{})?t=E({},t,e):E(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return H.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ze=function(c,d){return function(e,t){var s=c[e];if(s){var a=s.modules;if(a)for(var r=Object.keys(a),n=0;n<r.length;n++){var o=r[n],i=a[o];if(i.shared&&i.name===t)return d.getModuleExports(o)}}}},Je=function(e,t){return function(){return t?e(t):{}}},$e=function(s,a,r){return function(e){if(r){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}return s(a)+e}},Qe=".js",Xe=function(e){return e.substr(0,e.lastIndexOf("/"))},et=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},tt=function(e,t){et(t,Qe)||(t+=Qe);var s=t.split("/"),a=Xe(e).split("/");return s.forEach(function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))}),a.join("/")},st=function(s,a){return new Re(function(e,t){a.onload=function(){e(a)},a.onerror=function(){t(new Error("Failed to load script "+s))}})},at=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var s=st(e,t);return document.getElementsByTagName("head")[0].appendChild(t),s},rt=function(e,t,s,a){t=t||"&",s=s||"=";var r={};if("string"!=typeof e||0===e.length)return r;var n=/\+/g;e=e.split(t);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var i=e.length;0<o&&o<i&&(i=o);for(var c=0;c<i;++c){var d,l,u,b,m=e[c].replace(n,"%20"),f=m.indexOf(s);0<=f?(d=m.substr(0,f),l=m.substr(f+1)):(d=m,l=""),u=decodeURIComponent(d),b=decodeURIComponent(l),v(r,u)?Array.isArray(r[u])?r[u].push(b):r[u]=[r[u],b]:r[u]=b}return r},nt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ot=function(s,a,r,e){return a=a||"&",r=r||"=",null===s&&(s=undefined),"object"==typeof s?Object.keys(s).map(function(e){var t=encodeURIComponent(nt(e))+r;return Array.isArray(s[e])?s[e].map(function(e){return t+encodeURIComponent(nt(e))}).join(a):t+encodeURIComponent(nt(s[e]))}).join(a):e?encodeURIComponent(nt(e))+r+encodeURIComponent(nt(s)):""},it=a(function(e,t){t.decode=t.parse=rt,t.encode=t.stringify=ot}),ct="@adobe/reactor-",dt={cookie:W,document:j,"load-script":at,"object-assign":E,promise:Re,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),it.parse(e)},stringify:function(e){return it.stringify(e)}},window:I},lt=function(a){return function(e){if(0===e.indexOf(ct)){var t=e.substr(ct.length),s=dt[t];if(s)return s}if(0===e.indexOf("./")||0===e.indexOf("../"))return a(e);throw new Error('Cannot resolve module "'+e+'".')}},ut=function(i,c,d,l,u,b,m){var f=i.extensions,p=i.buildInfo,g=i.environment,v=i.property.settings;if(f){var h=Ze(f,c);Object.keys(f).forEach(function(a){var r=f[a],e=r.settings;Array.isArray(r.filePaths)&&(e=b(e,r.filePaths));var t=Je(l,e);if(r.modules){var s=H.createPrefixedLogger(r.displayName),n=$e(m,r.hostedLibFilesBaseUrl,p.minified),o={buildInfo:p,environment:g,property:{name:i.property.name,id:i.property.id},getDataElementValue:u,getExtensionSettings:t,getHostedLibFileUrl:n,getSharedModule:h,logger:s,propertySettings:v,replaceTokens:l,onDebugChanged:d.onDebugChanged,get debugEnabled(){return d.getDebugEnabled()}};Object.keys(r.modules).forEach(function(s){var e=r.modules[s],t=lt(function(e){var t=tt(s,e);return c.getModuleExports(t)});c.registerModule(s,e,a,t,o)})}}),c.hydrateCache()}return c},bt=function(e,t,s,a,r){var n=H.createPrefixedLogger("Custom Script");e.track=function(e){H.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=n,e.notify=function(e,t){switch(H.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:n.info(e);break;case 4:n.warn(e);break;case 5:n.error(e);break;default:n.log(e)}},e.getVar=a,e.setVar=r,e.setCookie=function(e,t,s){var a="",r={};s&&(a=", { expires: "+s+" }",r.expires=s);var n='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";H.deprecation(n),W.set(e,t,r)},e.readCookie=function(e){return H.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),W.get(e)},e.removeCookie=function(e){H.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),W.remove(e)},e.cookie=W,e.pageBottom=function(){},e.setDebug=s;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(H.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},mt=function(e){for(var t=j.querySelectorAll("script"),s=0;s<t.length;s++){var a=t[s];if(e.test(a.src))return a}},ft=function(a,r){return function(t,e,s){return a&&We(t)&&Object.keys(t).length&&Array.isArray(e)&&e.length&&e.forEach(function(e){Boolean(null!=s&&/^core\/.*actions.*\/customCode\.js$/.test(s))&&"source"===e&&!t.isExternal||C(e.split("."),t,r)}),t}},pt={getTurbine:function(){return mt(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:mt}.getTurbine,gt=window._satellite;if(gt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var vt=gt.container;delete gt.container;var ht=E({},vt.buildInfo);Object.defineProperty(ht,"environment",{get:function(){return H.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),vt.environment.stage}}),vt.buildInfo=ht;var Pt,Ct=k(Z("localStorage"),H),jt="";j.currentScript&&j.currentScript.getAttribute("src")?jt=j.currentScript.getAttribute("src"):pt()&&(jt=pt().getAttribute("src"));try{Pt=_(jt,vt.company.cdnAllowList,Ct)}catch(e){throw H.warn("Please review the following error:"),e}var Rt,yt=ft(Pt.isDynamicEnforced,Pt.decorateWithDynamicHost),wt=pe(),Et=vt.property.settings.undefinedVarsReturnEmpty,It=vt.property.settings.ruleComponentSequencingEnabled,_t=vt.dataElements||{};ie.migrateCookieData(_t);var Tt=function(e){return _t[e]},At=de(wt,Tt,function(){return Rt.apply(null,arguments)},Et,yt),kt={},xt=Pe(kt),Ot=me(kt,Tt),St=be(kt,Tt,At);Rt=he(Ot,St,Et),bt(gt,vt,Ct.setDebugEnabled,St,xt),ut(vt,wt,Ct,Rt,At,yt,Pt.decorateWithDynamicHost);var Lt=ve(gt),Vt=O(wt,Rt,yt),Dt=ke(wt),Mt=Ve(Dt,H,Lt),Ft=Le(Ne,Dt,H,Lt),Nt=Se(Ne,Dt,H,Lt),Bt=De(H,Lt),Ut=Oe(Fe(It,Ae(Te(Vt,Be,Mt,Ft),Me(Vt,Nt,Bt)),Ie(we(Vt,Ke,Be,Ft,Mt),ye(Vt,Ke,Nt),Bt),Lt),Vt,Ye,Ne,xe(wt),H);He(T,vt.rules||[],Ut)}return gt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();