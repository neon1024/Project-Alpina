window.ds2configurator=window.ds2configurator||{};window.ds2configurator.info=function(){return{gcdmUseCases:{RFO:"RFO",VCO:"VCO"}}};(function(a){window.ds2configurator.$=a})(window.jQuery);
(function(a){var c={};a.publish=function(g,b,f){f=f||0;!c[g]&&3>f?setTimeout(function(){a.publish(g,b,f+1)},200):c[g]&&a.each(c[g],function(){this.apply(a,b||[])})};a.subscribe=function(a,b){c[a]||(c[a]=[]);c[a].push(b);return[a,b]};a.unsubscribe=function(g){var b=g[0];c[b]&&a.each(c[b],function(a){this===g[1]&&c[b].splice(a,1)})}})(ds2configurator.$);window.integration=window.integration||{};window.integration.iframeintegration=window.integration.iframeintegration||{};
window.integration.iframeintegration.getAllHashParameter=function(){var a={};window.location.hash.substr(1).split("\x26").forEach(function(c){c=c.split("\x3d");a[c[0]]=c[1]});return a};window.integration.iframeintegration.extractAllUrlParameterPlaceholer=function(a){for(var c=[],g=/\$\{urlParameter\.([^\}]*)\}/g,b;b=g.exec(a);)0>c.indexOf(b[1])&&c.push(b[1]);return c};
window.integration.iframeintegration.getDeviceTypeSelector=function(){return 2==window.integration.deviceType?"mobile":1==window.integration.deviceType?"tablet":"default"};String.prototype.startsWith||(String.prototype.startsWith=function(a,c){c=c||0;return this.lastIndexOf(a,c)===c});
window.integration.getQueryParameters=function(){var a=window.location.href.replace("cf#",""),c="";-1!=a.indexOf("#")&&(a=a.split("#"),$.each(a,function(){0<this.length&&!this.startsWith("http")&&!this.startsWith("bookmark")&&(c+=this)}));return c};function isIphoneOrIpad(){return!!(0<navigator.userAgent.toLowerCase().indexOf("ipad")||0<navigator.userAgent.toLowerCase().indexOf("iphone"))}
(function(a){function c(c,b,f,l){a.ajax({url:b.attr("data-src"),type:l||"get",dataType:b.attr("data-type")||"html",success:function(a){b.html(a);f(!0);c.config("removeAttribute")&&b.removeAttr("data-src data-method data-type")},error:function(){f(!1)}})}a.lazy("ajax",function(a,b){c(this,a,b,a.attr("data-method"))});a.lazy("get",function(a,b){c(this,a,b,"get")});a.lazy("post",function(a,b){c(this,a,b,"post")})})(window.jQuery||window.Zepto);
(function(a){a.lazy(["av","audio","video"],["audio","video"],function(c,g){var b=c[0].tagName.toLowerCase();if("audio"==b||"video"==b){var f=c.find("data-src");b=c.find("data-track");var l=0,k=function(){++l==f.length&&g(!1)},m=function(){var b=a(this),c=b[0].tagName.toLowerCase(),f=b.prop("attributes"),g=a("data-src"==c?"\x3csource\x3e":"\x3ctrack\x3e");if("data-src"==c)g.one("error",k);a.each(f,function(a,b){g.attr(b.name,b.value)});b.replaceWith(g)};c.one("loadedmetadata",function(){g(!0)}).off("load error").attr("poster",
c.attr("data-poster"));f.length?f.each(m):c.attr("data-src")?(a.each(c.attr("data-src").split(","),function(b,f){b=f.split("|");c.append(a("\x3csource\x3e").one("error",k).attr({src:b[0].trim(),type:b[1].trim()}))}),this.config("removeAttribute")&&c.removeAttr("data-src")):g(!1);b.length&&b.each(m)}else g(!1)})})(window.jQuery||window.Zepto);
(function(a){a.lazy(["frame","iframe"],"iframe",function(c,g){var b=this;if("iframe"==c[0].tagName.toLowerCase()){var f=c.attr("data-error-detect");"true"!=f&&"1"!=f?(c.attr("src",c.attr("data-src")),b.config("removeAttribute")&&c.removeAttr("data-src data-error-detect")):a.ajax({url:c.attr("data-src"),dataType:"html",success:function(a){c.html(a).attr("src",c.attr("data-src"));b.config("removeAttribute")&&c.removeAttr("data-src data-error-detect")},error:function(){g(!1)}})}else g(!1)})})(window.jQuery||
window.Zepto);(function(a){a.lazy("noop",function(){});a.lazy("noop-success",function(a,g){g(!0)});a.lazy("noop-error",function(a,g){g(!1)})})(window.jQuery||window.Zepto);(function(a){a.lazy(["js","javascript","script"],"script",function(a,g){"script"==a[0].tagName.toLowerCase()?(a.attr("src",a.attr("data-src")),this.config("removeAttribute")&&a.removeAttr("data-src")):g(!1)})})(window.jQuery||window.Zepto);
(function(a){a.lazy(["yt","youtube"],function(a,g){"iframe"==a[0].tagName.toLowerCase()?(a.attr("src","https://www.youtube.com/embed/"+a.attr("data-src")+"?rel\x3d0\x26amp;showinfo\x3d0"),this.config("removeAttribute")&&a.removeAttr("data-src")):g(!0)})})(window.jQuery||window.Zepto);
require(["jquery"],function(a){var c=window.consentcontroller?window.consentcontroller.api:null,g=function(){this.init()};g.prototype={init:function(){c&&"SOFT_OPT_IN"===c.getRegulationType()&&this.initEventListener()},initEventListener:function(){this.initClickEventListener()},initClickEventListener:function(){var b=this,f=document.getElementsByTagName("body");0<f.length&&f[0].addEventListener("click",function(a){c&&c.showDisclaimer()&&(b.isConsentDrawerInteraction(a)||b.isRejectCookiesButton(a)||
b.isActionClick(a)&&b.acceptCookies())},!0);a(window).on("ds2-user-action",function(){c&&"SOFT_OPT_IN"===c.getRegulationType()&&c.showDisclaimer()&&b.acceptCookies()})},acceptCookies:function(){c&&c.consentdrawer.then(function(a){a.acceptSoftOptIn()})},isConsentDrawerInteraction:function(a){return a.target&&"epaas-consent-drawer-shell"===(a.target.tagName||"").toLowerCase()},isRejectCookiesButton:function(b){return 0<a(b.target).parents(".ds2-cookie-consent-settings--button-reject").length},isActionClick:function(b){b=
b.target;return this.isConsentNeeded(b)?!1:this.isTagOrContainedByTag(b,"a")||this.isTagOrContainedByTag(b,"button")||this.isTag(b,"select")||this.isTag(b,"input")||0<a("#bmw-configurator").length?!0:!1},isConsentNeeded:function(b){return 0<a(b).closest("[data-consent-needed\x3d'true']").length?!0:!1},isTag:function(a,f){return a.tagName&&a.tagName.toUpperCase()===f.toUpperCase()?!0:!1},isTagOrContainedByTag:function(b,f){return this.isTag(b,f)||0<a(b).closest(f).length?!0:!1}};return new g});
require(["jquery"],function(a){function c(){this.redirectFromCookie()}var g=c.prototype;g.redirectFromCookie=function(){if(!(0<a.find('[data-component-path\x3d"ds2-navigation-main"]').length)){var b=/\/content\/bmw\/market|^$\/i/,f=this.getLanguageFromCookie(),c=this.getLanguageFromPath();!this.isEmpty(f)&&3< !f.length&&f!=c&&1!=b.test(window.location.pathname)&&(b=this.findAlternateLink(f),this.isEmpty(b)&&(b=window.location.origin+"/"+f),""!==window.location.hash&&(b+=window.location.hash),window.location.replace(b))}};
g.getLanguageFromCookie=function(){var a=null;window.consentcontroller&&window.consentcontroller.api&&(a=window.consentcontroller.api.getCookie("lang_consentCookie"));this.isEmpty(a)||(a=a.replace("/",""));return a};g.getLanguageFromPath=function(){var a=window.location.pathname,f=a.split("/");a.startsWith("/content")?(a=f[5],0<a.indexOf("_")&&(a=a.slice(0,a.indexOf("_")))):a=f[1];return a};g.findAlternateLink=function(b){var f=a("html").find("head").find('link[rel\x3d"alternate"]'),c=null;a.each(f,
function(f,g){a(g).attr("hreflang")==b&&(c=a(g).attr("href"))});this.isEmpty(c)&&(c=this.defaultLink(b));return c};g.defaultLink=function(b){var c=window.location.origin,g="";a.each(this.alternateLinks,function(a,c){c.language==b&&(g=c.path)});g.startsWith("http://")&&g.startsWith("https://")||(g=c+g);return g};g.isEmpty=function(b){return null==b||void 0==b||0<=b.indexOf("undefined")||0<=b.indexOf("null")||0==a.trim(b).length?!0:!1};new c});
window.onload=function(){var a=navigator.userAgent,c=navigator.appName,g=""+parseFloat(navigator.appVersion),b=parseInt(navigator.appVersion,10),f=0,l="",k,m;-1!=(k=a.indexOf("Opera"))?(c="Opera",g=a.substring(k+6),-1!=(k=a.indexOf("Version"))&&(g=a.substring(k+8)),f=15,l="http://www.opera.com/browser/"):-1!=(k=a.indexOf("MSIE"))||-1!=(k=a.indexOf("Microsoft Internet Explorer"))?(c="Internet Explorer",g=a.substring(k+5),f=9,l="http://windows.microsoft.com/de-DE/internet-explorer/downloads/ie"):-1!=
(k=a.indexOf("Chrome"))?(c="Chrome",g=a.substring(k+7),f=-1!=(k=a.indexOf("Mobile"))||-1!=(k=a.indexOf("Android"))?28:35,l="http://www.google.com/chrome?hl\x3dde"):-1!=(k=a.indexOf("Safari"))?(c="Safari",g=a.substring(k+7),-1!=(k=a.indexOf("Version"))&&(g=a.substring(k+8)),f=-1!=(k=a.indexOf("Mobile"))||-1!=(k=a.indexOf("Android"))?4:6,l="https://www.apple.com/de/safari/"):-1!=(k=a.indexOf("Firefox"))?(c="Firefox",g=a.substring(k+8),f=30,l="http://www.mozilla.com/firefox/"):(b=a.lastIndexOf(" ")+
1)<(k=a.lastIndexOf("/"))&&(c=a.substring(b,k),g=a.substring(k+1),c.toLowerCase()==c.toUpperCase()&&(c=navigator.appName));-1!=(m=g.indexOf(";"))&&(g=g.substring(0,m));-1!=(m=g.indexOf(" "))&&(g=g.substring(0,m));b=parseInt(""+g,10);isNaN(b)&&(g=""+parseFloat(navigator.appVersion),b=parseInt(navigator.appVersion,10));if(b<f){g=function(a,b){b||(b=document);b=b.getElementsByTagName("*");for(var c=-1,f,g=[];f=b[++c];)-1<(" "+(f["class"]||f.className)+" ").indexOf(" "+a+" ")&&g.push(f);return g};m=g("ds2-layer-error-old-browser--browser-name");
for(a=-1;b=m[++a];)b.innerHTML=c;c=g("ds2-layer-error-old-browser--browser-minversion");for(a=-1;m=c[++a];)m.innerHTML=f;f=g("ds2-layer-error-old-browser--browser-link");for(a=-1;c=f[++a];)c.href=l;if(l=document.getElementById("ds2-messages-js--browser-error"))l.style.display="block",l.style.opacity=1}else document.getElementById("ds2-messages-js--browser-error")&&(document.getElementById("ds2-messages-js--browser-error").innerHTML="")};
var languageredirect=!1,ds2DataLanguage=ds2DataLanguage||void 0,ds2RedirectOnLanguageCookie=ds2RedirectOnLanguageCookie||void 0,ds2RedirectOnLanguageCookieOptions=ds2RedirectOnLanguageCookieOptions||void 0;window.digitals2=window.digitals2||{};
window.digitals2.cookieLanguage=function(){return{init:function(){var a=this;window.consentcontroller&&window.consentcontroller.api&&window.consentcontroller.api.addEventListener("consentcontroller.api.initialized",function(c){a._afterCookieControllerInitialized()})},_afterCookieControllerInitialized:function(){if(window.consentcontroller.api.isBrowserPersistenceEnabled(window.consentcontroller.api.ENUM_PERSISTENCE_TYPE.COOKIE)){this.languageSelectionClick();var a=window.consentcontroller.api.getCookie("lang_consentCookie");
this._languagePageRedirect(a);this._languageCookieRedirect(a)}},_languagePageRedirect:function(a){window.consentcontroller.api.isBrowserPersistenceEnabled(window.consentcontroller.api.ENUM_PERSISTENCE_TYPE.COOKIE)&&ds2DataLanguage&&ds2DataLanguage.languagePath&&!a&&(languageredirect=!0,window.location.replace(ds2DataLanguage.languagePath))},_languageCookieRedirect:function(a){if(window.consentcontroller.api.isBrowserPersistenceEnabled(window.consentcontroller.api.ENUM_PERSISTENCE_TYPE.COOKIE))if(ds2DataLanguage&&
1==ds2DataLanguage.homepage&&a&&a!=ds2DataLanguage.currLanguagePath)languageredirect=!0,window.location.replace(a);else if(ds2RedirectOnLanguageCookie&&a)for(var c in ds2RedirectOnLanguageCookieOptions)if(-1!==c.indexOf(a)){languageredirect=!0;window.location.replace(ds2RedirectOnLanguageCookieOptions[c]);break}},languageSelectionClick:function(){$(window).ready(function(){$("a[data-lang]").on("click",function(a){a.preventDefault();a.stopImmediatePropagation();var c=$(this).data("lang");c&&(console.log("data-lang",
c),window.consentcontroller.api.addEventListener(window.consentcontroller.api.ENUM_EVENT.EVENT_INITIALIZED,function(a){window.consentcontroller.api.setPersistence("lang_consentCookie",c)}));$(this).data("province-page")&&""!==$(this).data("province-page")?window.location.href=$(this).data("province-page"):1<$(this).attr("href").length&&(window.location.href=$(this).attr("href"))})})}}}();window.digitals2.cookieLanguage.init();window.digitals2=window.digitals2||{};
var ds2DataProvince=ds2DataProvince||void 0;
window.digitals2.cookieProvince=function(){return{init:function(){var a=this;window.consentcontroller&&window.consentcontroller.api&&consentcontroller.api.addEventListener("consentcontroller.api.initialized",function(c){a._afterCookieControllerInitialized()})},_afterCookieControllerInitialized:function(){if(window.consentcontroller.api.isBrowserPersistenceEnabled(window.consentcontroller.api.ENUM_PERSISTENCE_TYPE.COOKIE)){this.provinceSelectionClick();var a=window.consentcontroller.api.getPersistence("prov_consentCookie");
this._provincePageRedirect(a);this._provinceCookieRedirect(a)}},_provincePageRedirect:function(a){if(!window.consentcontroller.api.isBrowserPersistenceEnabled(window.consentcontroller.api.ENUM_PERSISTENCE_TYPE.COOKIE)&&ds2DataProvince&&ds2DataProvince.provinceList){a=ds2DataProvince.provinceList||[];var c=window.location.href.split("#/").shift().split(".html").shift().split("/").pop().split(".")||[];for(var g=0;g<a.length;g++)for(var b=0;b<c.length;b++)if(a[g]==c[b])return}},_provinceCookieRedirect:function(a){window.consentcontroller.api.isBrowserPersistenceEnabled(window.consentcontroller.api.ENUM_PERSISTENCE_TYPE.COOKIE)},
provinceSelectionClick:function(){$(window).ready(function(){var a=window.location.hash.substr(1);$("a[data-province]").on("click",function(c){c.preventDefault();c.stopImmediatePropagation();$(this).data("province")&&(console.log("data-province",$(this).data("province")),window.consentcontroller.api.addEventListener(window.consentcontroller.api.ENUM_EVENT.EVENT_INITIALIZED,function(a){window.consentcontroller.api.setPersistence("prov_consentCookie",$(this).data("province"))}),1<a.length?provinceSelection.openProvinceSelectionModal("",
!0,0):1<$(this).attr("href").length&&provinceSelection.openProvinceSelectionModal("",!0,0))})})}}}();window.digitals2.cookieProvince.init();window.digitals2=window.digitals2||{};window.digitals2.$=$;
window.digitals2.responsivePlus={device:99,devices:["desktop","tablet","mobile"],handleScreenOrientation:function(){function a(){this.trackingObjectExists&&window.digitals2.tracking.trackingObj.setOrientation(window.innerWidth/window.innerHeight?"landscape":"portrait")}a();$(window).resize(function(){a()})},responsivePlusInit:function(){pResponsiveClass="";600>this.shortestScreenWidth()?(pResponsiveClass="ds2-responsive-plus-mobile",device=2):this.checkUserAgent()?630>this.shortestVPWidth()?(pResponsiveClass=
"ds2-responsive-plus-mobile",device=2):(pResponsiveClass="ds2-responsive-plus-tablet",device=1):(pResponsiveClass="ds2-responsive-plus-desktop",device=0);document.documentElement.className+=" "+pResponsiveClass},responsivePlusDeviceGet:function(){return device},responsivePlusDeviceSet:function(a){device=a},shortestVPWidth:function(){return Math.min(document.documentElement.clientWidth,window.innerWidth,document.documentElement.clientHeight,window.innerHeight||0)},shortestScreenWidth:function(){return Math.min(screen.width,
screen.height||0)},checkUserAgent:function(){var a=0;/ipad|android|silk|kindle|playbook|mobi/i.test(navigator.userAgent.toLowerCase())?a=1:/windows nt/i.test(navigator.userAgent.toLowerCase())&&/arm/i.test(navigator.userAgent.toLowerCase())&&(a=1);return a}};window.digitals2.responsivePlus.responsivePlusInit();window.integration=window.integration||{};window.integration.deviceType=function(){return window.digitals2.responsivePlus?window.digitals2.responsivePlus.responsivePlusDeviceGet():0}();
var config={use:{jquery:{exports:"jQuery"},"jquery-ui":{exports:"jQuery",deps:["jquery"]},lodash:{exports:"_"}},map:{"*":{jquery:"use!jquery","postal.aem-form":"postal.provider"},"ds2-geolocation-client":{lodash:"lodash"},"frontend/services/geolocation":{lodash:"lodash"},postal:{lodash:"lodash"},"postal.preserve":{lodash:"lodash"},"postal.reqres":{lodash:"lodash"},"postal.federation":{lodash:"lodash"},"postal.xframe":{lodash:"lodash"}},waitSeconds:30,shim:{angular:{deps:["jquery"],exports:"angular"},
"angular.animate":{deps:["angular"],exports:"angular.animate"},"postal.xframe":{deps:["postal.federation","regenerator-runtime"],exports:"postal"},postal:{deps:["postal.settings"]},"jquery-slick":{deps:["jquery"],exports:"jQuery.fn.slick"},cocoen:{exports:"cocoen"},"jquery-bigtext":{deps:["jquery"],exports:"jQuery.fn.bigtext"},"jquery-fittext":{deps:["jquery"],exports:"jQuery.fn.fittext"},"jquery-sleck":{exports:"jQuery.fn.sleck",deps:["jquery"]},"jquery-ui":{exports:"jQuery.fn.ui",deps:["jquery"]},
"jquery-qtip":{deps:["use!jquery"]},"jquery-dotdotdot":{exports:"jQuery.fn.dotdotdot",deps:["jquery"]},"jquery-inview":{deps:["jquery"]},"jquery-lazy":{exports:"jQuery.fn.lazy",deps:["jquery"]},vue:{exports:"Vue"},vueCqUtils:{exports:"vueCqUtils"},quickactions:{exports:"quickactions"},consentcontroller:{exports:"consentcontroller"}},baseUrl:"/etc/clientlibs/digitals2/clientlib/js",paths:{"ds2-accessibility":"app/partials/0-sub-elements/ds2-accessibility.min.20210802221527.min","ds2-accessories":"app/partials/ds2-accessories.min.20210802221527.min",
"ds2-accessoryteaser":"app/partials/ds2-accessoryteaser.min.20210802221527.min","ds2-accordion-element":"app/partials/0-sub-elements/ds2-accordion-element.min.20210802221527.min","ds2-all-model-overview":"app/partials/ds2-all-model-overview.min.20210802221527.min","ds2-anchor":"app/partials/ds2-anchor.min.20210802221527.min","ds2-anchor-reference":"app/partials/ds2-anchor-reference.min.20210802221527.min","ds2-animation":"app/ds2-animation.min.20210802221527.min","ds2-article-background-image":"app/partials/ds2-article-background-image.min.20210802221527.min",
"ds2-article-model-overview":"app/partials/ds2-article-model-overview.min.20210802221527.min","ds2-article-teaser":"/etc.clientlibs/digitals2/articles/components/magazinearticledetail/clientlibs.min.20210802221527.min","ds2-backlink":"app/partials/ds2-backlink.min.20210802221527.min","ds2-basic-teaser":"/etc.clientlibs/digitals2/teasers/components/basic-teaser/clientlibs.min.20210802221527.min","ds2-bmwm-headline":"/etc/clientlibs/digitals2/clientlib/extended.min.20210802221527.min","ds2-business-card":"app/partials/0-sub-elements/ds2-business-card.min.20210802221527.min",
"ds2-bottom-disclaimer":"app/partials/ds2-bottom-disclaimer.min.20210802221527.min","ds2-button-url-to-check":"app/partials/0-sub-elements/ds2-button-url-to-check.min.20210802221527.min","ds2-button-offer":"app/partials/0-sub-elements/ds2-button-offer.min.20210802221527.min","apps/digitals2/configurator-con/components/configurator-con/ds2-configurator-con":"/etc.clientlibs/digitals2/configurator-con/components/configurator-con/clientlib.min20210802221527.min","ds2-close-button":"/etc.clientlibs/digitals2/buttons/components/closebutton/clientlibs.min.20210802221527.min",
"ds2-cluster-overview":"app/partials/ds2-cluster-overview.min.20210802221527.min","ds2-cookie-disclaimer-configurator":"app/partials/0-sub-elements/ds2-cookie-disclaimer-configurator.min.20210802221527.min","ds2-comparison-slider":"app/partials/ds2-comparison-slider.min.20210802221527.min","ds2-configurator-link":"app/ds2-configurator-link.min.20210802221527.min","ds2-contact-box":"app/partials/0-sub-elements/ds2-contact-box.min.20210802221527.min","ds2-content-presentation":"app/partials/ds2-content-presentation.min.20210802221527.min",
"ds2-content-slider":"/etc.clientlibs/digitals2/media/components/contentslider/clientlibs.min.20210802221527.min","ds2-cookie-consent-settings":"app/partials/ds2-cookie-consent-settings.min.20210802221527.min","ds2-cookie-controller":"app/ds2-cookie-controller.min.20210802221527.min","ds2-cp-link-list":"app/partials/ds2-cp-link-list.min.20210802221527.min","ds2-component-cpc":"/etc.clientlibs/digitals2/cpc/components/cpc/clientlibs/client.min.20210802221527.min","ds2-compare-technical-data":"/etc.clientlibs/digitals2/comparetechnicaldata/components/comparetechnicaldata/clientlibs.min.20210802221527.min",
"ds2-dealerlocator":"app/partials/ds2-dealerlocator.min.20210802221527.min","ds2-detail-fallback":"app/ds2-detail-fallback.min.20210802221527.min","ds2-detail-offer":"app/ds2-detail-offer.min.20210802221527.min","ds2-detail-standard":"app/ds2-detail-standard.min.20210802221527.min","ds2-electric-range":"app/partials/ds2-electric-range/ds2-electric-range-base.min.20210802221527.min","ds2-electric-range-map":"app/partials/ds2-electric-range/ds2-electric-range-map.min.20210802221527.min","ds2-electric-range-map-google":"app/partials/ds2-electric-range/ds2-electric-range-map-google.min.20210802221527.min",
"ds2-electric-range-map-yandex":"app/partials/ds2-electric-range/ds2-electric-range-map-yandex.min.20210802221527.min","ds2-electric-range-tracking":"app/partials/ds2-electric-range/ds2-electric-range-tracking.min.20210802221527.min","ds2-electric-range-util":"app/partials/ds2-electric-range/ds2-electric-range-util.min.20210802221527.min","ds2-electric-range-calculator":"app/partials/ds2-electric-range-calculator.min.20210802221527.min","ds2-emission-disclaimer":"app/partials/ds2-emission-disclaimer.min.20210802221527.min",
"ds2-enavigation-model":"app/partials/ds2-enavigation-model.min.20210802221527.min","ds2-errors":"app/partials/0-sub-elements/ds2-errors.min.20210802221527.min","ds2-expand-copy":"app/partials/0-sub-elements/ds2-expand-copy.min.20210802221527.min","ds2-facebook-video":"app/partials/0-sub-elements/ds2-facebook-video.min.20210802221527.min","ds2-fallbackpage":"/etc.clientlibs/digitals2/integration/components/fallbackpage/clientlibs.min.20210802221527.min","ds2-finance-calculator":"/etc.clientlibs/digitals2/showroom/components/financecalculator/clientlibs.min.20210802221527.min",
"ds2-forms-payload":"/etc.clientlibs/digitals2/general/components/pages/formssuccesspage/payload/clientlibs.min.20210802221527.min","ds2-gcdm-layer":"/etc.clientlibs/digitals2/layer/components/gcdm-layer/clientlibs.20210802221527.min","ds2-geolocation-client":"app/ds2-geolocation-client.min.20210802221527.min","ds2-glossary-article":"app/partials/0-sub-elements/ds2-glossary-article.min.20210802221527.min","ds2-glossary-overview":"app/partials/ds2-glossary-overview.min.20210802221527.min","ds2-highlight":"app/partials/ds2-highlight.min.20210802221527.min",
"ds2-hotspot":"app/partials/ds2-hotspot.min.20210802221527.min","ds2-hotspot-extended":"app/partials/ds2-hotspot-extended.min.20210802221527.min","ds2-history-manager":"app/partials/ds2-history-manager.min.20210802221527.min","ds2-iframe-base":"app/partials/ds2-iframe-base.min.20210802221527.min","ds2-iframe-content-loader":"app/partials/ds2-iframe-content-loader.min.20210802221527.min","ds2-iframe-integration":"app/partials/ds2-iframe-integration.min.20210802221527.min","ds2-iframe-resizer":"app/partials/ds2-iframe-resizer.min.20210802221527.min",
"ds2-iframe-v2":"app/partials/ds2-iframe-v2.min.20210802221527.min","ds2-info-icon":"app/partials/0-sub-elements/ds2-info-icon.min.20210802221527.min","ds2-iepop":"app/ds2-iepop.min.20210802221527.min","ds2-language-selection":"app/partials/ds2-language-selection.min.20210802221527.min","ds2-layer":"app/partials/ds2-layer.min.20210802221527.min","ds2-layer-error":"app/partials/0-sub-elements/ds2-layer-error.min.20210802221527.min","ds2-layer-fullsize":"app/partials/ds2-layer-fullsize.20210802221527.min",
"ds2-lazyload-images":"app/partials/0-sub-elements/ds2-lazyload-images.min.20210802221527.min","ds2-legal-accordion":"app/partials/ds2-legal-accordion.min.20210802221527.min","ds2-lightbox":"/etc.clientlibs/digitals2/layer/components/lightbox/scripts/ds2-lightbox/clientlibs.min.20210802221527.min","ds2-lightbox-trigger":"/etc.clientlibs/digitals2/layer/components/lightbox/scripts/ds2-lightbox-trigger/clientlibs.min.20210802221527.min","ds2-link":"app/partials/0-sub-elements/ds2-link.min.20210802221527.min",
"ds2-links-parameters":"app/ds2-links-parameters.min.20210802221527.min","ds2-link-box":"app/partials/0-sub-elements/ds2-link-box.min.20210802221527.min","ds2-lastconfig":"/etc.clientlibs/digitals2/general/components/lastconfig/clientlibs.min.20210802221527.min","ds2-link-preconfiguration-landing":"/etc.clientlibs/digitals2/links/components/precon/clientlibs.min.20210802221527.min","ds2-magazine-accessibility":"app/partials/ds2-magazine-accessibility.min.20210802221527.min","ds2-magazine-heroteaser":"app/ds2-magazine-heroteaser.min.20210802221527.min",
"ds2-magazine-overview":"app/partials/ds2-magazine-overview.min.20210802221527.min","ds2-magazine-text":"app/partials/ds2-magazine-text.min.20210802221527.min","ds2-main":"app/ds2-main.min.20210802221527.min","ds2-main-footer":"app/partials/ds2-main-footer.min.20210802221527.min","ds2-main-uxn-footer":"app/partials/ds2-main-uxn-footer.min.20210802221527.min","ds2-main-uxnaas-footer":"app/partials/ds2-main-uxnaas-footer.min.20210802221527.min","ds2-media-queries":"app/partials/ds2-media-queries.min.20210802221527.min",
"ds2-messages":"app/ds2-messages.min.20210802221527.min","ds2-micro-story-item":"app/ds2-micro-story-item.min.20210802221527.min","ds2-microstory":"app/partials/ds2-microstory.min.20210802221527.min","ds2-model-brief":"app/partials/ds2-model-brief.min.20210802221527.min","ds2-model-card":"app/partials/ds2-model-card.min.20210802221527.min","ds2-model-carousel":"app/partials/ds2-model-carousel.min.20210802221527.min","ds2-model-landing-page":"app/partials/ds2-model-landing-page.min.20210802221527.min",
"ds2-model-range-select":"/etc.clientlibs/digitals2/model/components/modelrangeselect/clientlibs.min.20210802221527.min","ds2-models":"app/partials/ds2-models.min.20210802221527.min","ds2-mouse-move":"app/partials/0-sub-elements/ds2-mouse-move.min.20210802221527.min","ds2-mvc-emitter":"app/partials/0-sub-elements/ds2-mvc-emitter.min.20210802221527.min","ds2-mvc-dropdown":"app/partials/0-sub-elements/ds2-mvc-dropdown.min.20210802221527.min","ds2-mvc-tabs":"app/partials/0-sub-elements/ds2-mvc-tabs.min.20210802221527.min",
"ds2-navigate":"app/partials/ds2-navigate.min.20210802221527.min","ds2-navigation-content-bar":"app/partials/ds2-navigation-content-bar.min.20210802221527.min","ds2-navigation-main":"app/partials/ds2-navigation-main.min.20210802221527.min","ds2-navigation-model":"app/partials/ds2-navigation-model.min.20210802221527.min","ds2-navigation-model-small":"app/partials/ds2-navigation-model-small.min.20210802221527.min","ds2-navigation-salesbar":"app/partials/ds2-navigation-salesbar.min.20210802221527.min",
"ds2-uxn-navigation":"/etc.clientlibs/digitals2/navigate/components/navigation/clientlibs.min.20210802221527.min","ds2-need-analyzer":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer.min.20210802221527.min","ds2-need-analyzer-algorithm":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-algorithm.min.20210802221527.min","ds2-need-analyzer-algorithm-extended":"app/partials/ds2-need-analyzer/need-analyzer-extended/ds2-needanalyzer-algorithm-extended.min.20210802221527.min",
"ds2-need-analyzer-config":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-config.min.20210802221527.min","ds2-need-analyzer-dispatcher":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-dispatcher.min.20210802221527.min","ds2-need-analyzer-extended":"app/partials/ds2-need-analyzer/need-analyzer-extended/ds2-needanalyzer-extended.min.20210802221527.min","ds2-need-analyzer-input-processor":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-input-processor.min.20210802221527.min",
"ds2-need-analyzer-input-processor-extended":"app/partials/ds2-need-analyzer/need-analyzer-extended/ds2-needanalyzer-input-processor-extended.min.20210802221527.min","ds2-need-analyzer-input-processor-rangeslider-extended":"app/partials/ds2-need-analyzer/need-analyzer-extended/ds2-needanalyzer-input-processor-rangeslider-extended.min.20210802221527.min","ds2-need-analyzer-logic":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-logic.min.20210802221527.min","ds2-need-analyzer-recommendations-slider":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-recommendations-slider.min.20210802221527.min",
"ds2-need-analyzer-recommendations-slider-extended":"app/partials/ds2-need-analyzer/need-analyzer-extended/ds2-needanalyzer-recommendations-slider-extended.min.20210802221527.min","ds2-need-analyzer-result-page-templates":"app/partials/ds2-need-analyzer/need-analyzer/ds2-needanalyzer-result-page-templates.min.20210802221527.min","ds2-need-analyzer-result-page-templates-extended":"app/partials/ds2-need-analyzer/need-analyzer-extended/ds2-needanalyzer-result-page-templates-extended.min.20210802221527.min",
"ds2-news-article":"app/partials/ds2-news-article.min.20210802221527.min","ds2-nsc":"app/partials/ds2-nsc.min.20210802221527.min","ds2-page-context":"app/ds2-page-context.min.20210802221527.min","ds2-pre-configuration":"app/ds2-pre-configuration.min.20210802221527.min","ds2-mood-preconfiguration":"/etc.clientlibs/digitals2/moodpreconfiguration/components/moodpreconfiguration/clientlibs.min.20210802221527.min","ds2-province-selection":"app/partials/ds2-provice-selection.min.20210802221527.min","ds2-progressbar":"app/partials/ds2-progressbar.min.20210802221527.min",
"ds2-preregistration":"/etc.clientlibs/digitals2/preregistration/components/preregistration/clientlibs.min.20210802221527.min","ds2-quote":"app/partials/0-sub-elements/ds2-quote.min.20210802221527.min","ds2-related-articles":"app/partials/ds2-related-articles.min.20210802221527.min","ds2-requests-profile":"app/partials/ds2-requests-profile.min.20210802221527.min","ds2-request-link":"app/ds2-request-link.min.20210802221527.min","ds2-resize-events":"app/partials/ds2-resize-events.min.20210802221527.min",
"ds2-rfitypeswitchcheckbox":"app/partials/ds2-rfitypeswitchcheckbox.min.20210802221527.min","ds2-save-configuration":"app/ds2-save-configuration.min.20210802221527.min","ds2-scroll":"app/partials/0-sub-elements/ds2-scroll.min.20210802221527.min","ds2-scroll-arrow":"app/partials/ds2-scroll-arrow.min.20210802221527.min","ds2-scrollable-gallery":"app/partials/0-sub-elements/ds2-scrollable-gallery.min.20210802221527.min","ds2-scroll-horizontal":"app/partials/0-sub-elements/ds2-scroll-horizontal.min.20210802221527.min",
"ds2-scroll-tracking":"app/partials/ds2-scroll-tracking.min.20210802221527.min","ds2-searchform":"app/partials/ds2-searchform.min.20210802221527.min","ds2-searchfield":"/etc.clientlibs/settings/wcm/designs/aemsearch/clientlibs/core/searchfield.min.20210802221527.min","ds2-settable-link":"app/ds2-settable-link.min.20210802221527.min","ds2-sharing":"app/partials/ds2-sharing.min.20210802221527.min","ds2-showroom":"/etc.clientlibs/digitals2/buttons/components/showroom/clientlibs.min.20210802221527.min",
"ds2-showroom-highlight":"/etc.clientlibs/digitals2/showroom/components/highlight/clientlibs.min.20210802221527.min","ds2-showroom-line":"/etc.clientlibs/digitals2/showroom/components/line/clientlibs.min.20210802221527.min","ds2-showroom-mosaicgallery":"/etc.clientlibs/digitals2/showroom/components/mosaicgallery/clientlibs.min.20210802221527.min","ds2-showroom-multicontent":"/etc.clientlibs/digitals2/showroom/components/multicontent/clientlibs.min.20210802221527.min","ds2-showroom-offers":"/etc.clientlibs/digitals2/showroom/components/offers/clientlibs.min.20210802221527.min",
"ds2-showroom-preconfiguration":"/etc.clientlibs/digitals2/showroom/components/uxspreconfiguration/clientlibs.min.20210802221527.min","ds2-showroom-tracking":"/etc.clientlibs/digitals2/showroom/components/common/clientlibs.min.20210802221527.min","ds2-showroom-transitionslider":"/etc.clientlibs/digitals2/showroom/components/transitionslider/clientlibs.min.20210802221527.min","ds2-singlebrochure":"app/partials/ds2-singlebrochure.min.20210802221527.min","ds2-sitemap":"app/partials/ds2-sitemap.min.20210802221527.min",
"ds2-slider":"app/partials/0-sub-elements/ds2-slider.min.20210802221527.min","ds2-slider-dots":"app/partials/0-sub-elements/ds2-slider-dots.min.20210802221527.min","ds2-smartbanner":"app/partials/ds2-smartbanner.min.20210802221527.min","ds2-social-media-link":"app/ds2-social-media-link.min.20210802221527.min","ds2-social-media-icon":"/etc.clientlibs/digitals2/footer/components/share/universalicon/clientlibs.min.20210802221527.min","ds2-sound":"app/partials/ds2-sound.min.20210802221527.min","ds2-stage-presentation":"app/partials/ds2-stage-presentation.min.20210802221527.min",
"ds2-stage-teaser":"/etc.clientlibs/digitals2/teasers/components/stageteaser/clientlibs.min.20210802221527.min","ds2-stage-teaser-item":"/etc.clientlibs/digitals2/teasers/components/stageteaseritem/clientlibs.min.20210802221527.min","ds2-sticky-salesbar":"/etc.clientlibs/digitals2/navigation/components/sticky-salesbar/clientlibs.min.20210802221527.min","ds2-stock-locator-api":"/etc.clientlibs/digitals2/stocklocator/components/stocklocator/clientlibs.min.20210802221527.min","ds2-sweepstake":"app/partials/ds2-sweepstake.min.20210802221527.min",
"ds2-switch":"/etc.clientlibs/digitals2/general/components/switch/clientlibs.min.20210802221527.min","ds2-stock-locator-preview-slider":"/etc.clientlibs/digitals2/stocklocator/components/preview-slider/clientlibs.min.20210802221527.min","ds2-table-element":"app/partials/0-sub-elements/ds2-table-element.min.20210802221527.min","ds2-techhub-anchornav":"app/partials/ds2-techhub/ds2-techhub-anchornav.min.20210802221527.min","ds2-techhub-detail":"app/partials/ds2-techhub/ds2-techhub-detail.min.20210802221527.min",
"ds2-techhub-dropdown":"app/partials/ds2-techhub/ds2-techhub-dropdown.min.20210802221527.min","ds2-techhub-overlay":"app/partials/ds2-techhub/ds2-techhub-overlay.min.20210802221527.min","ds2-techhub-overview":"app/partials/ds2-techhub/ds2-techhub-overview.min.20210802221527.min","ds2-techhub-tracking":"app/partials/ds2-techhub/ds2-techhub-tracking.min.20210802221527.min","ds2-text-direction":"app/partials/0-sub-elements/ds2-text-direction.min.20210802221527.min","ds2-tracking-table":"app/partials/0-sub-elements/ds2-table-element.min.20210802221527.min",
"ds2-tabs":"app/partials/0-sub-elements/ds2-tabs.min.20210802221527.min","ds2-tapnhold":"app/partials/ds2-tapnhold.min.20210802221527.min","ds2-tda-model-selection":"app/partials/ds2-tda-model-selection.min.20210802221527.min","ds2-technical-data":"/etc.clientlibs/digitals2/technicaldata/components/technicaldata/clientlibs.min.20210802221527.min","ds2-technical-data-tracking":"app/partials/ds2-technical-data-tracking.min.20210802221527.min","ds2-toggle":"app/partials/0-sub-elements/ds2-toggle.min.20210802221527.min",
"ds2-tooltip":"app/partials/0-sub-elements/ds2-tooltip.min.20210802221527.min","ds2-topic-slider":"app/partials/ds2-topic-slider.min.20210802221527.min","ds2-touch-detection":"app/partials/0-sub-elements/ds2-touch-detection.min.20210802221527.min","ds2-tracking-base":"/etc/clientlibs/digitals2/tracking/js/ds2-tracking-base.min.20210802221527.min","ds2-tracking-error-page":"app/partials/0-sub-elements/ds2-errors.min.20210802221527.min","ds2-tracking-wrapper":"app/ds2-tracking-wrapper.min.20210802221527.min",
"ds2-tracking-checker":"app/ds2-tracking-checker.min.20210802221527.min","ds2-typo":"app/partials/ds2-typo.min.20210802221527.min","ds2-tdaonline/tda":"/etc.clientlibs/settings/wcm/designs/ds2-tdaonline/clientlibs/app.min.20210802221527.min","ds2-usabilla":"app/partials/0-sub-elements/ds2-usabilla.min.20210802221527.min","ds2-uxn-footer-helper":"app/ds2-uxn-footer.min.20210802221527.min","ds2-uxn-seo":"app/ds2-uxn-seo.min.20210802221527.min","ds2-uxn-content-bar":"app/partials/ds2-uxn-content-bar.min.20210802221527.min",
"ds2-uxn-quickactions":"app/partials/ds2-uxn-quickactions.min.20210802221527.min","ds2-versioninfo":"/etc.clientlibs/digitals2/general/components/pages/basepage/versioninfo/clientlibs.min.20210802221527.min","ds2-video-layer-link":"app/partials/0-sub-elements/ds2-video-layer-link.min.20210802221527.min","ds2-video-player":"app/partials/0-sub-elements/ds2-video-player.min.20210802221527.min","ds2-wltp-data":"app/partials/ds2-wltp-data.min.20210802221527.min","ds2-wideteaser":"/etc.clientlibs/digitals2/teasers/components/wideteaser/clientlibs.min.20210802221527.min",
StockcarAem:"/etc/clientlibs/bmwkit/stockcar.aem.min.20210802221527",StockLocatorAem:"/etc/clientlibs/bmwkit/stock-locator.aem.min.20210802221527",vueCqUtils:"app/ds2-vuecqutils.min.20210802221527","@bmwkit/EventBus":"app/@bmwkit/EventBus.min.20210802221527",VisualizerAem:"/etc/clientlibs/bmwkit/visualizer.aem.min.20210802221527",quickactions:"app/ds2-quickactions.min.20210802221527",InteriorCarViewerAem:"/etc/clientlibs/bmwkit/interior-car-viewer.aem.min.20210802221527","ds2-uxn-top-navigation":"/etc/clientlibs/bmwkit/the-top-navigation.aem.min.20210802221527.min",
"ds2-uxn-content-navigation":"/etc/clientlibs/bmwkit/content-navigation.aem.min.20210802221527.min","ds2-uxn-footer":"/etc/clientlibs/bmwkit/the-footer.aem.min.20210802221527.min","business-myce/myce":"/etc.clientlibs/settings/wcm/designs/myce/clientlibs/app.min.20210802221527","business/commons/components/emissions-label":"/etc.clientlibs/business/commons/components/emissions-label/clientlib.min.20210802221527","accordion-v1":"vendor/focus-visible.min.20210802221527",accounting:"vendor/accounting.min.20210802221527",
angular:"/etc.clientlibs/settings/wcm/designs/business/bfc/angular/clientLibs.min.20210802221527.min","angular.animate":"/etc.clientlibs/settings/wcm/designs/business/bfc/angular_animate/clientLibs.min.20210802221527.min",clipboard:"vendor/clipboard.min.20210802221527",cocoen:"vendor/cocoen.min.20210802221527",conduitjs:"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/conduitjs-0.3.3.min.20210802221527",fastclick:"vendor/fastclick.min.20210802221527","focus-visible":"vendor/focus-visible.min.20210802221527",
"frontend/services/geolocation":"/etc/clientlibs/frontend/services/geolocation.min.20210802221527",handlebars:"vendor/handlebars.min.20210802221527",history:"vendor/historyjs.min.20210802221527",imagesloaded:"vendor/imagesloaded.min.20210802221527","jquery-bigtext":"vendor/jquery-bigtext.min.20210802221527","jquery-dotdotdot":"vendor/jquery-dotdotdot.min.20210802221527","jquery-fittext":"vendor/jquery-fittext.min.20210802221527","jquery-inview":"vendor/jquery-inview.min.20210802221527","jquery-qtip":"vendor/qtip.min.20210802221527",
"jquery-slick":"vendor/jquery-slick.min.20210802221527","jquery-sleck":"vendor/jquery-sleck.min.20210802221527","jquery-stacktable":"vendor/jquery-stacktable.min.20210802221527","jquery-ui":"vendor/jquery-ui.min.20210802221527","jquery-lazy":"vendor/jquery-lazy-plugins.min.20210802221527",lazyload:"vendor/lazyload.min.20210802221527","postal.settings":"/etc/clientlibs/frontend-foundation/messagebus/postal-settings.min.20210802221527","postal.uuid":"/etc/clientlibs/frontend-foundation/messagebus/postal-uuid.min.20210802221527",
"postal.provider":"/etc/clientlibs/frontend-foundation/messagebus/postal-provider.min.20210802221527",postal:"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.js-2.0.4.min.20210802221527","postal.preserve":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.preserve-0.2.0-MODIFIED.min.20210802221527","postal.reqres":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.request-response-0.3.1-MODIFIED.min.20210802221527","postal.federation":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.federation-0.5.5.min.20210802221527",
"postal.xframe":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.xframe-0.5.1.min.20210802221527","regenerator-runtime":"/etc/clientlibs/frontend-foundation/messagebus/3rdParty/regenerator-runtime-0.13.7.js",swiper:"vendor/swiper.min.20210802221527",smartbanner:"/etc/clientlibs/digitals2/clientlib/js/vendor/smartbanner.min.20210802221527.js",vue:"vendor/vue.min.20210802221527","vue-router":"vendor/vue-router.min.20210802221527",vuex:"vendor/vuex.min.20210802221527","yandex-heatmap":"vendor/yandex-heatmap.min.20210802221527",
"s7-video-viewer":"//bmw.scene7.com/s7viewers/html5/js/VideoViewer"}},context;try{context=global}catch(a){context=window}void 0!==context.requirejs&&requirejs.config(config);context.global&&(module.exports=config);require(["componentInitializer"],function(a){a.init()});
var UCPDataService=function(a,c){function g(){var d=b();if(!selfUcpService.configurationSettings.pdhUrl||!selfUcpService.configurationSettings.mandator)return console.log("Missing PDH url and the mandator to get the UCP settings"),d;if(selfUcpService.configurationSettings&&selfUcpService.configurationSettings.ucpV3BaseUrl&&-1<selfUcpService.configurationSettings.ucpV3BaseUrl.indexOf("%")){for(var a=decodeURIComponent(selfUcpService.configurationSettings.ucpV3BaseUrl),h=0;-1<a.indexOf("%")&&10>h;)a=
decodeURIComponent(a),h+=1,console.log("Decoded url: ",a);selfUcpService.configurationSettings.ucpV3BaseUrl=a}q(selfUcpService.configurationSettings.pdhUrl+selfUcpService.configurationSettings.PDH_SETTING_ENDPOINT+"/"+selfUcpService.configurationSettings.mandator,"GET",null,null).then(function(a){if(a){selfUcpService.configurationSettings.ucpservices.configs=a;selfUcpService.configurationSettings.ucpservices.configs.context.brand=a.context.brands[0];selfUcpService.configurationSettings.ucpservices.configs.context.brands=
a.context.brands;if(a&&(selfUcpService.configurationSettings.ucpV3BaseUrl||(selfUcpService.configurationSettings.ucpV3BaseUrl=a.endpoint),!selfUcpService.configurationSettings.apiKey)){var e=selfUcpService.configurationSettings;a:{if(a.apikeys){a=a.apikeys;for(var h=0;h<a.length;h++){var B=a[h];if(B.endpoint===selfUcpService.configurationSettings.ucpV3BaseUrl){a=B.apikey;break a}}}else if(a.apikey){a=a.apikey;break a}a=void 0}e.apiKey=a}selfUcpService.isInitialized=!0}d.resolve(selfUcpService.configurationSettings)},
function(a){d.reject(a)});return d}function b(){return a.Deferred()}function f(){return{"x-api-key":selfUcpService.configurationSettings.apiKey,"Content-type":"application/json"}}function l(a){a=selfUcpService.configurationSettings.ucpservices.GET_SAVED_VEHICLE_BY_CONFIGURL.replace(selfUcpService.CONST.CONFIGURL_PARAM,a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function k(){var a=r(),e=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.GET_SERIES_NAME.replace(selfUcpService.CONST.SOURCE_PARAM,
e.source).replace(selfUcpService.CONST.BRAND_PARAM,e.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,e.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,a).replace(selfUcpService.CONST.APPLICATION_PARAM,e.application).replace(selfUcpService.CONST.LANGUAGE_PARAM,e.language).replace(selfUcpService.CONST.CLUSTER_PARAM,e.cluster).replace(selfUcpService.CONST.GFSPOLICY_PARAM,e.gfsPolicy);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function m(a){var d=b(),h=k();p(h).then(function(e){e[a]&&
e[a].phrases&&e[a].phrases.longDescription&&(selfUcpService.vehicle.seriesName=e[a].phrases.longDescription);d.resolve(e)},function(a){d.resolve(a)});return d}function n(a,e){var d=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.GET_COSY_IMAGES.replace(selfUcpService.CONST.APPLICATION_PARAM,d.application).replace(selfUcpService.CONST.APPSHORT_PARAM,d.appShort?d.appShort:"h5-bmw").replace(selfUcpService.CONST.BRAND_PARAM,d.brand).replace(selfUcpService.CONST.MODEL_CODE_PARAM,
a).replace(selfUcpService.CONST.OPTIONS_PARAM,e);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function O(a){var d=b(),h=n(a.modelCode,a.options.join(","));a.cosyImageUrls={};a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]="";a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]="";p(h).then(function(e){var h=e[selfUcpService.CONST.VEHICLE];h&&(h&&h[selfUcpService.CONST.FRONTSIDE_VIEW]&&(a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]=h[selfUcpService.CONST.FRONTSIDE_VIEW].imageUrl),
h&&h[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]&&(a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]=h[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW].imageUrl));d.resolve(e)},function(a){d.resolve(a)});return d}function P(a,e,h){var d=selfUcpService.configurationSettings.ucpservices.configs.context,b=d.brand;h&&(b=h);a=selfUcpService.configurationSettings.ucpservices.GET_COSY_GARAGE_IMAGES.replace(selfUcpService.CONST.APPLICATION_PARAM,d.application).replace(selfUcpService.CONST.APPSHORT_PARAM,
d.appShort?d.appShort:"h5-bmw").replace(selfUcpService.CONST.BRAND_PARAM,b).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a).replace(selfUcpService.CONST.OPTIONS_PARAM,e);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function v(a){if(a.mandator&&a.mandator.brand)var d=a.mandator.brand;var h=b();d=P(a.modelCode,a.options.join(","),d);a.cosyImageUrls={};a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]="";a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]="";p(d).then(function(d){if(d){var e=
d[selfUcpService.CONST.GARAGE];e&&(e&&e[selfUcpService.CONST.DT_GARGE]&&(a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW]=e[selfUcpService.CONST.DT_GARGE].imageUrl),e&&e[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]&&(a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW]=e[selfUcpService.CONST.P_GARGE].imageUrl))}h.resolve(d)},function(a){h.resolve(a)});return h}function z(a){if(a&&selfUcpService.configurationSettings.apiKey){var d=b();a=l(a);p(a).then(function(a){if(a){selfUcpService.vehicle.modelCode=
a.configuration.modelCode;selfUcpService.vehicle.modelBaseCode=a.configuration.modelCode;selfUcpService.vehicle.configId=a.configId;selfUcpService.vehicle.options=a.configuration.options.sort();selfUcpService.vehicle.configUrl=selfUcpService.configurationSettings.conBaseUrl+selfUcpService.configurationSettings.CON_OPEN_CONFIGURATION_ENDPOINT.replace(selfUcpService.CONST.CONFIGURL_PARAM,a.configId);selfUcpService.vehicle.optionalEquipments=[];for(var e=0;e<selfUcpService.vehicle.options.length;e++)selfUcpService.vehicle.optionalEquipments.push({code:selfUcpService.vehicle.options[e],
name:"",netPrice:"",grossPrice:"",displayFlag:!0,standard:""})}a.mandator&&a.mandator.brand&&(selfUcpService.configurationSettings.ucpservices.configs.context.brand=a.mandator.brand);selfUcpService.vehicle&&selfUcpService.vehicle.modelCode?C(selfUcpService.vehicle.modelCode).then(function(){d.resolve(a)},function(){d.resolve(a)}):d.resolve(a)},function(a){d.reject(a)});return d}}function A(a,e){selfUcpService.vehicle.modelCode=a;selfUcpService.vehicle.modelBaseCode=a;selfUcpService.vehicle.options=
e.sort();selfUcpService.vehicle.optionalEquipments=[];for(a=0;a<selfUcpService.vehicle.options.length;a++)selfUcpService.vehicle.optionalEquipments.push({code:selfUcpService.vehicle.options[a],name:"",netPrice:"",grossPrice:"",displayFlag:!0,standard:""})}function t(a,e){if(null!=a){if(a&&a.category===e)return a;if((a=a.subNodes)&&0<a.length){var d=a.length-1,b=t(a[d],e);if(null!=b)return b;for(;null==b&&-1<d;)if(--d,b=t(a[d],e),null!=b)return b}}return null}function r(a){var d=new Date,b=D(d);if(a&&
selfUcpService.configurationDates[a]){var c=Date.parse(selfUcpService.configurationDates[a].earliestEffectDate);c>d&&(b=selfUcpService.configurationDates[a].earliestEffectDate)}return b}function D(a){var d=new Date,b=d.getUTCFullYear(),c=d.getMonth()+1,f=d.getDate();a&&(b=a.getUTCFullYear(),c=d.getMonth()+1,f=d.getDate());return""+b+"-"+(10>c?"0"+c:c)+"-"+(10>f?"0"+f:f)}function E(a){var d=b(),h=selfUcpService.configurationSettings.ucpservices.configs,c=h.context.brand;a.mandator&&a.mandator.brand&&
(c=a.mandator.brand);var f=r(a.modelCode);h={settings:{priceTree:h.priceTree?h.priceTree:"DEFAULT",ignoreInvalidOptionCodes:!0,ignoreInvalidOaIds:!0},validityDates:{effectDate:f,taxDate:D()},vehicleDatasource:{source:h.context.source,brand:c,gfsPolicy:h.context.gfsPolicy,cluster:h.context.cluster},configuration:{model:a.modelCode,selectedOptions:a.options}};c=selfUcpService.configurationSettings.ucpV3BaseUrl+selfUcpService.configurationSettings.ucpservices.POST_PRICE_CALCULATION.replace(selfUcpService.CONST.COUNTRY_PARAM,
selfUcpService.configurationSettings.ucpservices.configs.context.country);w(c,JSON.stringify(h)).then(function(e){if(e){var b=t(e.priceTreeNode,selfUcpService.CONST.MODEL_AND_OPTION_TOTAL),h=t(e.priceTreeNode,selfUcpService.CONST.MODEL_TOTAL);e=t(e.priceTreeNode,selfUcpService.CONST.OPTION_TOTAL);b&&b.effectivePrice&&(b=b.effectivePrice,a.totalNetPrice=""+b.netPrice,a.totalGrossPrice=""+b.grossPrice,a.grossPrice=""+b.grossPrice);h&&h.effectivePrice&&(h=h.effectivePrice,a.modelNetPrice=""+h.netPrice,
a.modelGrossPrice=""+h.grossPrice);if(e){if(h=e.effectivePrice)a.equipmentNetPrice=""+h.netPrice,a.equipmentGrossPrice=""+h.grossPrice;h=e.subNodes;a.optionalEquipments&&F(h,a.optionalEquipments)}d.resolve(a)}},function(a){d.resolve(a)});return d}function F(a,e){if(e&&0<a.length)for(var d=0;d<a.length;d++){var b=a[d];"OPTION"!=b.category&&0<b.subNodes.length&&F(b.subNodes,e);if("OPTION"==b.category)for(var c=0;c<e.length;c++){var f=e[c];if(f.code==b.key&&b.effectivePrice){f.netPrice=""+b.effectivePrice.netPrice;
f.grossPrice=""+b.effectivePrice.grossPrice;break}}}}function Q(a,b,h){var d=selfUcpService.configurationSettings.ucpservices.configs.context,e=d.brand;h&&(e=h);h=selfUcpService.configurationSettings.ucpservices.GET_OPTIONS_INFORMATIONS;var c=r(a);b=b.sort().join(",");h=h.replace(selfUcpService.CONST.BRAND_PARAM,e).replace(selfUcpService.CONST.SOURCE_PARAM,d.source).replace(selfUcpService.CONST.COUNTRY_PARAM,d.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,c).replace(selfUcpService.CONST.ORDER_DATE_PARAM,
c).replace(selfUcpService.CONST.APPLICATION_PARAM,d.application).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a).replace(selfUcpService.CONST.LANGUAGE_PARAM,d.language).replace(selfUcpService.CONST.OPTIONS_PARAM,b);return selfUcpService.configurationSettings.ucpV3BaseUrl+h}function G(a){if(a.mandator&&a.mandator.brand)var d=a.mandator.brand;d=Q(a.modelCode,a.options,d);var h=b();p(d).then(function(b){for(var d=0;d<a.optionalEquipments.length;d++){var e=a.optionalEquipments[d],c=b[e.code];c&&(c.phrases&&
(e.name=c.phrases.longDescription),e.displayFlag=1==c.displayTypeId,e.standard=""+c.std,e.type=c.type,e.isPaint="paint"==c.optionType,e.isFabric="fabric"==c.optionType);e.isPaint&&(a.paint=e);e.isFabric&&(a.fabric=e)}h.resolve(b)},function(a){h.resolve(a)});return h}function R(a,b){var d=selfUcpService.configurationSettings.ucpservices.configs.context,e=d.brand;b&&(e=b);b=r(a);a=selfUcpService.configurationSettings.ucpservices.GET_RANGE_CODE.replace(selfUcpService.CONST.SOURCE_PARAM,d.source).replace(selfUcpService.CONST.BRAND_PARAM,
e).replace(selfUcpService.CONST.COUNTRY_PARAM,d.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,b).replace(selfUcpService.CONST.ORDER_DATE_PARAM,b).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function H(a){if(a.mandator&&a.mandator.brand)var e=a.mandator.brand;e=R(a.modelCode,e);var d=b();p(e).then(function(b){a.modelRange=b.modelRange;a.agModelCode=b.agModelCode;a.series=b.series;a.bodyStyle=b.bodyStyle;a.baseModelCode=b.agModelCode;
m(b.series).then(function(a){d.resolve(a)},function(a){d.resolve(a)})},function(a){d.resolve(a)});return d}function S(a,b){var e=selfUcpService.configurationSettings.ucpservices.configs.context,d=e.brand;b&&(d=b);b=r(a);a=selfUcpService.configurationSettings.ucpservices.GET_MODEL_NAME.replace(selfUcpService.CONST.SOURCE_PARAM,e.source).replace(selfUcpService.CONST.BRAND_PARAM,d).replace(selfUcpService.CONST.COUNTRY_PARAM,e.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM,b).replace(selfUcpService.CONST.APPLICATION_PARAM,
e.application).replace(selfUcpService.CONST.LANGUAGE_PARAM,e.language).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function x(d,e,c){d=S(d,c);var h=b();p(d).then(function(b){a.extend(selfUcpService.modelsNames,b);e&&e(b);h.resolve(b)},function(a){h.resolve(a)});return h}function T(a,e){e=b();for(var d=[],c=0;c<a.length;c++){var f=a[c],g=f.modelCode;var k=void 0,l=new Date(selfUcpService.configurationSettings.ucpservices.configs.context.effectDate);
selfUcpService.configurationDates[g]&&(k=new Date(selfUcpService.configurationDates[g].latestEffectDate));g=k&&l instanceof Date&&!isNaN(l)&&k instanceof Date&&!isNaN(k)&&l>k?!1:!0;g&&d.push(f)}e.resolve(d);return e}function I(a,e){var d=selfUcpService.configurationSettings.ucpservices.configs.context,c=d.brand;e&&(console.log("model codes belong to brand",e),c=e);a=selfUcpService.configurationSettings.ucpservices.MODELS.replace(selfUcpService.CONST.SOURCE_PARAM,d.source).replace(selfUcpService.CONST.BRAND_PARAM,
c).replace(selfUcpService.CONST.COUNTRY_PARAM,d.country).replace(selfUcpService.CONST.MODEL_CODE_PARAM,a);a=selfUcpService.configurationSettings.ucpV3BaseUrl+a;var f=b();p(a).then(function(a){f.resolve(a)},function(a){f.reject(a)});return f}function C(d,e){var c=b();I(d,e).then(function(b){a.each(b,function(a,b){!selfUcpService.configurationDates[a]&&b&&(selfUcpService.configurationDates[a]=b.configurationDates)});c.resolve(b)},function(a){c.resolve(a)});return c}function U(a){var b=selfUcpService.configurationSettings.ucpservices.configs.context,
d=[];if(0<b.brands.length)for(var c=0;c<b.brands.length;c++){var f=selfUcpService.configurationSettings.ucpservices.GCDM_OWNER_CONFIGURATIONS.replace(selfUcpService.CONST.APPLICATION_PARAM,b.application).replace(selfUcpService.CONST.BRAND_PARAM,b.brands[c]).replace(selfUcpService.CONST.COUNTRY_PARAM,b.country).replace(selfUcpService.CONST.GCDM_TOKEN,a);selfUcpService.configurationSettings.gcdmBackendUrl&&0<selfUcpService.configurationSettings.gcdmBackendUrl.length&&(f=f+"?gcdm-environment\x3d"+selfUcpService.configurationSettings.gcdmBackendUrl);
d.push(selfUcpService.configurationSettings.ucpV3BaseUrl+f)}return d}function J(d){d=U(d);for(var e=b(),c=[],f=[],g=0;g<d.length;g++)f.push(V(d[g],c).promise());a.when.apply(a,f).then(function(){e.resolve(c)},function(){e.resolve(c)});return e}function V(a,e){var d=b();p(a).then(function(a){if(a){var b=[],c="",f="",h;for(h in a){var g=a[h].configuration.modelCode;garageEntry={configUrl:a[h].configId,modelCode:g,created:a[h].metadata.creationDate,lastUpdate:a[h].metadata.lastModified,note:a[h].note1||
a[h].note2,options:a[h].configuration.options.sort(),optionalEquipments:[],mandator:a[h].mandator};for(var k=0;k<garageEntry.options.length;k++)garageEntry.optionalEquipments.push({code:garageEntry.options[k]});-1==b.indexOf(g)&&b.push(a[h].configuration.modelCode);c=garageEntry.mandator.brand;e.push(garageEntry)}0<b.length&&(f=b.sort().join(","));C(b,c).then(function(){T(e).then(function(a){e=a;x(f,null,c).then(function(){y(e).then(function(){d.resolve(e)},function(){d.resolve(e)})},function(){y(e).then(function(){d.resolve(e)},
function(){d.resolve(e)})})})},function(){y(e).then(function(){d.resolve(e)},function(){d.resolve(e)})})}});return d}function y(d){for(var e=[],c=b(),f=0;f<d.length;f++){var g=d[f];e.push(E(g).promise());e.push(H(g).promise());e.push(v(g).promise());e.push(G(g).promise())}a.when.apply(a,e).done(function(){for(var a=0;a<d.length;a++){var b=d[a].modelCode;selfUcpService.modelsNames&&selfUcpService.modelsNames[b]&&selfUcpService.modelsNames[b].phrases&&(d[a].vehicleName=selfUcpService.modelsNames[b].phrases.longDescription,
d[a].note||(d[a].note=selfUcpService.modelsNames[b].phrases.longDescription))}c.resolve()},function(){c.resolve()});return c}function W(a,b){var d=selfUcpService.configurationSettings.ucpservices.configs.context;b||(b=d.brand);a=selfUcpService.configurationSettings.ucpservices.GCDM_OWNER_CONFIGURATIONS.replace(selfUcpService.CONST.APPLICATION_PARAM,d.application).replace(selfUcpService.CONST.BRAND_PARAM,b).replace(selfUcpService.CONST.COUNTRY_PARAM,d.country).replace(selfUcpService.CONST.GCDM_TOKEN,
a);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function K(a,c){a=W(a,c.brand);var d=b();w(a,JSON.stringify({configuration:{modelCode:c.modelCode,options:c.selectedFeatures},note1:c.note})).then(function(a){a&&d.resolve({baseConfigUrl:a.configId})},function(a){d.reject(a)});return d}function L(a,b){var c=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.UPDATE_GARAGE_VEHICLE.replace(selfUcpService.CONST.APPLICATION_PARAM,
c.application).replace(selfUcpService.CONST.BRAND_PARAM,c.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,c.country).replace(selfUcpService.CONST.GCDM_TOKEN,a).replace(selfUcpService.CONST.CONFIG_ID,b);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}function M(a,c){var d=b();a=L(a,c);q(a,selfUcpService.CONST.DELETE,null,f()).then(function(){d.resolve({status:"OK"})},function(){d.reject()});return d}function N(a,c){var d=b(),e=L(a,c.configUrl),f={configuration:{modelCode:c.modelCode.value,
options:c.options},note1:c.note};p(e).then(function(a){a&&!f.note1&&(f.note1=a.note1);X(e,JSON.stringify(f)).then(function(a){d.resolve({configUrl:c.configUrl,modelCode:c.modelCode.value,options:c.options,note:f.note1,created:a.creationDate,lastUpdate:a.lastUpdate})},function(a){d.reject(a)})},function(a){d.reject(a)});return d}function w(a,b){return q(a,selfUcpService.CONST.POST,b,f())}function p(a){return q(a,selfUcpService.CONST.GET,null,f())}function X(a,b){return q(a,selfUcpService.CONST.PUT,
b,f())}function q(c,e,f,g){var d=b(),h="json";-1<selfUcpService.CONST.DELETE.indexOf(e)&&(h="text");a.ajax({url:c,type:e,data:f,dataType:h,headers:g}).done(function(a){d.resolve(a)}).fail(function(a,b,c){console.log("call failed",b);d.reject(b)});return d}function u(){var c=b(),e=[];e.push(E(selfUcpService.vehicle).promise());e.push(G(selfUcpService.vehicle).promise());e.push(H(selfUcpService.vehicle).promise());e.push(x(selfUcpService.vehicle.modelCode,null).promise());e.push(O(selfUcpService.vehicle).promise());
a.when.apply(a,e).done(function(){selfUcpService.modelsNames[selfUcpService.vehicle.modelCode]&&selfUcpService.modelsNames[selfUcpService.vehicle.modelCode].phrases&&(selfUcpService.vehicle.modelName=selfUcpService.modelsNames[selfUcpService.vehicle.modelCode].phrases.longDescription);c.resolve(selfUcpService.vehicle)},function(){c.resolve(selfUcpService.vehicle)});return c}function Y(){var a=selfUcpService.configurationSettings.ucpservices.configs.context;a=selfUcpService.configurationSettings.ucpservices.GARAGE_SAVE_ANONYMOUS.replace(selfUcpService.CONST.APPLICATION_PARAM,
a.application).replace(selfUcpService.CONST.BRAND_PARAM,a.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,a.country);return selfUcpService.configurationSettings.ucpV3BaseUrl+a}this.configurationSettings={ucpservices:{GET_SAVED_VEHICLE_BY_CONFIGURL:"/garage/public-configurations/{configUrl}",GET_OPTIONS_INFORMATIONS:"/localisations/overridden-vehicle-data/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/order-dates/{orderDate}/applications/{application}/models/{modelCode}/options/languages/{language}?option-list\x3d{options}",
GET_MODEL_NAME:"/localisations/merged-phrases/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/applications/{application}/models/languages/{language}?model-list\x3d{modelCode}",GET_RANGE_CODE:"/vehicles/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/order-dates/{orderDate}/models/{modelCode}",POST_PRICE_CALCULATION:"/pricing/calculation/public-calculation/countries/{country}",GET_SERIES_NAME:"/localisations/merged-phrases/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/applications/{application}/series/languages/{language}?cluster\x3d{cluster}\x26gfs-policy\x3d{gfsPolicy}",
GET_COSY_IMAGES:"/image-urls/applications/{application}/collections/VEHICLE/app-short/{appShort}/brands/{brand}/dynamic-images/models/{modelCode}?included-options\x3d{options}",GCDM_OWNER_CONFIGURATIONS:"/garage/applications/{application}/brands/{brand}/countries/{country}/gcdm-owners/{gcdmToken}/configurations",UPDATE_GARAGE_VEHICLE:"/garage/applications/{application}/brands/{brand}/countries/{country}/gcdm-owners/{gcdmToken}/configurations/{configId}",GET_COSY_GARAGE_IMAGES:"/image-urls/applications/{application}/collections/GARAGE/app-short/{appShort}/brands/{brand}/dynamic-images/models/{modelCode}?included-options\x3d{options}",
GARAGE_SAVE_ANONYMOUS:"/garage/applications/{application}/brands/{brand}/countries/{country}/anon-configurations",MODELS:"/vehicles/sources/{source}/brands/{brand}/countries/{country}/models?vg-model-codes\x3d{modelCode}"},ucpV3BaseUrl:void 0,CON_OPEN_CONFIGURATION_ENDPOINT:"/configid/{configUrl}",PDH_SETTING_ENDPOINT:"/pdh/settings/v1.0/ucpv3"};a.extend(this.configurationSettings,c);this.CONST={CONFIGURL_PARAM:"{configUrl}",BRAND_PARAM:"{brand}",COUNTRY_PARAM:"{country}",EFFECT_DATE_PARAM:"{effectDate}",
ORDER_DATE_PARAM:"{orderDate}",APPLICATION_PARAM:"{application}",MODEL_CODE_PARAM:"{modelCode}",LANGUAGE_PARAM:"{language}",LOCALE_PARAM:"{locale}",OPTIONS_PARAM:"{options}",SOURCE_PARAM:"{source}",CLUSTER_PARAM:"{cluster}",GFSPOLICY_PARAM:"{gfsPolicy}",APPSHORT_PARAM:"{appShort}",GCDM_TOKEN:"{gcdmToken}",CONFIG_ID:"{configId}",GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",MODEL_AND_OPTION_TOTAL:"MODEL_AND_OPTION_TOTAL",MODEL_TOTAL:"MODEL_TOTAL",OPTION_TOTAL:"OPTION_TOTAL",SMALL_VEHICLE_34_VIEW:"SMALL_VEHICLE_34_VIEW",
FRONTSIDE_VIEW:"FRONTSIDE_VIEW",VEHICLE:"VEHICLE",GARAGE:"GARAGE",DT_GARGE:"DT_GARAGE",P_GARGE:"P_GARAGE"};this.vehicle={};this.modelsNames={};this.configurationDates={};selfUcpService=this;this.getVehicleByModelCodeAndOptions=function(a,c){var d=b(),f;if(a&&c&&0!=c.length)return this.configurationSettings.ucpservices.configs||(f=g()),f?f.then(function(){A(a,c);u(a,c).then(function(a){d.resolve(a)})}):(A(a,c),u(a,c).then(function(a){d.resolve(a)})),d};this.getVehicle=function(a){var c=b(),d;this.configurationSettings.ucpservices.configs||
(d=g());d?d.then(function(){z(a).then(function(){u().then(function(a){c.resolve(a)})})}):z(a).then(function(){u().then(function(a){c.resolve(a)})});return c};this.listVehicles=function(a){var c=b(),d;this.configurationSettings.ucpservices.configs||(d=g());d?d.then(function(){J(a).then(function(a){c.resolve(a)})}):J(a).then(function(a){c.resolve(a)});return c};this.createVehicle=function(a,c){var d=b(),f;this.configurationSettings.ucpservices.configs||(f=g());f?f.then(function(){K(a,c).then(function(a){d.resolve(a)},
function(a){d.reject(a)})}):K(a,c).then(function(a){d.resolve(a)},function(a){d.reject(a)});return d};this.updateVehicle=function(a,c){var d=b(),f;this.configurationSettings.ucpservices.configs||(f=g());f?f.then(function(){N(a,c).then(function(a){d.resolve(a)},function(a){d.reject(a)})}):N(a,c).then(function(a){d.resolve(a)},function(a){d.reject(a)});return d};this.deleteVehicle=function(a,c){var d=b(),f;this.configurationSettings.ucpservices.configs||(f=g());f?f.then(function(){M(a,c).then(function(a){d.resolve(a)},
function(a){d.reject(a)})}):M(a,c).then(function(a){d.resolve(a)},function(a){d.reject(a)});return d};this.getModelNameForModelCode=function(a){var c=b(),d;this.configurationSettings.ucpservices.configs||(d=g());d&&d.then(function(){x(a,function(b){b[a]&&b[a].phrases&&c.resolve(b[a].phrases.longDescription)})});return c};this.saveAnonymousConfig=function(a,c){var d=b();this.initialize().then(function(){var b=Y();w(b,JSON.stringify({configuration:{modelCode:a,options:c}})).then(function(a){a&&d.resolve({configId:a.configId})},
function(a){d.reject(a)})});return d};this.isModelAvailable=function(a){var c=b();this.initialize().then(function(){I(a).then(function(b){b?c.resolve(!!b[a]):c.resolve(!1)},function(a){c.reject(a)})});return c};this.initialize=function(){var a=b();this.configurationSettings.ucpservices.configs?a.resolve():g().then(function(){a.resolve()});return a}};
define("ds2-navigation",["jquery"],function(a){var c=function(c){this.element=a(c);this.init()};c.prototype.init=function(){var c=JSON.parse(a("#plainjson").html());a("#json").append(JSON.stringify(c,null,2))};return c});
(function(a){define("ds2-page-context",["postal","lodash"],function(a,g){function b(b){if(b){try{this.context=JSON.parse(b.innerHTML)}catch(m){this.context=c}a.subscribe({channel:"page-context",topic:"get",callback:this.call.bind(this,this.context)});a.subscribe({channel:"page-context",topic:"set",callback:this.changeContext.bind(this)});a.publish({channel:"page-context",topic:"init",data:this.context})}}var c={},l={MODEL_CODE:"${pageContext.modelCode}",MODEL_RANGE:"${pageContext.modelRange}",PAINT:"${pageContext.paint}",
FABRIC:"${pageContext.fabric}",OPTIONS:"${pageContext.options}"};b.prototype.changeContext=function(b){"object"===typeof b&&(b=g.assign(context,b),g.eq(context,b)||(this.context=b,a.publish({channel:"page-context",topic:"change",data:context})))};b.prototype.call=function(a,b){b(a)};b.CHANNEL="page-context";b.MODEL_RANGE="model-range";b.CURRENT_PAGE="current-page";b.CONFIGURATOR_PARAMS="default-configurator-params";b.MODEL_CODE="model-code";b.PAINT="paint";b.FABRIC="fabric";b.OPTIONS="options";b.SERIES_OVERVIEW_MODEL_RANGES=
"series-overview-model-ranges";b.MODEL_CAROUSEL_MODEL_CODES="model-carousel-codes";b.ALTERNATIVE_LANG_PAGES="alternativeLang";b.replacements=l;b.createHash=function(a,b,c,f,g,v){return a.replace(l.MODEL_CODE,b||"").replace(l.MODEL_RANGE,c||"").replace(l.PAINT,f||"").replace(l.FABRIC,g||"").replace(l.OPTIONS,v||"")};b.replaceModelRange=function(a,b){return a.replace(l.MODEL_RANGE,b||"")};return b});a(window).ready(function(){require(["ds2-page-context"],function(a){new a(document.getElementById("ds2-page-context"))})})})(window.jQuery);
(function(){define("ds2-tracking-checker",function(){function a(){}a.prototype.isDigitals2TrackingAvailable=function(){return window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api&&window.digitals2.tracking.api.initComponentTracking&&window.digitals2.tracking.api.addEventTracking};return new a})})();
define("business/commons/TrackingAdapter",function(){function a(a){function b(){var b=a.getPageObject(a.getCurrentPageIndex());return{eventInfo:{cause:"",effect:"",element:"",eventAction:"",eventName:"",eventPoints:"",target:"",timeStamp:Date.now().toString()},category:{primaryCategory:"",mmdr:b.category&&b.category.mmdr?b.category.mmdr:"",eventType:"triggered"},attributes:{relatedPageName:b.pageName||"",relatedPageCategory:b.category||{},relatedComponent:{componentInfo:{},category:{},attributes:{}}}}}
return{apply:function(){return{delayed:function(a){a.category.eventType=TC.DELAYED;return this},relatedComponent:function(a,b){a.attributes.relatedComponent=b;return this},relatedPageName:function(a,b){a.attributes.relatedPageName=b;return this},relatedPageCategory:function(a,b){a.attributes.relatedPageCategory=b;return this}}},newEvent:function(a){var c=b();a&&(c=g(!0,{},c,a));return{build:function(){return c},relatedComponentID:function(a){c.attributes.relatedComponentID=a;return this},eventAction:function(a){c.eventInfo.eventAction=
a;return this},eventName:function(a){c.eventInfo.eventName=a;return this},eventPoints:function(a){c.eventInfo.eventPoints=a.toString();return this},primaryCategory:function(a){c.category.primaryCategory=a;return this},subCategory01:function(a){c.category.subCategory01=a;return this},target:function(a){c.eventInfo.target=a;return this},effect:function(a){c.eventInfo.effect=a;return this},cause:function(a){c.eventInfo.cause=a;return this}}}}}function c(){return{options:function(){var a=!0,b="",c=!0,
g="click",n=!1;return{active:function(b){a=b;return this},build:function(){return{active:a,name:b,timing:c,type:g,useTimer:n}},name:function(a){b=(a||"").toLowerCase().replace(/\s+/g,"_");return this},timing:function(a){c=a;return this},type:function(a){g=a;return this},useTimer:function(a){n=a;return this}}}}}function g(){var a={},b=!1,c=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(;c<arguments.length;c++){var m=void 0,n=arguments[c];for(m in n)Object.prototype.hasOwnProperty.call(n,
m)&&(b&&"[object Object]"===Object.prototype.toString.call(n[m])?a[m]=g(!0,a[m],n[m]):a[m]=n[m])}return a}var b=function(){this.pageObject=this.optionsBuilder=this.eventBuilder=this.api=null;this.isEventCookieSaveCapable=!1;this.initTracking()};b.prototype={initTracking:function(){if(window.digital&&window.digital.tracking&&"function"===typeof window.digital.tracking.getInstance){var b=window.digital.tracking.getInstance(window.dataLayer);b.isMinimalInterface||(this.api=b,this.isEventCookieSaveCapable=
!1)}else this.api=window.digital&&window.digital.tracking&&window.digital.tracking.lib,this.isEventCookieSaveCapable=!0;if(this.api){if(b=this.api.getCurrentPageIndex())this.pageObject=this.api.getPageObject(b);this.eventBuilder=a(this.api)}this.initMinimalTrackingInterface()},getOptionsBuilder:function(){null===this.optionsBuilder&&(this.optionsBuilder=new c);return this.optionsBuilder},getPageObject:function(){if(!this.isInitialized())return{};this.pageObject&&this.pageObject.page||(this.pageObject=
this.api.getPageObject(this.api.getCurrentPageIndex()));return this.pageObject},getEventBuilder:function(){if(this.eventBuilder)return this.eventBuilder;window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api&&(this.eventBuilder=window.digitals2.tracking.eventBuilder);return this.eventBuilder},trackEvent:function(a,b,c){if(this.isInitialized()){var f=g(!0,{},a,{eventInfo:{timeStamp:Date.now().toString()}});try{_.has(f,"category.eventType")&&"delayed"===f.category.eventType&&this.isEventCookieSaveCapable?
this.api.eventCookieSave(f):(this.api.addEventTracking(b,f,this.api.getCurrentPageIndex()),this.triggerSatelliteEvent(c))}catch(n){console.error("caught exception while tracking event",a,", exception was",n)}}},satelliteTrack:function(a){if(window._satellite&&window._satellite.track){var b=this.api.getCurrentPageIndex(),c=g(!0,{},getPageObject(b));window._satellite.track(a,[b,c])}else console.log("_satellite not defined")},triggerSatelliteEvent:function(a){document.dispatchEvent(new CustomEvent("digital:tracking:addEventSatellite",
{detail:{eventName:"digital:tracking:addEventSatellite",eventOptions:a},bubbles:!1,cancelable:!1}))},initComponentTracking:function(a,b){if(this.isInitialized())return this.api.initComponentTracking(a,this.api.getCurrentPageIndex(),b)},getTrackingDefaults:function(a){return{eventInfo:{eventName:"",eventAction:"click",eventPoints:"",cause:"default",effect:""},category:{primaryCategory:a.category.primaryCatergory,subCategory01:a.category.subCategory01},attributes:{relatedComponentID:a.componentInfo.componentID,
relatedComponentName:a.componentInfo.componentName,relatedComponentPrimaryCategory:a.category.primaryCatergory}}},isApiValid:function(){return null!==this.api&&void 0!==this.api},isInitialized:function(){this.isApiValid()||this.initTracking();return this.isApiValid()},getComponent:function(a){if(!this.isInitialized())return null;var b=this.api.getPageObject(this.api.getCurrentPageIndex());return b.component?b.component[a]:null},newEvent:function(a){return this.getEventBuilder().newEvent(a)},applyEventComponentProperties:function(a,
b,c){this.eventBuilder.apply().relatedComponent(a,b);c&&(b=this.getPageObject())&&(this.eventBuilder.apply().relatedPageCategory(a,b.page.category),this.eventBuilder.apply().relatedPageName(a,b.page.pageInfo.pageName))},updateComponentTracking:function(a,b){this.isInitialized()&&this.api.updateComponentTracking(a,b,this.api.getCurrentPageIndex())},buildOptions:function(a){var b=this.getOptionsBuilder();return b?(b=b.options(),b.name(a),b.build()):null},initMinimalTrackingInterface:function(){window.digital=
window.digital||{};window.digital.tracking=window.digital.tracking||{};if(!window.digital.tracking.getInstance){var a=this;window.digital.tracking.getInstance=function(){return a.getMinimalInterfaceObject()}}},getMinimalInterfaceObject:function(){var a=this;return{getPageObject:function(b){return a.isInitialized()?a.api.getPageObject(b):{}},getCurrentPageIndex:function(){return a.isInitialized()?a.api.getCurrentPageIndex():0},addEventTracking:function(b,c,f){if(a.isInitialized())return a.api.addEventTracking(b,
c,f)},initComponentTracking:function(b,c){if(a.isInitialized())return a.api.initComponentTracking(b,c)},isMinimalInterface:function(){return!0}}}};return new b});require(["business/commons/TrackingAdapter"],function(a){});
define("business/commons/components/epaas-notavailable-banner",["jquery"],function(a){var c=function(b){var c=this;c.$element=a(b);c.closeButton=c.$element.find(".close-button")[0];!0===window.epaasNotAvailable&&c._showBanner(c.$element);(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.notavailable",function(){c._showBanner(c.$element)});a(this.closeButton).click(function(){c._hideBanner(c.$element)})},g=c.prototype;g._showBanner=function(a){a.addClass("show-banner")};
g._hideBanner=function(a){a.removeClass("show-banner")};return c});