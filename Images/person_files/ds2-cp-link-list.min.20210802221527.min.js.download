define("ds2-cp-link-list",["jquery","lodash"],function(f,g){return{getLinkById:function(a,b){var c=this.getContext(b);return(a=g.find((window.cpLinkList||{}).links,{linkName:a}))?this.handleNormalButton(a,b,c):this.handleNothing()},handleNothing:function(){return f.Deferred().reject()},handleNormalButton:function(a,b,c){for(var d,e=0;e<c.length&&!(d=a.linkTemplates[c[e]]);e++);return d?(c=d.replace(/\$\{(.+?)\}/g,function(a,c){return b[c]||""}),f.when({linkName:a.linkName,type:a.type,buttonText:a.buttonText,
minNumberOfVehicles:parseInt(a.minNumberOfVehicles),maxNumberOfVehicles:parseInt(a.maxNumberOfVehicles),path:c})):this.handleNothing()},getContext:function(a){var b=[];a.modelCode&&(a.paint||a.fabric||a.options)&&b.push("ALL_OPTIONS");a.modelCode&&b.push("MODEL_CODE");a.modelRangeCode&&b.push("MODEL_RANGE");b.push("NON_CONTEXTUAL");return b}}});