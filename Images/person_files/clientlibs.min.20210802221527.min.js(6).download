var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(g){var e=0;return function(){return e<g.length?{done:!1,value:g[e++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,e,c){g!=Array.prototype&&g!=Object.prototype&&(g[e]=c.value)};$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var g=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+g++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.iterator;g||(g=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&$jscomp.defineProperty(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.asyncIterator;g||(g=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(g){$jscomp.initSymbolIterator();g={next:g};g[$jscomp.global.Symbol.iterator]=function(){return this};return g};
$jscomp.makeIterator=function(g){var e="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return e?e.call(g):$jscomp.arrayIterator(g)};$jscomp.arrayFromIterator=function(g){for(var e,c=[];!(e=g.next()).done;)c.push(e.value);return c};$jscomp.arrayFromIterable=function(g){return g instanceof Array?g:$jscomp.arrayFromIterator($jscomp.makeIterator(g))};
define("ds2-stock-locator-api",["lodash"],function(g){return function(e){function c(b){if(d[b])return d[b].exports;var a=d[b]={i:b,l:!1,exports:{}};return e[b].call(a.exports,a,a.exports,c),a.l=!0,a.exports}var d={};return c.m=e,c.c=d,c.d=function(b,a,f){c.o(b,a)||Object.defineProperty(b,a,{enumerable:!0,get:f})},c.r=function(b){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(b,"__esModule",{value:!0})},c.t=function(b,a){if((1&a&&(b=c(b)),8&a)||4&a&&"object"==typeof b&&b&&b.__esModule)return b;var f=Object.create(null);if(c.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:b}),2&a&&"string"!=typeof b)for(var k in b)c.d(f,k,function(a){return b[a]}.bind(null,k));return f},c.n=function(b){var a=b&&b.__esModule?function(){return b.default}:function(){return b};return c.d(a,"a",a),a},c.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,
a)},c.p="",c(c.s=3)}([function(e,c){e.exports=g},function(e,c,d){var b;void 0===(b=function(a){Object.defineProperty(a,"__esModule",{value:!0});a.DEGREE_OF_ELECTRIFICATION_REX_BEV_WITH_RANGE_EXTENDER=a.DEGREE_OF_ELECTRIFICATION_BEV_FULL_ELECTRIC=a.DEGREE_OF_ELECTRIFICATION_MHEV_MILD_HYBRID=a.DEGREE_OF_ELECTRIFICATION_PHEV_PLUGIN_HYBRID=a.DEGREE_OF_ELECTRIFICATION_NOHY_NO_HYBRID=a.STOCK_TYPE_MAPPING=a.VEHICLE_STOCK_TYPE_CENTRAL_STOCK=a.DEFAULT_METADATA_REQUEST_BODY=a.DEFAULT_REQUEST_BODY=a.VALIDITY_VALID=
a.AVAILABILITIES=a.AVAILABILITY_AVAILABLE=a.PRODUCT_TYPES=a.PRODUCT_TYPE_CAR=a.BRANDS=a.BRAND_BMW_I=a.BRAND_BMW=void 0;a.BRAND_BMW="BMW";a.BRAND_BMW_I="BMWi";var f=["BMW","BMWi"];a.BRANDS=f;a.PRODUCT_TYPE_CAR="CAR";var b=["CAR"];a.PRODUCT_TYPES=b;a.AVAILABILITY_AVAILABLE="AVAILABLE";var h=["AVAILABLE"];a.AVAILABILITIES=h;a.VALIDITY_VALID="VALID";var c={validityEmissionDataBasedOnDegreeOfElectrification:"VALID",validityFuelType:"VALID",validityPowerKw:"VALID",validityTimeFrom0To100Kmh:"VALID",validityTransmission:"VALID",
validityMetaEquipments:"VALID",ivsReserved:!1};a.DEFAULT_REQUEST_BODY=c;f=Object.assign({},c,{availabilities:h,brands:f,productTypes:b});a.DEFAULT_METADATA_REQUEST_BODY=f;a.VEHICLE_STOCK_TYPE_CENTRAL_STOCK="CENTRAL_STOCK";a.STOCK_TYPE_MAPPING={DEALER_PREFERRED:0,CUSTOMER_SOLD_STOCK:1,DEMONSTRATION_STOCK:2,DEALER_NON_PREFERRED:3,CENTRAL_STOCK:4,PRESOLD_DEMO:5,MOTORCYCLE_WINTER_STOCK_BERLIN:6,CORE_STOCK_DIRECT_SALES:7,SHOW_ROOM:8};a.DEGREE_OF_ELECTRIFICATION_NOHY_NO_HYBRID="NOHY_NO_HYBRID";a.DEGREE_OF_ELECTRIFICATION_PHEV_PLUGIN_HYBRID=
"PHEV_PLUGIN_HYBRID";a.DEGREE_OF_ELECTRIFICATION_MHEV_MILD_HYBRID="MHEV_MILD_HYBRID";a.DEGREE_OF_ELECTRIFICATION_BEV_FULL_ELECTRIC="BEV_FULL_ELECTRIC";a.DEGREE_OF_ELECTRIFICATION_REX_BEV_WITH_RANGE_EXTENDER="REX_BEV_WITH_RANGE_EXTENDER"}.apply(c,[c]))||(e.exports=b)},function(e,c,d){var b;d=[c,d(0)];void 0===(b=function(a,b){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,f){return function(h){return Array.isArray(a)&&0!==a.length?((0,b.set)(h.body,f,a),h):h}}}.apply(c,d))||
(e.exports=b)},function(e,c,d){var b;d=[c,d(0),d(4),d(6)];void 0===(b=function(a,b,c,h){Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;c=c&&c.__esModule?c:{default:c};h=h&&h.__esModule?h:{default:h};var f=function(a,b){var c=a.substring(a.indexOf(".html"),-1);c="".concat(c,"-").concat(b);return f.INSTANCES&&f.INSTANCES[c]?f.INSTANCES[c]:(this.stockLocatorUrl=a,this.c2bUrl=b,f.INSTANCES=f.INSTANCES||{},f.INSTANCES[c]=this,this)};f.prototype.loadStockLocatorConfiguration=function(){var a=
this;if(this.config)return Promise.resolve(this.config);if(this.stockLocatorConfigCall)return this.stockLocatorConfigCall;var c=this.stockLocatorUrl.replace(".html","/_jcr_content/stocklocator.api-config.json");return this.stockLocatorConfigCall=fetch(c).then(function(b){if(!b.ok)throw a.stockLocatorConfigCall=null,f.createError("unable to load stock locator configuration",b);return b}).then(function(a){return a.json()}).then(function(f){return a.stockLocatorConfigCall=null,a.config=f,(0,b.set)(a.config,
"c2b.url",a.c2bUrl),a.config}),this.stockLocatorConfigCall};f.prototype.loadDealers=function(){var a=this;return this.dealerData?Promise.resolve(this.dealerData):(this.dealerDataCall||(this.dealerDataCall=(0,c.default)(this.config.c2b||{},this.config.filterByStlFlag).then(function(b){return a.dealerDataCall=null,a.dealerData=b,b}).catch(function(b){throw a.dealerDataCall=null,f.createError("unable to load data from c2b",b.res);})),this.dealerDataCall)};f.prototype.loadAvailableVehicles=function(a){var c=
this,d=(0,b.get)(this,"vsmsCalls.".concat(a));return d||(d=this.loadStockLocatorConfiguration().then(function(){return c.loadDealers()}).then(function(b){return(0,h.default)(c.config,b,a)}).then(function(a){return a.totalCount}).catch(function(h){throw(0,b.set)(c,"vsmsCalls.".concat(a),null),f.createError("unable to load data from vsms",h.res);}),(0,b.set)(this,"vsmsCalls.".concat(a),d),d)};f.createError=function(a,b){var c=b.statusText||"";a=Error("".concat(a," \x3e ").concat(b.status," ").concat(c));
return a.status=b.status,a};a.default=f}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;d=[c,d(0),d(5)];void 0===(b=function(a,b,c){var f;Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,f){a=(0,c.default)(a);return fetch(a.url,{method:"GET",headers:{Accept:"application/json"}}).then(function(a){if(!a.ok){var b=Error("unable to load data from c2b");throw b.res=a,b;}return a}).then(function(a){return a.json()}).then(function(a){return(0,b.get)(a,"data.pois",[])}).then(function(a){return function(a,
c){return a.filter(function(a){return function(c){return a?-1!==(0,b.get)(c,"attributes.requestServices",[]).indexOf("STL"):!0}}(c)).map(function(a){return(0,b.get)(a,"attributes.agDealerCode")})}(a,f)}).catch(function(a){throw a;})};c=(f=c)&&f.__esModule?f:{default:f}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;void 0===(b=function(a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){var b=a.url,c={country:void 0===a.country?"de":a.country,category:void 0===a.category?
"BM":a.category,clientid:void 0===a.clientId?"66_STOCK_DLO":a.clientId};a=Object.keys(c).map(function(a){return"".concat(a,"\x3d").concat(c[a])}).join("\x26");return{url:"".concat(b).concat("/c2b-localsearch/services/cache/v4/ShowAll","?").concat(a)}}}.apply(c,[c]))||(e.exports=b)},function(e,c,d){var b;d=[c,d(7),d(8)];void 0===(b=function(a,b,c){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,f,d){a={baseUrl:a.vsms.url,apiKey:a.vsms.apiKey,stockType:a.vsms.stockType,orderStatus:a.vsms.orderStatus,
ivsProcessingTypes:a.vsms.ivsProcessingTypes,productionQuotaCode:a.vsms.productionQuotaCode,countries:a.market.country,agBusinessNumbers:f,aggregateByVssConfigId:a.vsms.aggregateByVssConfigId,degreeOfElectrificationFilter:a.vsms.degreeOfElectrificationFilter||{}};d&&(d=(0,b.default)([d]),a.filters=[d]);return(0,c.default)(a)};b=b&&b.__esModule?b:{default:b};c=c&&c.__esModule?c:{default:c}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;d=[c,d(2)];void 0===(b=function(a,b){var c;Object.defineProperty(a,
"__esModule",{value:!0});a.default=function(a){return(0,b.default)(a,"model.modelRange")};b=(c=b)&&c.__esModule?c:{default:c}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;d=[c,d(9),d(16)];void 0===(b=function(a,b,c){var d;Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){var d=(0,b.default)(a);return(0,c.sendPostRequest)(d.url,a.apiKey,d.body).then(function(a){if(!a.ok){var b=Error("unable to load data from vsms");throw b.res=a,b;}return a}).then(function(a){return a.json()})};
b=(d=b)&&d.__esModule?d:{default:d}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;d=[c,d(1),d(10),d(11),d(12),d(13)];void 0===(b=function(a,b,c,d,e,g){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){var f=a.baseUrl,h=void 0===a.agBusinessNumbers?[]:a.agBusinessNumbers,k=void 0===a.countries?"de":a.countries,l=void 0===a.filters?[]:a.filters,m=a.productionQuotaCode,q=a.orderStatus,p=a.ivsProcessingTypes,r=a.stockType,t=
a.aggregateByVssConfigId;a=a.degreeOfElectrificationFilter;var n={countries:k,consumer:"stockLocator_".concat(k)};k=Object.keys(n).map(function(a){return"".concat(a,"\x3d").concat(n[a])}).join("\x26");f="".concat(f,"/").concat("prefetch/v1/prefetchAggregation","?").concat(k);m=(0,d.default)({productionQuotaCode:m,orderStatus:q,ivsProcessingTypes:p,stockType:r,aggregateByVssConfigId:t});h=(0,e.default)(h);h={url:f,body:Object.assign({},b.DEFAULT_METADATA_REQUEST_BODY,m,h)};l=(0,g.default)(l,a);return(0,
c.default)(h,l)};c=f(c);d=f(d);e=f(e);g=f(g)}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;void 0===(b=function(a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,b){if(!Array.isArray(b)||0===b.length)return a;var c=a;return b.forEach(function(a){(a=a(c))&&(c=a)}),c}}.apply(c,[c]))||(e.exports=b)},function(e,c,d){var b;d=[c,d(1)];void 0===(b=function(a,b){function c(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,
b).enumerable}));c.push.apply(c,d)}return c}function d(a){for(var b=1;b<arguments.length;b++){var d=null!=arguments[b]?arguments[b]:{};b%2?c(Object(d),!0).forEach(function(b){var c=d[b];b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):c(Object(d)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(d,b))})}return a}Object.defineProperty(a,
"__esModule",{value:!0});a.default=function(a){var b=a.productionQuotaCode,c=a.orderStatus,e=a.ivsProcessingTypes,g=a.stockType;a={unique:void 0===a.aggregateByVssConfigId?!1:a.aggregateByVssConfigId};c=c&&(c.min||c.max)?d(d({},a),{},{ivsxStatus:[{minValue:c.min,maxValue:c.max}]}):a;a=function(a,b){if(!b)return a;b=b.split(",").map(function(a){return a.trim()});return d(d({},a),{},{ivsProcessingTypes:b})}(c,e);a=function(a,b){if(!b)return a;b=b.split(",").map(function(a){a=a.trim();return f[a]}).filter(function(a){return!!a});
return d(d({},a),{},{stockType:b})}(a,g);b=b?d(d({},a),{},{productionQuotaCode:[b]}):a;return a=b,a};var f=Object.keys(b.STOCK_TYPE_MAPPING).reduce(function(a,c){return a[b.STOCK_TYPE_MAPPING[c]]=c,a},{})}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;void 0===(b=function(a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,b){var c={};Array.isArray(b)&&0<b.length&&(c.excludedBuNos=b);Array.isArray(a)&&0<a.length&&(c.buNos=a);return c}}.apply(c,[c]))||(e.exports=b)},function(e,
c,d){var b;d=[c,d(14),d(15)];void 0===(b=function(a,b,c){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!d.isEnabled)return a;d=(0,c.default)(d);return[(0,b.default)(d)].concat($jscomp.arrayFromIterable(a))};b=b&&b.__esModule?b:{default:b};c=c&&c.__esModule?c:{default:c}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;d=[c,d(2)];void 0===(b=function(a,b){var c;Object.defineProperty(a,"__esModule",{value:!0});
a.default=function(a,c,d){return(0,b.default)(a,"degreeOfElectrification",d)};b=(c=b)&&c.__esModule?c:{default:c}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;d=[c,d(1)];void 0===(b=function(a,b){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){var c=[];a.showNohy&&c.push(b.DEGREE_OF_ELECTRIFICATION_NOHY_NO_HYBRID);a.showHybrid&&c.push(b.DEGREE_OF_ELECTRIFICATION_PHEV_PLUGIN_HYBRID);a.showElectric&&c.push(b.DEGREE_OF_ELECTRIFICATION_BEV_FULL_ELECTRIC);a.showMhev&&c.push(b.DEGREE_OF_ELECTRIFICATION_MHEV_MILD_HYBRID);
a.showRex&&c.push(b.DEGREE_OF_ELECTRIFICATION_REX_BEV_WITH_RANGE_EXTENDER);return c}}.apply(c,d))||(e.exports=b)},function(e,c,d){var b;void 0===(b=function(a){function b(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:window.fetch,f={method:c,headers:{KeyID:b,Accept:"application/json","Content-Type":"application/json"}};return d&&(f.body=JSON.stringify(d)),e(a,f)}Object.defineProperty(a,"__esModule",{value:!0});a.sendRequest=b;a.sendPostRequest=function(a,c,d){return b(a,c,
"POST",d)};a.sendGetRequest=function(a,c){return b(a,c,"GET")}}.apply(c,[c]))||(e.exports=b)}])});