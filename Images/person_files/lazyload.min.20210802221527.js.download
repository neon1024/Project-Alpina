(function(c){"function"==typeof c&&c.nextId("lazyload")})(window.define);var _extends=Object.assign||function(c){for(var e=1;e<arguments.length;e++){var h=arguments[e],g;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&(c[g]=h[g])}return c},_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};
(function(c,e){"object"===("undefined"===typeof exports?"undefined":_typeof(exports))&&"undefined"!==typeof module?module.exports=e():"function"===typeof define&&define.amd?define(e):c.LazyLoad=e()})(this,function(){function c(a){return a.filter(function(a){return"true"!==a.getAttribute("data-was-processed")})}function e(a,b){if(b.length)for(var d=0,c;c=b[d];d+=1)h(a,c);else h(a,b)}var h=function(a,b){a=new a(b);try{var d=new CustomEvent("LazyLoad::Initialized",{detail:{instance:a}})}catch(x){d=document.createEvent("CustomEvent"),
d.initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:a})}window.dispatchEvent(d)},g=function(a,b,d){for(var c=0,e;e=a.children[c];c+=1)if("SOURCE"===e.tagName){var f=e.getAttribute("data-"+d);f&&e.setAttribute(b,f)}},k="undefined"!==typeof window,r=k&&"IntersectionObserver"in window,m=k&&"classList"in document.createElement("p"),n=function(a,b){m?a.classList.add(b):a.className+=(a.className?" ":"")+b},v=function(a,b){var d=function t(d){p(d,!0,b);d=c;a.removeEventListener("load",t);a.removeEventListener("error",
d)},c=function u(c){p(c,!1,b);a.removeEventListener("load",d);a.removeEventListener("error",u)};a.addEventListener("load",d);a.addEventListener("error",c)},p=function(a,b,d){a=a.target;var c=d.class_loading;m?a.classList.remove(c):a.className=a.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"");n(a,b?d.class_loaded:d.class_error);(b=b?d.callback_load:d.callback_error)&&b(a)},w=function(a){return{root:a.container===document?null:a.container,rootMargin:a.threshold+
"px"}},l=function(a,b){this._settings=_extends({},{elements_selector:"img",container:document,threshold:300,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",class_loading:"loading",class_loaded:"loaded",class_error:"error",callback_load:null,callback_error:null,callback_set:null,callback_enter:null},a);this._setObserver();this.update(b)};l.prototype={_setObserver:function(){var a=this;r&&(this._observer=new IntersectionObserver(function(b){b.forEach(function(b){if(b.isIntersecting||0<b.intersectionRatio)b=
b.target,a.load(b),a._observer.unobserve(b)});a._elements=c(a._elements)},w(this._settings)))},loadAll:function(){var a=this;this._elements.forEach(function(b){a.load(b)});this._elements=c(this._elements)},update:function(a){var b=this,d=this._settings;a=a||d.container.querySelectorAll(d.elements_selector);this._elements=c(Array.prototype.slice.call(a));this._observer?this._elements.forEach(function(a){b._observer.observe(a)}):this.loadAll()},destroy:function(){var a=this;this._observer&&(c(this._elements).forEach(function(b){a._observer.unobserve(b)}),
this._observer=null);this._settings=this._elements=null},load:function(a,b){var d=this._settings;if(b||"true"!==a.getAttribute("data-was-processed")){(b=d.callback_enter)&&b(a);-1<["IMG","IFRAME","VIDEO"].indexOf(a.tagName)&&(v(a,d),n(a,d.class_loading));var c=d.data_sizes,e=d.data_srcset,f=d.data_src;b=a.getAttribute("data-"+f);switch(a.tagName){case "IMG":(f=a.parentNode)&&"PICTURE"===f.tagName&&g(f,"srcset",e);(c=a.getAttribute("data-"+c))&&a.setAttribute("sizes",c);(e=a.getAttribute("data-"+e))&&
a.setAttribute("srcset",e);b&&a.setAttribute("src",b);break;case "IFRAME":b&&a.setAttribute("src",b);break;case "VIDEO":g(a,"src",f);b&&a.setAttribute("src",b);break;default:b&&(a.style.backgroundImage='url("'+b+'")')}a.setAttribute("data-was-processed","true");(d=d.callback_set)&&d(a)}}};var q=window.lazyLoadOptions;k&&q&&e(l,q);return l});